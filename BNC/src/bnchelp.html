<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<h3>BKG Ntrip Client (BNC) Version 2.12.0 Manual</h3>

<p>
The BKG Ntrip Client (BNC) is a program for simultaneously retrieving, decoding, converting and processing real-time GNSS data streams. It has been developed within the framework of the IAG sub-commission for Europe (EUREF) and the International GNSS Service (IGS). Although meant as a real-time tool, it comes with some Post Processing functionality. You may like to use it for data coming from NTRIP Broadcasters like
<ul>
<li><u>http://www.euref-ip.net/home</u>,</li>
<li><u>http://www.igs-ip.net/home</u>,</li>
<li><u>http://products.igs-ip.net/home</u>,</li>
<li><u>http://mgex.igs-ip.net/home</u>. </li>
</ul>
</p>

<p>
BNC has been written under GNU General Public License (GPL). Source code is available from Subversion software archive <u>http://software.rtcm-ntrip.org/svn/trunk/BNC.</u> Binaries for BNC are available for Windows, Linux, and Mac OS X systems. We used the MinGW Version 4.4.0 compiler to create the Windows binaries. It is likely that BNC can be compiled on other systems where a GNU compiler and Qt Version 4.8.4 or any later version are installed. Please ensure that you always use the latest precompiled version of BNC available from <u>http://igs.bkg.bund.de/ntrip/download</u>. Note that static and shared builds of BNC are made available. A <u>static</u> build would be sufficient in case you don't want BNC to trace PPP results using Google Map (GM) or Open StreetMap (OSM). However, GM/OSM usage requires the QtWebKit library which can only be part of BNC builds from <u>shared</u> libraries. Using a shared library BNC build requires that you first install your own shared Qt library. The 'README.txt' file which comes with the BNC source code describes how to install Qt on Windows, Linux and Mac systems.
</p>
<p>
Feel free to send us comments, suggestions or bug reports. Your contribution would be appreciated.
</p>

<p><b>Contents</b><br>
<a href="#purpose">1. Purpose</a><br>
<a href="#opthandling">2. Handling</a><br>
<a href="#optsettings">3. Settings</a><br>
<a href="#limits">4. Limitations</a><br>
<a href="#annex">5. Annex</a>
</p>

<p>
<b><a name="authors">Authors</b><br>
The BKG Ntrip Client (BNC) and its Qt Graphical User Interface (GUI) has been developed for
</p>
<p>
Federal Agency for Cartography and Geodesy (BKG)<br>
c/o Dr. Georg Weber<br>
Department of Geodesy<br>
Frankfurt, Germany<br>
[euref-ip@bkg.bund.de] or [igs-ip@bkg.bund.de]
</p>

<p>
BNC was written by
</p>

<p>
Prof. Dr. Leos Mervart<br>
Czech Technical University (CTU)<br>
Department of Geodesy<br>
Prague, Czech Republic
</p>

<p>
While work on BNC startet in June 2005, Prof. Mervart's sole responsibility for the progam code and concept lasted till February 2015. Since March 2015 the expert in charge for further develoments is 
</p>

<p>
Dipl.-Ing. Andrea St&uuml;rze<br>
Federal Agency for Cartography and Geodesy (BKG)<br>
Department of Geodesy<br>
Section Navigation<br>
Frankfurt, Germany<br>
[andrea.stuerze@bkg.bund.de]
</p>

<p>
BNC includes the following GNU GPL software components:
<ul>
<li> RTCM 2 decoder, written by Oliver Montenbruck, German Space Operations Center, DLR, Oberpfaffenhofen, Germany;</li>
<li> RTCM 3 decoder for conventional and MSM observation messages and a RTCM 3 encoder & decoder for SSR messages, both written for BKG by Dirk Stoecker, Alberding GmbH, Schoenefeld, Germany.</li>
</ul>
</p>
<p>
Note that some figures presented in this documentation show screenshots from earlier versions of BNC. If so then there is either no relevant change compared to the current appearance of the program or no change at all.
</p>

<p>
<b>Acknowledgements</b><br>
<ul>
<li>
Thomas Yan, Australian NSW Land and Property Information, proofread earlier versions of BNC's Help Contents. Up to Version 2.11 he also provides builds of BNC for Mac OS X systems.
</li>
<li>
Scott Glazier, OmniSTAR Australia, has been helpful in finding BNC bugs in version 1.5.
</li>
<li>
James Perlt, BKG, helped fixing bugs and redesigned BNC's main window in version 1.5.
</li>
<li>
Andre Hauschild, German Space Operations Center, DLR, revised the RTCM Version 2 decoder.
</li>
<li>
Zdenek Lukes, Czech Technical University Prague, Department of Geodesy, extended the RTCM Version 2 decoder to handle message types 3, 20, 21, and 22 and added the loss of lock indicator.
</li>
<li>
Jan Dousa, Geodetic Observatory Pecny, Czech Republic, helped with fixing bugs in version 2.5.
</li>
<li>
Denis Laurichesse, Centre National d'Etudes Spatiales (CNES), suggested synchronizing observations and clock corrections to reduce high frequency noise in PPP solutions.
</li>
<li>
Lennard Huisman, Kadaster Netherlands, and Rolf Dach, Astronomical Institute University of Bern, assisted in handling satellite clocks in transformations from ITRF to regional reference frames.
</li>
</ul>
</p>

<p><a name="purpose"><h3>1. Purpose</h3></p>

<p> The purpose of BNC is to
<ul>
<li>Retrieve real-time GNSS data streams available through NTRIP transport protocol;</li>
<li>Retrieve real-time GNSS data streams via TCP directly from an IP address without using the NTRIP transport protocol;</li>
<li>Retrieve real-time GNSS data streams from a local UDP or serial port without using the NTRIP transport protocol;</li>
<li>Plot stream distribution map from NTRIP Broadcaster source-tables;</li>
<li>Generate RINEX Observation and Navigation files to support near real-time GNSS Post Processing applications;</li>
<li>Edit or concatenate RINEX files or carry out RINEX Quality Checks (QC);</li>
<li>Convert RINEX Version 2 to RINEX Version 3 and vice versa;</li>
<li>Compare SP3 files containing satellite orbit and clock data;</li>
<li>Generate orbit and clock corrections to Broadcast Ephemeris through an IP port to</li>
<ul>
<li>support real-time Precise Point Positioning on GNSS rovers;</li>
<li>support the (outside) combination of such streams as coming simultaneously from various correction providers;</li>
</ul>
<li>Generate ephemeris and synchronized or unsynchronized observations epoch by epoch through an IP port to support real-time GNSS network engines;</li>
<li>Feed a stream into a GNSS receiver via serial communication link;</li>
<li>Monitor the performance of a network of real-time GNSS data streams to generate advisory notes in case of outages or corrupted streams;</li>
<li>Scan RTCM streams for incoming antenna information as well as observation types and message types and their repetition rates and latencies;</li>
<li>Carry out real-time Precise Point Positioning to determine GNSS rover positions;</li>
<li>Plot positions derived via PPP from RTCM streams or RINEX files on maps from Google Map or Open StreetMap;</li>
<li>Simultaneously process several Broadcast Correction streams to produce, encode and upload combined Broadcast Corrections;</li>
<li>Read GNSS orbits and clocks in a plain ASCII format from an IP port. They can be produced by a real-time GNSS engine such as RTNET and should be referenced to the IGS Earth-Centered-Earth-Fixed (ECEF) reference system. BNC will then</li>
<ul>
<li>Convert the IGS Earth-Centered-Earth-Fixed orbits and clocks into Broadcast Corrections with radial, along-track and cross-track components;</li>
<li>Upload Broadcast Corrections as an RTCM Version 3 stream to an NTRIP Broadcaster;</li>
<li>Refer the orbit and clock corrections to a specific reference system;</li>
<li>Log the Broadcast Corrections as Clock RINEX files for further processing using other tools than BNC;</li>
<li>Log the Broadcast Corrections as SP3 files for further processing using other tools than BNC;</li>
</ul>
<li>Upload a Broadcast Ephemeris stream in RTCM Version 3 format;</li>
</ul>
</p>

<p>
BNC supports the following GNSS stream formats and message types:
</p>
<p>
<ul>
<li>RTCM Version 2 message types; </li>
<li>RTCM Version 3 'conventional' message types;</li>
<li>RTCM Version 3 message types for Broadcast Ephemeris;</li>
<li>RTCM Version 3 'State Space Representation' (SSR) messages;</li>
<li>RTCM Version 3 'Multiple Signal Messages' (MSM) and 'High Precision Multiple Signal Messages' (HP MSM);</li>
<li>RTNET, a plain ASCII format defined within BNC to receive orbits and clocks from a serving GNSS engine.
</ul>
</p>
<p>
Note that BNC allows to by-pass its decoding and conversion algorithms for incoming streams, leave whatever is received untouched to save it in files or output it through local TCP/IP port.
</p>

<p><a name="suppGNSS"><h3>1.1 Supported Systems</h3></p>
<p>
BNC is permanently completed to finally support all existing GNSS systems throughout all features of the program. The table below shows in detail which GNSS systems are so far supported by particular applications when using the latest BNC version. Application areas named here are:
<ul>
<li>Decoding of RTCM or RTNET streams</li>
<li>RINEX and SP3 file input and output</li>
<li>Encoding of SSR and ephemeris messages</li>
<li>Upload of SSR and ephemeris messages</li>
<li>PPP (Precise Point Positioning)</li>
<li>Combining/merging SSR or ephemeris messages from various real-time sources</li>
</ul>
The table mentions if a message implementation in BNC could so far only be based on a 'RTCM Proposal'.
</p>
<p><u>Table:</u> Status of RTCM Version 3 message implementations in BNC supporting various GNSS systems</p>

<p></p>
<table border="1" rules="rows" frame="box" bgcolor="#FFF5EE" style="font-size:13">

<tr><td><b>Message<br>Type #</b></td> <td><b>Description</b></td> <td><b>GNSS<br>System</b></td> <td><b>RTCM<br>Proposal&nbsp;</b></td> <td><b>Decoding&nbsp;</b></td> <td><b>&nbsp;RINEX/&nbsp;<br>&nbsp;SP3</b></td> <td><b>Encoding&nbsp;</b></td> <td><b>Upload&nbsp;</b></td> <td><b>&nbsp;PPP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></td> <td><b>Combin.&nbsp;</b></td> </tr>

<tr> <td><b><br>General</b></td> <td></td>             <td></td>              <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1005,1006</td> <td>Station</td>               <td> </td>             <td> </td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1007,1008</td> <td>Antenna</td>               <td> </td>             <td> </td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1033</td>      <td>Receiver, Antenna</td>     <td> </td>             <td> </td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1013</td>      <td>System Parameters</td>     <td> </td>             <td> </td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>

<tr> <td><b><br>Navigation</b></td> <td></td>          <td></td>              <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1019</td> <td>Ephemeris</td>                  <td>GPS</td>           <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> </tr>
<tr> <td>1020</td> <td>Ephemeris</td>                  <td>GLONASS</td>       <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> </tr>
<tr> <td>1045</td> <td>Ephemeris</td>                  <td>Galileo F/Nav</td> <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> </tr>
<tr> <td>1046</td> <td>Ephemeris</td>                  <td>Galileo I/Nav</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> </tr>
<tr> <td>1043</td> <td>Ephemeris</td>                  <td>SBAS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1044</td> <td>Ephemeris</td>                  <td>QZSS</td>          <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>63</td>   <td>Ephemeris</td>                  <td>BDS</td>           <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>

<tr> <td><b><br>Observation</b></td> <td></td>         <td></td>              <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1001-4</td>  <td>Conventional Messages</td>   <td>GPS</td>           <td> </td> <td>x</td> <td>x</td> <td> </td> <td> </td> <td>x</td> <td> </td> </tr>
<tr> <td>1009-12</td> <td>Conventional Messages</td>   <td>GLONASS</td>       <td> </td> <td>x</td> <td>x</td> <td> </td> <td> </td> <td>x</td> <td> </td> </tr>

<tr> <td><b><br>Observation</b></td> <td></td>         <td></td>              <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1071-77</td> <td>Multiple Signal Message</td> <td>GPS</td>           <td> </td> <td>x</td> <td>x</td> <td> </td> <td> </td> <td>x</td> <td> </td> </tr>
<tr> <td>1081-87</td> <td>Multiple Signal Message</td> <td>GLONASS</td>       <td> </td> <td>x</td> <td>x</td> <td> </td> <td> </td> <td>x</td> <td> </td> </tr>
<tr> <td>1091-97</td> <td>Multiple Signal Message</td> <td>Galileo</td>       <td> </td> <td>x</td> <td>x</td> <td> </td> <td> </td> <td>x</td> <td> </td> </tr>
<tr> <td>1101-07</td> <td>Multiple Signal Message</td> <td>SBAS</td>          <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1111-17</td> <td>Multiple Signal Message</td> <td>QZSS</td>          <td> </td> <td>x</td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1121-27</td> <td>Multiple Signal Message</td> <td>BDS</td>           <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>

<tr> <td><b><br>SSR I</b></td> <td></td>               <td></td>              <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1057</td> <td>Orbit Corrections</td>          <td>GPS</td>           <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> </tr>
<tr> <td>1063</td> <td>Orbit Corrections</td>          <td>GLONASS</td>       <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> </tr>
<tr> <td>1240</td> <td>Orbit Corrections</td>          <td>Galileo</td>       <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> </tr>
<tr> <td>1246</td> <td>Orbit Corrections</td>          <td>SBAS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1252</td> <td>Orbit Corrections</td>          <td>QZSS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1258</td> <td>Orbit Corrections</td>          <td>BDS</td>           <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>

<tr> <td>1058</td> <td>Clock Corrections</td>          <td>GPS</td>           <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> </tr>
<tr> <td>1064</td> <td>Clock Corrections</td>          <td>GLONASS</td>       <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> </tr>
<tr> <td>1241</td> <td>Clock Corrections</td>          <td>Galileo</td>       <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> </tr>
<tr> <td>1247</td> <td>Clock Corrections</td>          <td>SBAS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1253</td> <td>Clock Corrections</td>          <td>QZSS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1259</td> <td>Clock Corrections</td>          <td>BDS</td>           <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>

<tr> <td>1059</td> <td>Code Biases</td>                <td>GPS</td>           <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> </tr>
<tr> <td>1065</td> <td>Code Biases</td>                <td>GLONASS</td>       <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> </tr>
<tr> <td>1242</td> <td>Code Biases</td>                <td>Galileo</td>       <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> </tr>
<tr> <td>1248</td> <td>Code Biases</td>                <td>SBAS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1254</td> <td>Code Biases</td>                <td>QZSS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1260</td> <td>Code Biases</td>                <td>BDS</td>           <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>

<tr> <td>1061, 1062</td> <td>User Range Accuracy, HR&nbsp;</td> <td>GPS</td>        <td> </td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1067, 1068</td> <td>User Range Accuracy, HR&nbsp;</td> <td>GLONASS</td>    <td> </td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1244, 1245</td> <td>User Range Accuracy, HR&nbsp;</td> <td>Galileo</td>    <td>x</td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1250, 1251</td> <td>User Range Accuracy, HR&nbsp;</td> <td>SBAS</td>       <td>x</td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1256, 1257</td> <td>User Range Accuracy, HR&nbsp;</td> <td>QZSS</td>       <td>x</td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1262, 1263</td> <td>User Range Accuracy, HR&nbsp;</td> <td>BDS</td>        <td>x</td> <td>x</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>

<tr> <td>1060</td> <td>Comb. Orbits & Clocks</td>      <td>GPS</td>           <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> </tr>
<tr> <td>1066</td> <td>Comb. Orbits & Clocks</td>      <td>GLONASS</td>       <td> </td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> </tr>
<tr> <td>1243</td> <td>Comb. Orbits & Clocks</td>      <td>Galileo</td>       <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> </tr>
<tr> <td>1249</td> <td>Comb. Orbits & Clocks</td>      <td>SBAS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1255</td> <td>Comb. Orbits & Clocks</td>      <td>QZSS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1261</td> <td>Comb. Orbits & Clocks</td>      <td>BDS</td>           <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>

<tr> <td><b><br>SSR II</b></td> <td></td>               <td></td>             <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> </tr>
<tr> <td>1264</td> <td>VTEC</td>                       <td>GNSS </td>         <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1265</td> <td>Phase Biases</td>               <td>GPS</td>           <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1266</td> <td>Phase Biases</td>               <td>GLONASS</td>       <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1267</td> <td>Phase Biases</td>               <td>Galileo</td>       <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1268</td> <td>Phase Biases</td>               <td>SBAS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1269</td> <td>Phase Biases</td>               <td>QZSS</td>          <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>
<tr> <td>1270</td> <td>Phase Biases</td>               <td>BDS</td>           <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td>x</td> <td> </td> <td> </td> </tr>

</table>
<br>

<p><a name="dataFlow"><h3>1.2 Data Flow</h3></p>

<p>
BNC can be used in different contexts with varying data flows. Typical real-time communication follows the Ntrip protocol over TCP/IP (probably via SSL), RTSP/RTP or UDP, plain TCP/IP protocol, or serial communication links. Stream contents could be observations, ephemeris, satellite orbit/clock products or NMEA sentences.
</p>
<p>
 The first of the following figures shows a flow chart of BNC connected to a GNSS receiver providing observations via serial or TCP communication link for the purpose of Precise Point Positioning. The second figure shows the conversion of RTCM streams to RINEX files. The third figure shows a flow chart of BNC feeding a real-time GNSS engine which estimates precise orbits and clocks. BNC is used in this scenario to encode correctors to RTCM Version 3 and upload them to an NTRIP Broadcaster. The fourth figure shows BNC combining several Broadcast Correction streams to disseminate the combination product while saving results in SP3 and Clock RINEX files.
</p>
<p><img src="IMG/screenshot10.png"/></p>
<p><u>Figure 1:</u> Flowchart, BNC connected to a GNSS rover for Precise Point Positioning.</p>

<p>
</p>
<p><img src="IMG/screenshot01.png"/></p>
<p><u>Figure 2:</u> Flowchart, BNC converting RTCM streams to RINEX batches.</p>

<p>
</p>
<p><img src="IMG/screenshot02.png"/></p>
<p><u>Figure 3:</u> Flowchart, BNC feeding a real-time GNSS engine and uploading encoded Broadcast Corrections.</p>

<p>
</p>
<p><img src="IMG/screenshot19.png"/></p>
<p><u>Figure 4:</u> Flowchart, BNC combining Broadcast Correction streams.</p>

<p><a name="opthandling"><h3>2. Handling</h3></p>
<p>
Although BNC is mainly a real-time tool to be operated online, it can be run offline
<ul>
<li>To simulate real-time observation situations for debugging purposes;</li>
<li>For Post Processing purposes.</li>
</ul>
Furthermore, apart from its regular window mode, BNC can be run as a batch/background job in a 'no window' mode using processing options from a previously saved configuration or from command line.
</p>
<p>
Unless it runs offline, BNC
</p>
<ul>
<li>Requires access to the Internet with a minimum of about 2 to 6 kbits/sec per stream depending on the stream format and the number of visible satellites. You need to make sure that the connection can sustain the required bandwidth;</li>
<li>Requires the clock of the host computer to be properly synchronized;</li>
<li>Has the capacity to retrieve hundreds of GNSS data streams simultaneously. Please be aware that such usage may incur a heavy load on the NTRIP Broadcaster side depending on the number of streams requested. We recommend limiting the number of streams where possible to avoid unnecessary workload.</li>
</ul>
</p>

<p>
The main window of BNC shows a 'Top menu bar' section, a 'Settings' sections with tabs to set processing options, a 'Streams' section, a section for 'Log' tabs, and a 'Bottom menu bar' section, see figure below.
</p>
<p><img src="IMG/screenshot09.png"/></p>
<p><u>Figure 5:</u> Sections on BNC's main window.</p>

<p>
Running BNC in interactive mode requires graphics support. This is also
required in batch mode when producing plots. Windows and Mac OS X systems always
support graphics. However, when using BNC in batch mode on Linux systems for
producing plots, you need to make sure that at least a virtual X-Server like
'Xvfb' is installed and the '-display' command-line option is used.
</p>

<p>
The usual handling of BNC is that you first select a number of streams ('Add Stream'). Any stream configured to BNC shows up on the 'Streams' canvas in the middle of BNC's main window. You then go through BNC's various configuration tabs to select a combination of input, processing and output options before you start the program ('Start'). Most configuration tabs are dedicated to a certain functionality of BNC. If the first option field on such a configuration tab is empty, the affected functionality is - apart from a few exceptions - deactivated.</p>

Records of BNC's activities are shown in the 'Log' tab. The bandwidth consumption per stream, the latency of incoming observations and a PPP time series for coordinates are shown in the 'Throughput', 'Latency' and 'PPP Plot' tabs of the main window.
</p>

<p><a name="optconfig"><h3>2.1 Configuration Management</h3></p>
<p>
As a default, configuration files for running BNC on Unix/Linux/Mac OS X systems are saved in directory '${HOME}/.config/BKG'. On Windows systems, they are typically saved in directory 'C:/Documents and Settings/Username/.config/BKG'. The default configuration file name is 'BNC.bnc'.</p>
<p>
The default file name 'BNC.bnc' can be changed and the file contents can easily be edited. On graphical user interfaces it is possible to Drag &amp; Drop a configuration file icon to start BNC (not on Mac OS X systems). Some configuration options can be changed on-the-fly. See annexed 'Configuration Examples' for a complete set of configuration options. It is also possible to start and configure BNC via command line.
</p>

<p>
BNC maintains configuration options at three different levels:
</p>

<ol type=b>
<li>GUI, input fields level</li>
<li>Active configuration level</li>
<li>Configuration file, disk level</li>
</ol>

<p><img src="IMG/screenshot31.png"/></p>
<p><u>Figure 6:</u> Management of configuration options in BNC:<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Left: BNC in graphics mode where active configuration options are introduced through<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GUI input fields and finally saved on disk.<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Middle: BNC in 'no window' mode where active configuration options are read from disk.<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Right: BNC in 'no window' mode without configuration file where default configuration<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; options can be replaced via command line options.</p>

<p>
Configuration options are usually specified using GUI input fields (1) after launching BNC. When hitting the 'Start' button, configuration options are transferred one level down to become BNC's active configuration (2) allowing the program to begin its operation. Pushing the 'Stop' button ends data processing so that the user can finally terminate BNC through 'File'->'Quit'->'Save Options' which saves processing options in a configuration file to disk (3). It is important to understand that:
<ul>
<li>Active configuration options (2) are independent from GUI input fields and configuration file contents.</li>
<li>Hence changing configuration options at GUI level (1) while BNC is already processing data does not influence a running job.</li>
<li>Editing configuration options at disk level (3) while BNC is already processing data does also not influence a running job. However, there are two exceptions which force BNC to update certain active options on-the-fly:</li>
<ul>
<li>Pushing the 'Reread & Save Configuration' button lets BNC immediately reread its configuration from GUI input fields to make them active configuration options. Then BNC saves them on disk.</li>
<li>Specifying the 'Reread configuration' option lets BNC reread its configuration from disk at pre-defined intervals.</li>
</ul>
<li>A certain BNC configuration can be started in 'no window' mode from scratch without any configuration file if options for the active configuration level (2) are provided via command line.</li>
</ul>
</p>

<p><a name="optsettings"><h3>3. Settings</h3></p>
<p>
This chapter describes how to set the BNC program options. It explains the 'Top Menu Bar', the 'Settings Canvas' with the processing options, the 'Streams Canvas' and 'Log Canvas', and the 'Bottom Menu Bar'.
</p>
<p>
<b>Top Menu Bar</b><br>
3.1. <a href=#topmenu>Top Menu Bar</a><br>
&nbsp; &nbsp; &nbsp; 3.1.1 <a href=#file>File</a><br>
&nbsp; &nbsp; &nbsp; 3.1.2 <a href=#help>Help</a><br><br>
<b>Settings Canvas</b><br>
3.2. <a href=#network>Network</a><br>
&nbsp; &nbsp; &nbsp; 3.2.1 <a href=#proxy>Proxy</a><br>
&nbsp; &nbsp; &nbsp; 3.2.2 <a href=#ssl>SSL</a><br>
3.3. <a href=#general>General</a><br>
&nbsp; &nbsp; &nbsp; 3.3.1. <a href=#genlog>Logfile</a><br>
&nbsp; &nbsp; &nbsp; 3.3.2. <a href=#genapp>Append Files</a><br>
&nbsp; &nbsp; &nbsp; 3.3.3. <a href=#genconf>Reread Configuration</a><br>
&nbsp; &nbsp; &nbsp; 3.3.4. <a href=#genstart>Auto Start</a><br>
&nbsp; &nbsp; &nbsp; 3.3.5. <a href=#rawout>Raw Output File</a><br>
3.4. <a href=#rinex>RINEX Observations</a><br>
&nbsp; &nbsp; &nbsp; 3.4.1. <a href=#rnxname>File Names</a><br>
&nbsp; &nbsp; &nbsp; 3.4.2. <a href=#rnxdir>Directory</a><br>
&nbsp; &nbsp; &nbsp; 3.4.3. <a href=#rnxinterval>File Interval</a><br>
&nbsp; &nbsp; &nbsp; 3.4.4. <a href=#rnxsample>Sampling</a><br>
&nbsp; &nbsp; &nbsp; 3.4.5. <a href=#rnxskl>Skeleton Extension</a><br>
&nbsp; &nbsp; &nbsp; 3.4.6. <a href=#sklMandat>Skeleton Mandatory</a><br>
&nbsp; &nbsp; &nbsp; 3.4.7. <a href=#rnxscript>Script</a><br>
&nbsp; &nbsp; &nbsp; 3.4.8. <a href=#rnxvers2>Version 2</a><br>
&nbsp; &nbsp; &nbsp; 3.4.9. <a href=#rnxvers3>Version 3</a><br>
3.5. <a href=#ephemeris>RINEX Ephemeris</a><br>
&nbsp; &nbsp; &nbsp; 3.5.1. <a href=#ephdir>Directory</a><br>
&nbsp; &nbsp; &nbsp; 3.5.2. <a href=#ephint>Interval</a><br>
&nbsp; &nbsp; &nbsp; 3.5.3. <a href=#ephport>Port</a><br>
&nbsp; &nbsp; &nbsp; 3.5.4. <a href=#ephvers>Version</a><br>
3.6. <a href=#reqc>RINEX Editing & QC</a><br>
&nbsp; &nbsp; &nbsp; 3.6.1 <a href=#reqcact>Action</a><br>
&nbsp; &nbsp; &nbsp; 3.6.2 <a href=#reqcgnss>Sky Plots</a><br>
&nbsp; &nbsp; &nbsp; 3.6.3 <a href=#reqcedit>Set Edit Options</a><br>
&nbsp; &nbsp; &nbsp; 3.6.4 <a href=#reqcinput>Input Files</a><br>
&nbsp; &nbsp; &nbsp; 3.6.5 <a href=#reqcoutput>Output Files</a><br>
&nbsp; &nbsp; &nbsp; 3.6.6 <a href=#reqcplots>Directory for Plots</a><br>
&nbsp; &nbsp; &nbsp; 3.6.7 <a href=#reqccommand>Command Line, No Window</a><br>
3.7. <a href=#sp3comp>SP3 Comparison</a><br>
&nbsp; &nbsp; &nbsp; 3.7.1 <a href=#sp3input>Input SP3 Files</a><br>
&nbsp; &nbsp; &nbsp; 3.7.2 <a href=#sp3exclude>Exclude Satellites</a><br>
&nbsp; &nbsp; &nbsp; 3.7.3 <a href=#sp3log>Logfile</a><br>
3.8. <a href=#correct>Broadcast Corrections</a><br>
&nbsp; &nbsp; &nbsp; 3.8.1. <a href=#corrdir>Directory, ASCII</a><br>
&nbsp; &nbsp; &nbsp; 3.8.2. <a href=#corrint>Interval</a><br>
&nbsp; &nbsp; &nbsp; 3.8.3. <a href=#corrport>Port</a><br>
&nbsp; &nbsp; &nbsp; 3.8.4. <a href=#corrwait>Wait for Full Corr Epoch</a><br>
3.9. <a href=#syncout>Feed Engine</a><br>
&nbsp; &nbsp; &nbsp; 3.9.1. <a href=#syncport>Port</a><br>
&nbsp; &nbsp; &nbsp; 3.9.2. <a href=#syncwait>Wait for Full Obs Epoch</a><br>
&nbsp; &nbsp; &nbsp; 3.9.3. <a href=#syncsample>Sampling</a><br>
&nbsp; &nbsp; &nbsp; 3.9.4. <a href=#syncfile>File</a><br>
&nbsp; &nbsp; &nbsp; 3.9.5. <a href=#syncuport>Port (unsynchronized)</a><br>
3.10. <a href=#serial>Serial Output</a><br>
&nbsp; &nbsp; &nbsp; 3.10.1. <a href=#sermount>Mountpoint</a><br>
&nbsp; &nbsp; &nbsp; 3.10.2. <a href=#serport>Port Name</a><br>
&nbsp; &nbsp; &nbsp; 3.10.3. <a href=#serbaud>Baud Rate</a><br>
&nbsp; &nbsp; &nbsp; 3.10.4. <a href=#serflow>Flow Control</a><br>
&nbsp; &nbsp; &nbsp; 3.10.5. <a href=#serparity>Parity</a><br>
&nbsp; &nbsp; &nbsp; 3.10.6. <a href=#serdata>Data Bits</a><br>
&nbsp; &nbsp; &nbsp; 3.10.7. <a href=#serstop>Stop Bits</a><br>
&nbsp; &nbsp; &nbsp; 3.10.8. <a href=#serauto>NMEA</a><br>
&nbsp; &nbsp; &nbsp; 3.10.9. <a href=#serfile>File</a><br>
&nbsp; &nbsp; &nbsp; 3.10.10. <a href=#serheight>Height</a><br>
3.11. <a href=#advnote>Outages</a><br>
&nbsp; &nbsp; &nbsp; 3.11.1. <a href=#obsrate>Observation Rate</a><br>
&nbsp; &nbsp; &nbsp; 3.11.2. <a href=#advfail>Failure Threshold</a><br>
&nbsp; &nbsp; &nbsp; 3.11.3. <a href=#advreco>Recovery Threshold</a><br>
&nbsp; &nbsp; &nbsp; 3.11.4. <a href=#advscript>Script</a><br>
3.12. <a href=#misc>Miscellaneous</a><br>
&nbsp; &nbsp; &nbsp; 3.12.1. <a href=#miscmount>Mountpoint</a><br>
&nbsp; &nbsp; &nbsp; 3.12.2. <a href=#miscperf>Log Latency</a><br>
&nbsp; &nbsp; &nbsp; 3.12.3. <a href=#miscscan>Scan RTCM</a><br>
&nbsp; &nbsp; &nbsp; 3.12.4. <a href=#miscport>Port</a><br>
3.13. <a href=#pppclient>PPP Client</a><br>
&nbsp; &nbsp; &nbsp; 3.13.1 <a href=#pppmode>Mode & Mountpoints</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.1.1 <a href=#pppmodus>Mode</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.1.2 <a href=#pppobsmount>Obs Mountpoint</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.1.3 <a href=#pppcorrmount>Corr Mountpoint</a><br>
&nbsp; &nbsp; &nbsp; 3.13.2 <a href=#pppxyz>Marker Coordinates</a><br>
&nbsp; &nbsp; &nbsp; 3.13.3 <a href=#pppneu>Antenna Eccentricity</a><br>
&nbsp; &nbsp; &nbsp; 3.13.4 <a href=#pppoutput>NMEA & Plot Output</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.4.1 <a href=#pppnmeafile>NMEA File</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.4.2 <a href=#pppnmeaport>NMEA Port</a><br>
&nbsp; &nbsp; &nbsp; 3.13.5 <a href=#ppppost>Post Processing</a><br>
&nbsp; &nbsp; &nbsp; 3.13.6 <a href=#ppprecant>Antennas</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.6.1 <a href=#pppantex>ANTEX File</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.6.2 <a href=#ppprecantenna>Antenna Name</a><br>
&nbsp; &nbsp; &nbsp; 3.13.7 <a href=#pppbasics>Basics</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.7.1 <a href=#pppphase>Use Phase Obs</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.7.2 <a href=#ppptropo>Estimate Tropo</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.7.3 <a href=#pppglo>Use GLONASS</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.7.4 <a href=#pppgal>Use Galileo</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.7.5 <a href=#pppsync>Sync Corr</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.7.6 <a href=#pppaverage>Averaging</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.7.7 <a href=#pppquick>Quick-Start</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.7.8 <a href=#pppgap>Maximal Solution Gap</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.7.9 <a href=#pppaudio>Audio Response</a><br>
&nbsp; &nbsp; &nbsp; 3.13.8 <a href=#pppsigmas>Sigmas</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.8.1 <a href=#pppsigc>Code</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.8.2 <a href=#pppsigp>Phase</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.8.3 <a href=#pppsigxyzi>XYZ Init</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.8.4 <a href=#pppsigxyzn>XYZ White Noise</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.8.5 <a href=#pppsigtrpi>Tropo Init</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.8.6 <a href=#pppsigtrpn>Tropo White Noise</a><br>
&nbsp; &nbsp; &nbsp; 3.13.9 <a href=#pppplots>PPP Plot</a><br>
&nbsp; &nbsp; &nbsp; 3.13.10 <a href=#ppptracepos>Track Plot</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.10.1 <a href=#pppmap>Open Map</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.10.2 <a href=#pppmaptype>Google/OSM</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.10.3 <a href=#pppdot>Dot Size</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.10.4 <a href=#pppcolor>Dot Color</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.13.10.5 <a href=#pppspeed>Speed</a><br>

3.14. <a href=#combi>Combine Corrections</a><br>
&nbsp; &nbsp; &nbsp; 3.14.1 <a href=#combimounttab>Combine Corrections Table</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.14.1.1 <a href=#combiadd>Add Row, Delete</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.14.1.2 <a href=#combimethod>Method</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.14.1.3 <a href=#combimax>Maximal Residuum</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.14.1.4 <a href=#combismpl>Sampling</a><br>
3.15. <a href=#upclk>Upload Corrections</a><br>
&nbsp; &nbsp; &nbsp; 3.15.1 <a href=#upadd>Add, Delete Row</a><br>
&nbsp; &nbsp; &nbsp; 3.15.2 <a href=#uphost>Host, Port, Mountpoint, Password</a><br>
&nbsp; &nbsp; &nbsp; 3.15.3 <a href=#upsystem>System</a><br>
&nbsp; &nbsp; &nbsp; 3.15.4 <a href=#upcom>Center of Mass</a><br>
&nbsp; &nbsp; &nbsp; 3.15.5 <a href=#upsp3>SP3 File</a><br>
&nbsp; &nbsp; &nbsp; 3.15.6 <a href=#uprinex>RNX File</a><br>
&nbsp; &nbsp; &nbsp; 3.15.7 <a href=#upinter>Interval</a><br>
&nbsp; &nbsp; &nbsp; 3.15.8 <a href=#upclksmpl>Sampling</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.15.8.1 <a href=#upclkorb>orbits</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.15.8.2 <a href=#upclksp3>SP3</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.15.8.3 <a href=#upclkrnx>RINEX </a><br>
&nbsp; &nbsp; &nbsp; 3.15.9 <a href=#upcustom>Custom Trafo</a><br>
3.16. <a href=#upeph>Upload Ephemeris</a><br>
&nbsp; &nbsp; &nbsp; 3.16.1 <a href=#brdcserver>Host &amp; Port</a><br>
&nbsp; &nbsp; &nbsp; 3.16.2 <a href=#brdcmount>Mountpoint &amp; Password</a><br>
&nbsp; &nbsp; &nbsp; 3.16.3 <a href=#brdcsmpl>Sampling</a><br><br>
<b>Streams Canvas</b><br>
3.17. <a href=#streams>Streams</a><br>
&nbsp; &nbsp; &nbsp; 3.17.1 <a href=#streamedit>Edit Streams</a><br>
&nbsp; &nbsp; &nbsp; 3.17.2 <a href=#streamdelete>Delete Stream</a><br>
&nbsp; &nbsp; &nbsp; 3.17.3 <a href=#streamconf>Reconfigure Stream Selection On-the-fly</a><br><br>
<b>Logging Canvas</b><br>
3.18. <a href=#logs>Logging</a><br>
&nbsp; &nbsp; &nbsp; 3.18.1 <a href=#logfile>Log</a><br>
&nbsp; &nbsp; &nbsp; 3.18.2 <a href=#throughput>Throughput</a><br>
&nbsp; &nbsp; &nbsp; 3.18.3 <a href=#latency>Latency</a><br>
&nbsp; &nbsp; &nbsp; 3.18.4 <a href=#ppptab>PPP Plot</a><br><br>
<b>Bottom Menu Bar</b><br>
3.19. <a href=#bottom>Bottom Menu Bar</a><br>
&nbsp; &nbsp; &nbsp; 3.19.1. <a href=#streamadd>Add Stream</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.1 <a href=#streamcaster>Add Stream - Coming from Caster</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.1.1 <a href=#streamhost>Caster Host and Port</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.1.2 <a href=#streamtable>Casters Table</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.1.3 <a href=#streamuser>User and Password</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.1.4 <a href=#gettable>Get Table</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.1.5 <a href=#ntripv>NTRIP Version</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.1.6 <a href=#castermap>Map</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.2 <a href=#streamip>Add Stream - Coming from TCP/IP Port</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.3 <a href=#streamudp>Add Stream - Coming from UDP Port</a><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.19.1.4 <a href=#streamser>Add Stream - Coming from Serial Port</a><br>
&nbsp; &nbsp; &nbsp; 3.19.2. <a href=#streamsdelete>Delete Stream</a><br>
&nbsp; &nbsp; &nbsp; 3.19.3. <a href=#streamsmap>Map</a><br>
&nbsp; &nbsp; &nbsp; 3.19.4 <a href=#start>Start</a><br>
&nbsp; &nbsp; &nbsp; 3.19.5 <a href=#stop>Stop</a><br><br>
<b>Command Line</b><br>
3.20. <a href=#cmd>Command Line Options</a><br>
&nbsp; &nbsp; &nbsp; 3.20.1. <a href=#nw>No Window Mode</a><br>
&nbsp; &nbsp; &nbsp; 3.20.2. <a href=#post>File Mode</a><br>
&nbsp; &nbsp; &nbsp; 3.20.3. <a href=#conffile>Configuration File</a><br>
&nbsp; &nbsp; &nbsp; 3.20.4. <a href=#confopt>Configuration Options</a><br>
</p>

<p><a name="topmenu"><h4>3.1. Top Menu Bar</h4></p>
<p>
The top menu bar allows selecting a font for the BNC windows, save configured options, or quit the program execution. It also provides access to program documentation.
</p>

<p><a name="file"><h4>3.1.1 File</h4></p>

<p>
The 'File' button lets you
<ul>
<li> select an appropriate font.<br>
Use smaller font size if the BNC main window exceeds the size of your screen.
</li>
<li> reread and save selected options in configuration file.<br>
When using 'Reread &amp; Save Configuration' while BNC is already processing data, some configuration options become immediately effective on-the-fly without interrupting uninvolved threads while all of them are saved on disk. See annexed section 'Configuration Examples' for a list of on-the-fly changeable configuration options.
</li>
<li> quit the BNC program.
</li>
</ul>
</p>

<p><a name="help"><h4>3.1.2 Help</h4></p>

<p>
The 'Help' button provides access to
<ul>
<li>
help contents.<br>
You may keep the 'Help Contents' window open while configuring BNC.
</li>
<li>
a 'Flow Chart' showing BNC linked to a real-time GNSS network engine such as RTNET.
</li>
<li>
general information about BNC.<br>
Close the 'About BNC' window to continue working with BNC.
</li>
</ul>
</p>
<p>
BNC comes with a help system providing online information about its functionality and usage. Short descriptions are available for any widget. Focus to the relevant widget and press Shift+F1 to request help information. A help text appears immediately; it disappears as soon as the user does something else. The dialogs on some operating systems may provide a &quot;?&quot; button that users can click; click the relevant widget to pop up the help text.
</p>

<p><a name="network"><h4>3.2. Network</h4></p>
<p>
You may need to specify a proxy when running BNC in a protected network. You may also like to use the Transport Layer Security (TLS) and its predecessor, Secure Sockets Layer (SSL) cryptographic protocols for secure NTRIP communication over the Internet.
</p>
<p><a name="proxy"><h4>3.2.1 Proxy - Usage in a protected LAN</h4></p>
<p>
If you are running BNC within a protected Local Area Network (LAN), you might need to use a proxy server to access the Internet. Enter your proxy server IP and port number in case one is operated in front of BNC. If you don't know the IP and port of your proxy server, check the proxy server settings in your Internet browser or ask your network administrator.</p>
<p>
Note that IP streaming is often not allowed in a LAN. In this case you need to ask your network administrator for an appropriate modification of the local security policy or for the installation of a TCP relay to the NTRIP Broadcasters. If these are not possible, you might need to run BNC outside your LAN on a host that has unobstructed connection to the Internet.
</p>

<p><a name="ssl"><h4>3.2.2 SSL - Transport Layer Security</h4></p>
<p>Communication with an NTRIP Broadcaster over SSL requires the exchange of client and/or server certificates. Specify the path to a directory where you save certificates on your system. You may like to check out <u>http://software.rtcm-ntrip.org/wiki/Certificates</u> for a list of known NTRIP Server certificates. You may also just try communication via SSL to check out whether this is supported by the involved NTRIP Broadcaster. </p>
<p>SSL communication may involve queries coming from the NTRIP Broadcaster. Tick 'Ignore SSL authorization errors' if you don't want to be bothered with this. Note that SSL communication is usually done over port 443.</p>

<p><a name="general"><h4>3.3. General</h4></p>
<p>
The following defines general settings for BNC's logfile, file handling, reconfiguration on-the-fly, and auto-start.
</p>

<p><a name="genlog"><h4>3.3.1 Logfile - optional</h4></p>
<p>
Records of BNC's activities are shown in the 'Log' tab on the bottom of the main window. These logs can be saved into a file when a valid path is specified in the 'Logfile (full path)' field. The logfile name will automatically be extended by a string '_YYMMDD' carrying the current date. This leads to series of daily logfiles when running BNC continuously for extended. Message logs cover the communication status between BNC and the NTRIP Broadcaster as well as problems that may occur in the communication link, stream availability, stream delay, stream conversion etc. All times are given in UTC. The default value for 'Logfile (full path)' is an empty option field, meaning that BNC logs will not be saved into a file.
</p>

<p><a name="genapp"><h4>3.3.2 Append Files - optional</h4></p>
<p>
When BNC is started, new files are created by default and any existing files with the same name will be overwritten. However, users might want to append existing files following a restart of BNC, a system crash or when BNC crashed. Tick 'Append files' to continue with existing files and keep what has been recorded so far. Note that option 'Append files' affects all types of files created by BNC.
</p>

<p><a name="genconf"><h4>3.3.3 Reread Configuration - optional</h4></p>
<p>
When operating BNC online in 'no window' mode (command line option -nw), some configuration options can nevertheless be changed on-the-fly without interrupting the running process. For that you force the program to reread parts of its configuration in pre-defined intervals from the disk. Select '1 min', '1 hour', or '1 day' to let BNC reread on-the-fly changeable configuration options every full minute, hour, or day. This lets in between edited options become effective without interrupting uninvolved threads. See annexed section 'Configuration Examples' for a configuration file example and a list of on-the-fly changeable options.
</p>

<p><a name="genstart"><h4>3.3.4 Auto Start - optional</h4></p>
<p>
You may like to auto-start BNC at startup time in window mode with pre-assigned configuration options. This may be required i.e. immediately after booting your system. Tick 'Auto start' to supersede the usage of the 'Start' button. Make sure that you maintain a link to BNC for that in your Autostart directory (Windows systems) or call BNC in a script below directory /etc/init.d (Unix/Linux/Mac OS X systems).
</p>
<p>
 See BNC's command line option -nw for an auto-start of BNC in 'no window' mode.
</p>

<p><a name="rawout"><h4>3.3.5 Raw Output File - optional</h4></p>
<p>
BNC can save all data coming in through various streams in one daily file. The information is recorded in the specified 'Raw output file' in the received order and format. This feature allows a BNC user to run the PPP option offline with observations, Broadcast Corrections, and Broadcast Ephemeris being read from a previously saved file. It supports the offline repetition of a real-time situation for debugging purposes and it is not meant for Post Processing.
</p>
<p>
Data will be saved in blocks in the received format separated by ASCII time stamps like (example):
<pre>
2010-08-03T18:05:28 RTCM3EPH RTCM_3 67
</pre>
</p>
<p>
This example block header tells you that 67 bytes were saved in the data block following this time stamp. The information in this block is encoded in RTCM Version 3 format, comes from mountpoint RTCM3EPH and was received at 18:05:29 UTC on 2010-08-03. BNC adds its own time stamps in order to allow the reconstruction of a recorded real-time situation.
</p>
<p>
The default value for 'Raw output file' is an empty option field, meaning that BNC will not save all raw data into one single daily file.
</p>

<p><a name="rinex"><h4>3.4. RINEX Observations</h4></p>
<p>
Observations will be converted to RINEX if they come in either RTCM Version 2 or RTCM Version 3 format. Depending on the RINEX version and incoming RTCM message types, files generated by BNC may contain data from GPS, GLONASS, Galileo, SBAS, QZSS and/or BDS(BeiDou). In case an observation type is listed in the RINEX header but the corresponding observation is unavailable, its value is set to zero '0.000'. Note that the 'RINEX TYPE' field in the RINEX Version 3 Observation file header is always set to 'M(MIXED)' or 'Mixed' even if the file only contains data from one system.
</p>
<p>
It is important to understand that converting RTCM streams to RINEX files requires a-priori information on observation types for specifying a complete RINEX header. Regarding the RINEX Version 2 file header, BNC simply introduces all observation types defined in the Version 2 standard and later reports "0.000" for all observations which are not received. However, following this approach is not possible for RINEX Version 3 files from RTCM Version 3 MSM streams because of the huge number of observation types which might in principle show up. The solution implemented in BNC is to start with RINEX Version 3 observation type records from skeleton files (see section 'Skeleton Extension' and 'Skeleton Mandatory') and switch to a default selection of observation types when such skeleton file is not available or does not contain the required information. The following is a default selection of observation types specified for a RINEX Version 3 file:
</p>
<pre>
C    9 C2I L2I S2I C6I L6I S6I C7I L7I S7I                  SYS / # / OBS TYPES
E   12 C1X L1X SX1 C5X L5X SX5 C7X L7X SX7 C8X L8X SX8      SYS / # / OBS TYPES
G   15 C1C L1C S1C C1W L1W S1W C2X L2X S2X C2W L2W S2W C5X  SYS / # / OBS TYPES
       L5X S5X                                              SYS / # / OBS TYPES
J   15 C1C L1C S1C C1W L1W S1W C2X L2X S2X C2W L2W S2W C5X  SYS / # / OBS TYPES
       L5X S5X                                              SYS / # / OBS TYPES
R    6 C1C L1C S1C C2P L2P S2P                              SYS / # / OBS TYPES
S    9 C1C L1C S1C C5I L5I S5I C5Q L5Q S5Q                  SYS / # / OBS TYPES
</pre>

<p>
Please note that RTCM Version 3 messages 1084 for GLONASS observations don't contain the channel numbers. However, these messages can only be converted to RINEX when you add messages which include the channel numbers. This could be done though an additional stream carrying 1087 GLONASS observation messages or an additional stream carrying 1020 GLONASS ephemeris messages. You could also consider setting up a streams which contains both, the 1084 and the 1020 messages.
</p>
<p>
The screenshot below shows an example setup of BNC when converting streams to RINEX. Streams are coming from various NTRIP Broadcasters as well as from a serial communication link. Specifying a decoder string 'ZERO' means to not convert the affected stream but save its contents as received. 
</p>

<p><img src="IMG/screenshot16.png"/></p>
<p><u>Figure 7:</u> BNC translating incoming streams to 15 min RINEX Version 3 files.</p>


<p><a name="rnxname"><h4>3.4.1 RINEX File Names</h4></p>
<p>
RINEX file names in BNC follow the convention of RINEX Version 2.11. So far BNC does not support extended file names as defined in RINEX Version 3.02. File names are derived by BNC from the first 4 characters of the corresponding stream's mountpoint (4Char Station ID). For example, data from mountpoints FRANKFURT and WETTZELL will have hourly RINEX Observation files named</p>
<p>
FRAN{ddd}{h}.{yy}O<br>
WETT{ddd}{h}.{yy}O
</p>
<p>
where 'ddd' is the day of year, 'h' is a letter which corresponds to an hour long UTC time block and 'yy' is the year.
</p>
<p>
If there is more than one stream with identical 4Char Station ID (same first 4 characters for their mountpoints), the mountpoint strings are split into two sub-strings and both become part of the RINEX file name. For example, when simultaneously retrieving data from mountpoints FRANKFURT and FRANCE, their hourly RINEX Observation files are named as</p>
<p>
FRAN{ddd}{h}_KFURT.{yy}O<br>
FRAN{ddd}{h}_CE.{yy}O.
</p>
<p>
If several streams show exactly the same mountpoint name (example: BRUS0 from <u>www.euref-ip.net</u> and BRUS0 from <u>www.igs-ip.net</u>), BNC adds an integer number to the file name leading i.e. to hourly RINEX Observation files like</p>
<p>
BRUS{ddd}{h}_0.{yy}O<br>
BRUS{ddd}{h}_1.{yy}O.
</p>
<p>
Note that RINEX file names for all intervals less than 1 hour follow the file name convention for 15 minutes RINEX Observation files i.e.</p>
<p>
FRAN{ddd}{h}{mm}.{yy}O
</p>
<p>
where 'mm' is the starting minute within the hour.
</p>

<p><a name="rnxdir"><h4>3.4.2 Directory - optional</h4></p>
<p>
Here you can specify the path to where the RINEX Observation files will be stored. If the specified directory does not exist, BNC will not create RINEX Observation files. Default value for 'Directory' is an empty option field, meaning that no RINEX Observation files will be written.
</p>

<p><a name="rnxinterval"><h4>3.4.3 File Interval - mandatory if 'Directory' is set</h4></p>
<p>
Select the length of the RINEX Observation file generated. The default value is 15 minutes.
</p>

<p><a name="rnxsample"><h4>3.4.4 Sampling - mandatory if 'Directory' is set </h4></p>
<p>
Select the RINEX Observation sampling interval in seconds. A value of zero '0' tells BNC to store all received epochs into RINEX. This is the default value.
</p>

<p><a name="rnxskl"><h4>3.4.5 Skeleton Extension - optional</h4></p>
<p>
Whenever BNC starts generating RINEX Observation files (and then once every day at midnight), it first tries to retrieve information needed for RINEX headers from so-called public RINEX header skeleton files which are derived from sitelogs. A HTTP or HTTPS link to a directory containing these skeleton files may be available through data field number 7 of the affected NET record in the source-table. See <u>http://www.epncb.oma.be:80/stations/log/skl/brus.skl</u> for an example of a public RINEX header skeleton file for the Brussels EPN station.
</p>
<p>
However, sometimes public RINEX header skeleton files are not available, their contents is not up to date, or you need to put additional/optional records in the RINEX header. For that BNC allows using personal skeleton files that contain the header records you would like to include. You can derive a personal RINEX header skeleton file from the information given in an up to date sitelog. A file in the RINEX Observations 'Directory' with a 'Skeleton extension' suffix is interpreted by BNC as a personal RINEX header skeleton file for the corresponding stream.
</p>
<p>
Examples for personal skeleton file name convention: RINEX Observation files for mountpoints WETTZELL, FRANKFURT and FRANCE (same 4Char Station ID), BRUS0 from <u>www.euref-ip.net</u> and BRUS0 from <u>www.igs-ip.net</u> (same 4Char Station ID, identical mountpoint stings) would accept personal skeleton files named</p>
<p>
WETT.skl<br>
FRAN_KFURT.skl<br>
FRAN_CE.skl<br>
BRUS_0.skl<br>
BRUS_1.skl</p>
<p>
if 'Skeleton extension' is set to 'skl'.
</p>
<p>
Note the following regulations regarding personal RINEX header skeleton files:
<ul>
<li>If such a file exists in the 'RINEX directory', the corresponding public RINEX header skeleton file is ignored. The RINEX header is generated solely from the contents of the personal skeleton.</li>
<li>Personal skeletons should contain a complete first header record of type
<br>- &nbsp; RINEX VERSION / TYPE<br></li>
<li>They should then contain an empty header record of type
<br>- &nbsp; PGM / RUN BY / DATE<br>
BNC will complete this line and include it in the RINEX file header.</li>
<li>They should further contain complete header records of type
<br>- &nbsp; MARKER NAME
<br>- &nbsp; OBSERVER / AGENCY
<br>- &nbsp; REC # / TYPE / VERS
<br>- &nbsp; ANT # / TYPE
<br>- &nbsp; APPROX POSITION XYZ
<br>- &nbsp; ANTENNA: DELTA H/E/N
<br>- &nbsp; WAVELENGTH FACT L1/2 (RINEX Version 2)</li>
<br>- &nbsp; SYS / # / OBS TYPES (RINEX Version 3, will be ignored when writing Version 2 files)</li>
<li>They may contain any other optional complete header record as defined in the RINEX documentation.</li>
<li>They should also contain an empty header records of type
<br>- &nbsp; # / TYPES OF OBSERV (only RINEX Version 2, will be ignored when writing RINEX Version 3 files)
<br>BNC will include these lines in the final RINEX file header together with an additional
<br>- &nbsp; COMMENT
<br>line describing the source of the stream.</li>
<li>They should finally contain an empty header record of type
<br>- &nbsp; END OF HEADER (last record)</li>

<li>They must not contain a header record of type
<br>- &nbsp; TIME OF FIRST OBS</li>

</ul>
<p>
If neither a public nor a personal RINEX header skeleton file is available for BNC, a default header will be used.
</p>
<p>
The following is a skeleton example for a RINEX file:
</p>
<p>
<pre>
                    OBSERVATION DATA    M (MIXED)           RINEX VERSION / TYPE
CUT0                                                        MARKER NAME         
59945M001                                                   MARKER NUMBER       
5023K67889          TRIMBLE NETR9       5.01                REC # / TYPE / VERS 
4928353386          TRM59800.00     SCIS                    ANT # / TYPE        
 -2364337.2699  4870285.5624 -3360809.8398                  APPROX POSITION XYZ 
        0.0000        0.0000        0.0000                  ANTENNA: DELTA H/E/N
gnss@curtin.edu.au  CUT                                     OBSERVER / AGENCY   
C   10 C1I L1I D1I S1I C6I L6I S6I C7I L7I S7I              SYS / # / OBS TYPES
E   13 C1X L1X D1X S1X C5X L5X S5X C7X L7X S7X C8X L8X S8X  SYS / # / OBS TYPES
G   13 C1C L1C D1C S1C C2W L2W S2W C2X L2X S2X C5X L5X S5X  SYS / # / OBS TYPES
J   19 C1C L1C D1C S1C C1X L1X S1X C1Z L1Z S1Z C2X L2X S2X  SYS / # / OBS TYPES
       C5X L5X S5X C6L L6L S6L                              SYS / # / OBS TYPES
R   13 C1C L1C D1C S1C C1P L1P S1P C2C L2C S2C C2P L2P S2P  SYS / # / OBS TYPES
S    7 C1C L1C D1C S1C C5I L5I S5I                          SYS / # / OBS TYPES
PORTIONS OF THIS HEADER GENERATED BY THE IGS CB FROM        COMMENT             
SITELOG cut0_20150507.log                                   COMMENT             
                                                            END OF HEADER
</pre>
<p>

<p><a name="sklMandat"><h4>3.4.6 Skeleton Mandatory - optional</h4></p>
<p>
Tick check box 'Skeleton mandatory' in case you want that RINEX files are only produced if skeleton files are available for BNC. If no skeleton file is available for a particular source then no RINEX observation file will be produced from the affected stream.
</p>
<p>Note that a skeleton file contains RINEX header information such as receiver and antenna types. In case of stream conversion to RINEX Version 3 a skeleton file should also contain information on potentially available observation types. A missing skeleton file will therefore enforce BNC to only save a default set of RINEX 3 observation types.
</p>

<p><a name="rnxscript"><h4>3.4.7 Script - optional</h4></p>
<p>
Whenever a RINEX Observation file is saved, you might want to compress, copy or upload it immediately via FTP. BNC allows you to execute a script/batch file to carry out these operations. To do that, specify the full path of the script/batch file here. BNC will pass the RINEX Observation file path to the script as a command line parameter (%1 on Windows systems, $1 on Unix/Linux/Mac OS X systems).
</p>
<p>
The triggering event for calling the script or batch file is the end of a RINEX Observation file 'Interval'. If that is overridden by a stream outage, the triggering event is the stream reconnection.
</p>
<p>
As an alternative to initiating file uploads through BNC, you may like to call an upload script or batch file through your crontable or Task Scheduler (independent from BNC) once every one or two minutes after the end of each RINEX file 'Interval'.
</p>

<p><a name="rnxvers2"><h4>3.4.8 Version 2 - optional</h4></p>
<p>
GNSS observation data are generally hold available within BNC according to attributes as defined in RINEX Version 3. These attributes describe the tracking mode or channel when generating the observation signals. Capital letters specifying signal generation attributes are A, B, C, D, I, L, M, N, P, Q, S, W, X, Y, and Z, see RINEX Version 3 documentation. Although RINEX Version 3 with its signal generation attributes is the internal default processing format for BNC, there are two applications where the program is required to produce data in RINEX Version 2 format: 
<ol type=1>
<li>When saving the contents of incoming observation streams in RINEX Version 2 files as described in this section.</li>
<li>When editing or concatenating RINEX 3 files to save them in Version 2 format, see section on 'RINEX Editing & QC'.</li>
</ol>
As the Version 2 format ignores signal generation attributes, BNC is forced to somehow map RINEX Version 3 to RINEX Version 2 although this can't be done in one-to-one correspondance. Hence we introduce a 'Signal priority' list of attributes (characters, forming a string) for mapping Version 3 to Version 2.
</p>
<p>
The default 'Signal priority' list is an empty option string meaning a priority sequence of 'CWPX_?' attributes when mapping RINEX 3 to RINEX 2. The meaning of this sequence of characters - take it as an example - is as follows:
<ul>
<li>Signals with attribute 'C' enjoy the highest priority. If such a Version 3 observation becomes available it is presented as RINEX Version 2 observation if that is the format you wish to see. Observations with other attributes are ignored.</li>
<li>If no signal with 'C' attribute is available but we have an observation with 'W' attribute, BNC presents that one as RINEX Version 2 observation and ignores all observations with other attributes. The same applies mutatis mutandis to observations with P and X attributes.</li>
<li>If no signal with 'C', 'W', 'P', or 'X' attribute is availalbe but a signal with undefined generation attribute (underscore character, '_') exists, BNC presents that one as RINEX Version 2 observation.</li>
<li>If no signal with 'C', 'W', 'P', 'X', or '_' generation attribute exists then the question mark '?' tells BNC to present the first of any other appearing signal as RINEX Version 2 observation.</li>
</ul>
</p>
<p>
You may like to specify you own 'Signal priority' string for producing RINEX Version 2 files. If you neither convert observation streams to RINEX Version 2 nor concatenate RINEX Version 3 to Version 2 files then the 'Version 2' option is meaningless.
</p>

<p><a name="rnxvers3"><h4>3.4.9 Version 3 - optional</h4></p>
<p>
The default format for RINEX Observation files is RINEX Version 2.11. Select RINEX 'Version 3' if you would like to save RTCM Version 3 observation streams in RINEX Version 3 format.
</p>

<p>
Note that it is possible to force a RTCM Version 2 stream to be saved in RINEX Version 3 file format. However, this is not recommended because such stream can not be precisely mapped to RINEX Version 3 as the required information on tracking modes (observation attributes) is no part of RTCM Version 2.
</p>

<p><a name="ephemeris"><h4>3.5. RINEX Ephemeris</h4></p>
<p>
Broadcast Ephemeris can be saved as RINEX Navigation files when received via RTCM Version 3 e.g. as message types 1019 (GPS) or 1020 (GLONASS) or 1044 (QZSS) or 1043 (SBAS) or 1045 and 1046 (Galileo) or 63 (tentative, BDS/BeiDou). The file name convention follows the details given in section 'RINEX File Names' except that the first four characters are 'BRDC' and the last character is
</p>
<ul>
<li>'N' or 'G' for GPS or GLONASS ephemeris in two separate RINEX Version 2.11 Navigation files, or</li>
<li>'P' for GPS plus GLONASS, Galileo, SBAS, QZSS, and BDS ephemeris, saved together in one RINEX Version 3 Navigation file.
</ul>

<p>
Note that streams dedicated to carry Broadcast Ephemeris messages in RTCM Version 3 format in high repetition rates are listed on <u>http://igs.bkg.bund.de/ntrip/ephemeris</u>.
</p>

<p><a name="ephdir"><h4>3.5.1 Directory - optional</h4></p>
<p>
Specify a path for saving Broadcast Ephemeris data as RINEX Navigation files. If the specified directory does not exist, BNC will not create RINEX Navigation files. Default value for Ephemeris 'Directory' is an empty option field, meaning that no RINEX Navigation files will be created.
</p>

<p><a name="ephint"><h4>3.5.2 Interval - mandatory if 'Directory' is set</h4></p>
<p>
Select the length of the RINEX Navigation file generated. The default value is 1 day.
</p>

<p><a name="ephport"><h4>3.5.3 Port - optional</h4></p>
<p>
BNC can output Broadcast Ephemeris in RINEX Version 3 format on your local host (IP 127.0.0.1) through an IP 'Port'. Specify an IP port number to activate this function. The default is an empty option field, meaning that no ASCII ephemeris output via IP port is generated.
</p>
<p>
The source code for BNC comes with an example perl script 'test_tcpip_client.pl' that allows you to read BNC's ASCII ephemeris output from the IP port.
</p>

<p><a name="ephvers"><h4>3.5.4 Version - optional</h4></p>
<p>
Default format for RINEX Navigation files containing Broadcast Ephemeris is RINEX Version 2.11. Select 'Version 3' if you want to save the ephemeris in RINEX Version 3 format.
</p>
<p>
Note that this does not concern the Broadcast Ephemeris output through IP port which is always in RINEX Version 3 format.
</p>

<p><a name="reqc"><h4>3.6. RINEX Editing & QC</h4></p>
<p>
Besides stream conversion from RTCM to RINEX, BNC allows editing RINEX files or concatenate their contents. RINEX Observation and Navigation files can be handled. BNC can also carry out a RINEX file quality check. In summary this functionality in BNC covers
<ul>
<li>Stream <u>T</u>ranslation</li>
<li>File <u>E</u>diting and concatenation</li>
<li>File <u>Q</b></u>uality <u>C</u>heck</li>
<ul>
<li>Multipath analysis sky plots (see Estey and Meertens 1999)</li>
<li>Signal-to-noise ratio sky plots</li>
<li>Satellite availability plots</li>
<li>Satellite elevation plots</li>
<li>PDOP plots</li>
</ul>
</ul>
and hence follows UNAVCO's famous 'TEQC' program. The remarkable thing about BNC in this context is that it supports RINEX Version 3 under GNU General Public License.
</p>

<p><a name="reqcact"><h4>3.6.1 Action - optional</h4></p>
<p>Select an action. Options are 'Edit/Concatenate' and 'Analyze'.
<ul>
<li>Select 'Edit/Concatenate' if you want to edit RINEX file contents according to options specified under 'Set Edit Options' or if you want to concatenate several RINEX files.</li>
<li>Select 'Analyze' if you are interested in a quality check of your RINEX file contents.</li>
</ul>
</p>

<p><a name="reqcgnss"><h4>3.6.2 Sky Plots - mandatory if 'Action' is set to 'Analyze'</h4></p>

<p>Once the 'Analyze' action is selected, you have to specify the GNSS system(s) whose observations you want to analyze for multipath and signal-to-noise ratio sky plots. Possible options are 'ALL', 'GPS', 'GLONASS', 'Galileo', 'SBAS', 'QZSS' and 'BDS'. Default is 'ALL', meaning that observations from all GNSS will be analyzed.
</p>

<p>
<ul>
<li>CnC observation types (n = band / frequency) are used for the multipath analysis.</li>
<li>GPS and GLONASS multipath plots are presented for L1 and L2 frequencies.</li>
<li>Galileo multipath plots are presented for L1 and L5 frequencies.</li>
<li>Multipath analysis for GPS L5, and Galileo L5, L7, and L8 is not yet implemented.
</ul>
</p>

<p><a name="reqcedit"><h4>3.6.3 Set Edit Options - mandatory if 'Edit/Concatenate' is set</h4></p>
<p>Once the 'Edit/Concatenate' action is selected, you have to 'Set Edit Options'. BNC lets you specify the RINEX version, sampling interval, begin and end of file, operator, observation codes, comment lines, and marker, antenna, receiver details. Note that some specification are only meaningful for RINEX Observation files but not for RINEX Navigation files.
</p>
<p>
When converting RINEX Version 2 to RINEX Version 3 Observation files, the tracking mode or channel information in the (last character out of the three characters) observation code is left blank if unknown. When converting RINEX Version 3 to RINEX Version 2 Observation files:
<ul>
<li>C1P in RINEX Version 3 is mapped to P1 in RINEX Version 2</li>
<li>C2P in RINEX Version 3 is mapped to P2 in RINEX Version 2</li>
<li>If several observations in RINEX Version 3 come with the same observation type and same band/frequency but different tracking modes, BNC uses only the one provided first for creating RINEX Version 2 while ignoring others.</li>
</ul>
</p>

<p>
Optionally you may specify a 'RUN BY' string to be included in the emerging new RINEX file header. Default is an empty option field, meaning the operator's ID is automatically used as 'RUN BY' string.
</p>

<p>
Specifying comment line text to be added to the emerging new RINEX file header is another option. Any introduction of a newline through '\n' in this enforces the beginning of a further comment line. Comment line(s) will be added to the header immediately after the 'PGM / RUN BY / DATE' record. Default is an empty option field, meaning that no additional comment line will be added to the RINEX header.
</p>

<p>
You can specify a list of observation codes in field 'Use Obs. Types' to limit the output file contents to specific observation codes. GNSS system characters in that list are followed by a colon and a two or three characters observation code. A two characters observation code would mean that all available tracking modes of the affected observation type and frequency will be accepted as part of the RINEX output file. Observation codes are separated by a blank character. Default is an empty option field, meaning that any input observation code will become part of the RINEX output file. 
</p>

<p>
If you specify a 'New' but no 'Old' marker/antenna/receiver name, the corresponding data field in the emerging new RINEX Observation file will be filled accordingly. If you in addition specify an 'Old' marker/antenna/receiver name, the corresponding data field in the emerging new RINEX Observation file will only be filled accordingly where 'Old' specifications match existing file contents.
</p>

<p><img src="IMG/screenshot27.png"/></p>
<p><u>Figure 8:</u> Example for 'RINEX Editing Options' window.</p>

<p><a name="reqcinput"><h4>3.6.4 Input Files - mandatory if 'Action' is set</h4></p>
<p>
Specify full path to input RINEX Observation file(s), and<br>
specify full path to input RINEX Navigation file(s).
</p>
<p>
When specifying several input files BNC will concatenate their contents. In case of RINEX Observation input files with different observation type header records, BNC will output only one specific set of adjustet observation type records in the RINEX header which fits to the whole file contents.
</p>
<p>
Note that you may specify several RINEX Version 2 Navigation files for GPS and GLONASS. 

</p>

<p><a name="reqcoutput"><h4>3.6.5 Output Files - mandatory if 'Action' is set</h4></p>
<p>
If 'Edit/Concatenate' is selected, specifying the a path to output RINEX Observation file(s) and specifying a full path to output RINEX Navigation file(s) is mandatory.</p>

<p><img src="IMG/screenshot25.png"/></p>
<p><u>Figure 9:</u> Example for RINEX file editing with BNC in Post Processing mode.</p>

<p>
If 'Analyze' is selected, specifying a 'Log' file to output analysis results is mandatory. The following is a RINEX quality check analysis logfile example:
<pre>
Analyze File
------------
File:            cut02530.12o
Marker name:     CUT0
Receiver:        TRIMBLE NETR9
Antenna:         TRM59800.00     SCIS
Start time:      2012-09-09 00:00:00.000
End time:        2012-09-09 23:59:30.000
Interval:        30
# Sat.:          56
# Obs.:          54159
# Slips (file):  295
# Slips (found): 52
Mean MP1:        0.25382
Mean MP2:        0.163092
Mean SNR1:       4.83739
Mean SNR2:       5.09455
</pre>
</p>
<p>
In this logfile '# Slips (file)' stands for the number of cycle slips reported in the RINEX Observation file while '# Slips (found)' stands for additional cycle slips identified by BNC.
</p>

<p><a name="reqcplots"><h4>3.6.6 Directory for Plots - optional if 'Action' is set</h4></p>
<p>
If 'Analyze' is selected, specifying the path to a directory where plot files will be saved is optional. File names will be composed from the RINEX input file name(s) plus suffix 'PNG' to indicate the plot file format in use. </p>

<p><img src="IMG/screenshot29.png"/></p>
<p><u>Figure 10:</u> Example for creating RINEX quality check graphics output with BNC.</p>

<p><img src="IMG/screenshot30.png"/></p>
<p><u>Figure 11:</u> Example for satellite availability, elevation and PDOP plots as a result of a RINEX quality check with BNC.</p>

<p><img src="IMG/screenshot33.png"/></p>
<p><u>Figure 12:</u> Sky plot examples for multipath.</p>

<p><img src="IMG/screenshot34.png"/></p>
<p><u>Figure 13:</u> Sky plot examples for signal-to-noise ratio.</p>

<p><a name="reqccommand"><h4>3.6.7 Command Line, No Window - optional</h4></p>
<p>
BNC applies options from the configuration file but allows updating every one of them on the command line while the contents of the configuration file remains unchanged, see section on 'Command Line Options'. The syntax for that looks as follows
</p>
<p>
--key &lt;keyName&gt; &lt;keyValue&gt;
</p>
<p>
where &lt;keyName&gt; stands for the name of an option contained in the configuration file and &lt;keyValue&gt; stands for the value you want to assign to it. This functionality may be helpful in the 'RINEX Editing & QC' context when running BNC on a routine basis for maintaining a RINEX file archive.
</p>
The following example for a Linux platform calls BNC in 'no window' mode with a local configuration file 'rnx.conf' for concatenating four 15min RINEX files from station TLSE residing in the local directory to produce an hourly RINEX Version 3 file with 30 seconds sampling interval:
</p>
<p>
./bnc --nw --conf rnx.conf --key reqcAction Edit/Concatenate --key reqcObsFile "tlse119b00.12o,tlse119b15.12o,tlse119b30.12o,tlse119b45.12o" --key reqcOutObsFile tlse119b.12o --key reqcRnxVersion 3 --key reqcSampling 30
</p>
<p>
You may use asterisk '*' and/or question mark '?' wildcard characters as shown with the following globbing command line option to specify a selection of files in a local directory:
</p>
<p>
--key reqcObsFile "tlse*"<br>
or:<br>
--key reqcObsFile tlse\*
</p>

<p>The following Linux command line produces RINEX QC plots (see Estey and Meertens 1999) offline in 'no window' mode and saves them in directory '/home/user'. Introducing a dummy configuration file /dev/null makes sure that no configuration options previously saved on disc are used:</p>
<p>
/home/user/bnc --conf /dev/null --key reqcAction Analyze --key reqcObsFile CUT02070.12O --key reqcNavFile BRDC2070.12P --key reqcOutLogFile CUT0.txt --key reqcPlotDir /home/user --nw
</p>
<p></p>
<p>The following Linux command line produces the same RINEX QC plots in interactive autoStart mode:</p>
<p>
/home/user/bnc --conf /dev/null --key reqcAction Analyze --key reqcObsFile CUT02070.12O --key reqcNavFile BRDC2070.12P --key reqcOutLogFile CUT0.txt --key --key startTab 4 --key autoStart 2
</p>

<p>
The following is a list of available key names for '<u>R</u>INEX <u>E</u>diting & <u>QC</u>' (short: REQC, pronounced 'rek') options and their meaning, cf. section 'Configuration Examples':
</p>

<table>
<tr></tr>
<tr><td><b>Keyname</b></td><td><b>Meaning</b></td></tr>
<tr><td>reqcAction</td><td>RINEX Editing & QC action</td></tr>
<tr><td>reqcObsFile</td><td>RINEX Observation input file(s)</td></tr>
<tr><td>reqcNavFile</td><td>RINEX Navigation input files(s)</td></tr>
<tr><td>reqcOutObsFile</td><td>RINEX Observation output file</td></tr>
<tr><td>reqcPlotDir</td><td>RINEX QC plot directory</td></tr>
<tr><td>reqcOutNavFile</td><td>RINEX Navigation output file</td></tr>
<tr><td>reqcOutLogFile</td><td>Logfile</td></tr>
<tr><td>reqcPlotDir</td><td>Plot file directory</td></tr>
<tr><td>reqcSkyPlotSystem</td><td>GNSS system specification</td></tr>
<tr><td>reqcRnxVersion</td><td>RINEX version of emerging new file</td></tr>
<tr><td>reqcSampling</td><td>Sampling interval of emerging new RINEX file</td></tr>
<tr><td>reqcStartDateTime</td><td>Begin of emerging new RINEX file</td></tr>
<tr><td>reqcEndDateTime</td><td>End of emerging new RINEX file</td></tr>
<tr><td>reqcRunBy</td><td>Operator name</td></tr>
<tr><td>reqcComment</td><td>Additional comment lines</td></tr>
<tr><td>reqcOldMarkerName</td><td>Old marker name</td></tr>
<tr><td>reqcNewMarkerName</td><td>New marker name</td></tr>
<tr><td>reqcOldAntennaName</td><td>Old antenna name</td></tr>
<tr><td>reqcNewAntennaName</td><td>New antenna name</td></tr>
<tr><td>reqcOldReceiverName</td><td>Old receiver name</td></tr>
<tr><td>reqcNewReceiverName</td><td>New receiver name</td></tr>
</table>

<p><a name="sp3comp"><h4>3.7. SP3 Comparison</h4></p>
<p>
BNC allows to compare the contents of two files containing GNSS orbit and clock data in SP3 format. SP3 ASCII files basically contain a list of records over a certain period of time. Each record carries a time tag, the X,Y,Z position of the satellite's Center of Mass at that time and the corresponding satellite clock value. Both SP3 files may contain some records for different epochs. If so then BNC only compares records for identical epochs. BNC accepts that a specific GNSS system or a specific satellite is only available in one of the SP3 files. Note that BNC does not interpolate orbits when comparing SP3 files. 
</p>
<p>
To compare satellite clocks provided by the two files BNC first converts coordinate differences dX,dY,dZ into along track, out-of-plane and radial compoments. It then corrects the clock differences for the radial components of the coordinate differences. RMS values of clock differences are finally calculated after introducing at first one offset 'per epoch for all satellites' plus a second offset 'per satellite for all epochs'.
</p>

<p><a name="sp3input"><h4>3.7.1 Input SP3 Files - optional</h4></p>
<p>
Specify the full path of two SP3 files separated by a comma.
</p>

<p><a name="sp3exclude"><h4>3.7.2 Exclude Satellites - optional if 'Input SP3 Files' is set</h4></p>
<p>
You may want to exclude one or more satellites in your SP3 files from the comparison. Or you may like to exclude all satellites of a specific GNSS system from the comparison. The following are example strings to be entered for excluding satellites from the comparison.
<ul>
<li>G05,G31 (excluding GPS satellites with PRN 5 and 31)</li>
<li>G (exclucing all GPS satellites)</li>
<li>R (excluding all GLONASS satellites)</li>
<li>R12,R24 (excluding GLONASS satellites with slot number 12 and 24)</li>
<li>G04,G31,R (excluding GPS satellites with PRN 4 and 31 as well as all GLONASS satellites)</li>
</ul>
</p>
<p>
Default is an empty option field, meaning that no satellite will be excluded from the comparison.
</p>

<p><a name="sp3log"><h4>3.7.3 Logfile - mandatory if 'Input SP3 Files' is set</h4></p>
<p>
Specify a logfile name to save results of the SP3 file comparison.
</p>
<p>
Below you find an example for a SP3 Comparsion logfile. In its firt part it uses the following abbreviations:<br>
</p>
<table>
<tr><td>'MJD' &nbsp;</td><td>Modified Julian Date</td></tr>
<tr><td>'PRN' &nbsp;</td><td>Satellit specification</td></tr>
<tr><td>'radial' &nbsp;</td><td>Radial component of orbit coordinate difference [m]</td></tr>
<tr><td>'along' &nbsp;</td><td>Along track component of orbit coordinate difference [m]</td></tr>
<tr><td>'out' &nbsp;</td><td>Out-of-plane component of orbit coordinate difference [m]</td></tr>
<tr><td>'clk' &nbsp;</td><td>Clock difference [m]</td></tr>
<tr><td>'clkRed' &nbsp;</td><td>Clock difference reduced by radial component of orbit coordinate difference [m]</td></tr>
<tr><td>'iPRN' &nbsp;</td><td>BNC internal sequence number</td></tr>
</table>
<p>
The second part following string 'RMS' provides a summary of the comparison using the following abbreviations:<br>
</p>
<table>
<tr><td>'PRN' &nbsp;</td><td>Satellite specification</td></tr>
<tr><td>'radial' &nbsp;</td><td>RMS of radial component of orbit coordinate differences [m]</td></tr>
<tr><td>'along' &nbsp;</td><td>RMS of along track component of orbit coordinate differences [m]</td></tr>
<tr><td>'out' &nbsp;</td><td>RMS of out-of-plane component of orbit coordinate differences [m]</td></tr>
<tr><td>'nOrb' &nbsp;</td><td>Number of epochs used in in orbit comparision</td></tr>
<tr><td>'clk' &nbsp;</td><td>RMS of clock differences [m]</td></tr>
<tr><td>'clkRed' &nbsp;</td><td>RMS of clock differences after reduction of radial orbit differences [m]</td></tr>
<tr><td>'nClk' &nbsp;</td><td>Number of epochs use in clock comparisons</td></tr>
<tr><td>'Offset' &nbsp;</td><td>Clock offset [m]</td></tr>
</table>

<pre>

! SP3 File 1: esr18283.sp3
! SP3 File 2: rt218283.sp3
!
!  MJD       PRN  radial   along   out        clk    clkRed   iPRN
! ----------------------------------------------------------------
57043.000000 G01 -0.0001 -0.0318 -0.0354     0.0266  0.0267     1
57043.000000 G02 -0.0062 -0.0198  0.0111     0.0082  0.0143     2
57043.000000 G03  0.0052  0.0060  0.0032     0.0386  0.0334     3
57043.000000 G04 -0.0049 -0.0193 -0.0071    -0.1696 -0.1648     4
57043.000000 G05  0.0027  0.0154  0.0275     0.0345  0.0318     5
57043.000000 G06  0.0247 -0.0398 -0.0111     0.0483  0.0236     6
57043.000000 G07 -0.0052  0.2854 -0.0975    -0.0940 -0.0888     7
57043.000000 G08 -0.0247  0.0937 -0.0184    -0.1563 -0.1316     8
57043.000000 G09  0.0152  0.0583  0.0086    -0.0144 -0.0296     9
...
...
...
!
! RMS[m]
!
!   PRN  radial   along   out     nOrb    clk   clkRed   nClk    Offset
! ---------------------------------------------------------------------
!   G01  0.0151  0.0377  0.0196     96  0.0157  0.0154     96    0.0152
!   G02  0.0083  0.0278  0.0228     96  0.0097  0.0124     96   -0.0626
!   G03  0.0105  0.0311  0.0307     96  0.0352  0.0309     96    0.0898
!   G04  0.0113  0.0334  0.0154     94  0.0725  0.0707     94   -0.5087
!   G05  0.0103  0.0319  0.0299     96  0.0417  0.0403     96    0.1185
!   G06  0.0182  0.0509  0.0302     96  0.0218  0.0166     96    0.0040
!   G07  0.0337  0.1632  0.0463     96  0.0483  0.0435     96    0.3031
!   G08  0.0228  0.0741  0.0321     88  0.0616  0.0561     88   -0.2232
...
...
...
!   R20  0.0637  0.2115  0.1131     96  0.1580  0.1345     96    0.7371
!   R21  0.0475  0.1657  0.0880     96  0.1123  0.0840     96   -0.4133
!   R22  0.0125  0.1249  0.0646     96  0.0414  0.0444     96   -0.7375
!   R23  0.0435  0.1503  0.0573     96  0.0987  0.1099     96    0.6620
!   R24  0.0278  0.2026  0.1186     96  0.1446  0.1303     96   -1.1470
!
! Total  0.0262  0.0938  0.0492   5268  0.0620  0.0561   5268
</pre>

<p><a name="correct"><h4>3.8. Broadcast Corrections</h4></p>
<p>
Differential GNSS and RTK operation using RTCM streams is currently based on corrections and/or raw measurements from single or multiple reference stations. This approach to differential positioning is using 'observation space' information. The representation with the RTCM standard can be called 'ObservationSpace Representation' (OSR).
</p>
<p>
An alternative to the observation space approach is the so called 'sate space' approach. The principle here is to provide information on individual error sources. It can be called 'State Space Representation' (SSR). For a rover position, state space information concerning precise satellite clocks, orbits, ionosphere, troposphere et cetera can be converted into observation space and used to correct the rover observables for more accurate positioning. Alternatively the state information can directly be used in the rover's processing or adjustment model.
</p>
<p>
RTCM has developed Version 3 messages to transport satellite orbit and clock corrections in real-time. Note that corrections refer to satellite Antenna Phase Centers (APC). The current set of SSR messages concerns:
<ul>
<li>Orbit corrections to Broadcast Ephemeris</li>
<li>Clock corrections to Broadcast Ephemeris</li>
<li>Code biases</li>
<li>Combined orbit and clock corrections to Broadcast Ephemeris</li>
<li>User Range Accuracy (URA)</li>
<li>High-rate GPS clock corrections to Broadcast Ephemeris</li>
</ul>
<p>
RTCM Version 3 streams carrying these messages may be used i.e. to support real-time Precise Point Positioning (PPP) applications.
</p>
<p>
When using clocks from Broadcast Ephemeris (with or without applied corrections) or clocks from SP3 files, it may be important to understand that they are not corrected for the conventional periodic relativistic effect. Chapter 10 of the IERS Conventions 2003 mentions that the conventional periodic relativistic correction to the satellite clock (to be added to the broadcast clock) is computed as dt =  -2 (R * V) / c^2 where R * V is the scalar product of the satellite position and velocity and c is the speed of light. This can also be found in the GPS Interface Specification, IS-GPS-200, Revision D, 7 March 2006.
</p>

<p>
Orbit corrections are provided in along-track, cross-track and radial components. These components are defined in the Earth-centered, Earth-fixed reference frame of the broadcast ephemerides. For an observer in this frame, the along-track component is aligned in both direction and sign with the velocity vector, the cross-track component is perpendicular to the plane defined by the satellite position and velocity vectors, and the radial direction is perpendicular to the along track and cross-track ones. The three components form a right-handed orthogonal system.
</p>

<p>
After applying corrections, the satellite position and clock is referred to the 'ionospheric free' phase center of the antenna which is compatible with the broadcast orbit reference.
</p>

<p>
The orbit and clock corrections do not include local effects (like Ocean Loading or Solid Earth Tides) or atmospheric effects (Ionosphere and/or troposphere). Depending on the accuracy of your application you should correct for such effects by other means. There is currently no RTCM SSR message for ionospheric state parameters. Such messages are needed for accurate single frequency applications. The development of Iono messages will be the next step in the schedule of the RTCM State Space Representation Working Group.
</p>

<p>
Broadcast Corrections can be saved by BNC in files. The file name convention for Broadcast Correction files follows the convention for RINEX files except for the last character of the file name suffix which is set to &quot;C&quot;.
</p>

<p>
Saved files contain blocks of records in plain ASCII format where - separate for each GNSS, message type, stream, and epoch - the begin of a block is indicated by a line like (examples):
</p>
<p>
! Orbits/Clocks: 30 GPS 0 Glonass CLK11<br>
or<br>
! Orbits/Clocks: 0 GPS 19 Glonass CLK11
<p>
Such line informs you about the number of records (here 30 and 19) carrying GPS or GLONASS related parameters you should receive next.
</p>
<p>
The first five parameters in each Broadcast Corrections record are:
</p>
<p>
<ul>
<li>RTCM Version 3 message type number</li>
<li>SSR message update interval indicator</li>
<ul>
<li>0 = 1 sec</li>
<li>1 = 2 sec</li>
<li>2 = 5 sec</li>
<li>3 = 10 sec</li>
<li>4 = 15 sec</li>
<li>5 = 30 sec</li>
<li>6 = 60 sec</li>
<li>7 = 120 sec</li>
<li>8 = 240 sec</li>
<li>9 = 300 sec</li>
<li>10 = 600 sec</li>
<li>11 = 900 sec</li>
<li>12 = 1800 sec</li>
<li>13 = 3600 sec</li>
<li>14 = 7200 sec</li>
<li>15 = 10800 sec</li>
</ul>
<li>GPS Week</li>
<li>Second in GPS Week</li>
<li>GNSS Indicator and Satellite Vehicle Pseudo Random Number</li>
</ul>
</p>
<p>
In case of RTCM message types 1057 or 1063 (see Annex) these parameters are followed by
</p>
<p>
<ul>
<li>IOD referring to Broadcast Ephemeris set</li>
<li>Radial Component of Orbit Correction to Broadcast Ephemeris [m]</li>
<li>Along-track Component of Orbit Correction to Broadcast Ephemeris [m]</li>
<li>Cross-track Component of Orbit Correction to Broadcast Ephemeris [m]</li>
<li>Velocity of Radial Component of Orbit Correction to Broadcast Ephemeris [m/s]</li>
<li>Velocity of Along-track Component of Orbit Correction to Broadcast Ephemeris [m/s]</li>
<li>Velocity of Cross-track Component of Orbit Correction to Broadcast Ephemeris [m/s]</li>
<p>
</ul>
</p>
<p>
Undefined parameters would be set to zero &quot;0.000&quot;.<br>Example:
<pre>
...
1057 0 1686 283200.0 G02    21      1.062   -0.791    1.070     -0.00025   -0.00031   -0.00005
1057 0 1686 283200.0 G03    25      1.765   -2.438   -0.290     -0.00009   -0.00060    0.00028
1057 0 1686 283200.0 G04    14      1.311   -0.862    0.334      0.00005   -0.00038   -0.00015

...
1063 0 1686 283200.0 R01    39      0.347    1.976   -1.418      0.00048   -0.00091    0.00008
1063 0 1686 283200.0 R02    39      0.624   -2.092   -0.155      0.00005   -0.00054    0.00053
1063 0 1686 283200.0 R03    39      0.113    5.655   -1.540      0.00003   -0.00079   -0.00003
1063 0 1686 283200.0 R05    39      0.237    1.426   -1.282      0.00054   -0.00020    0.00027
...
</pre>
<p>
In case of RTCM message types 1058 or 1064 (see Annex) the first five parameters in each record are followed by
</p>
<ul>
<li>IOD set to zero &quot;0&quot;</li>
<li>C0 polynomial coefficient for Clock Correction to Broadcast Ephemeris [m]</li>
<li>C1 polynomial coefficient for Clock Correction to Broadcast Ephemeris [m/s]</li>
<li>C2 polynomial coefficient for Clock Correction to Broadcast Ephemeris [m/s**2]</li>
</ul>
Example:
</p>
<pre>
...
1058 0 1538 211151.0 G18     1.846       0.000    0.000
1058 0 1538 211151.0 G16     0.376       0.000    0.000
1058 0 1538 211151.0 G22     2.727       0.000    0.000
...
1064 0 1538 211151.0 R08     8.956       0.000    0.000
1064 0 1538 211151.0 R07    14.457       0.000    0.000
1064 0 1538 211151.0 R23     6.436       0.000    0.000
...
</pre>
</p>
<p>
In case of RTCM message types 1060 or 1066 (see Annex) the first five parameters in each record are followed by
<p>
<ul>
<li>IOD referring to Broadcast Ephemeris set</li>
<li>C0 polynomial coefficient for Clock Correction to Broadcast Ephemeris [m]</li>
<li>Radial Component of Orbit Correction to Broadcast Ephemeris [m]</li>
<li>Along-track Component of Orbit Correction to Broadcast Ephemeris [m]</li>
<li>Cross-track Component of Orbit Correction to Broadcast Ephemeris [m]</li>
<li>C1 polynomial coefficient for Clock Correction to Broadcast Ephemeris [m]</li>
<li>Velocity of Radial Component of Orbit Correction to Broadcast Ephemeris [m/s]</li>
<li>Velocity of Along-track Component of Orbit Correction to Broadcast Ephemeris [m/s]</li>
<li>Velocity of Cross-track Component of Orbit Correction to Broadcast Ephemeris [m/s]</li>
<li>C2 polynomial coefficient for Clock Correction to Broadcast Ephemeris [m]</li>
</ul>
Example:
</p>
<pre>
...
1060 0 1538 211610.0 G30    82      2.533      0.635   -0.359   -0.598    0.000    0.000    0.000    0.000    0.000
1060 0 1538 211610.0 G31     5     -4.218     -0.208    0.022    0.002    0.000    0.000    0.000    0.000    0.000
1060 0 1538 211610.0 G32    28     -2.326      0.977   -0.576    0.142    0.000    0.000    0.000    0.000    0.000
...
1066 0 1538 211610.0 R22    27      1.585      2.024    2.615   -2.080    0.000    0.000    0.000    0.000    0.000
1066 0 1538 211610.0 R23    27      6.277      2.853    4.181    1.304    0.000    0.000    0.000    0.000    0.000
1066 0 1538 211610.0 R24    27      0.846      1.805   13.095    6.102    0.000    0.000    0.000    0.000    0.000
...
</pre>
</p>
<p>
In case of RTCM message types 1059 or 1065 (see Annex) the first five parameters in each record are followed by
<ul>
<li>Number of Code Biases</li>
<li>Indicator to specify the signal and tracking mode</li>
<li>Code Bias</li>
<li>Indicator to specify the signal and tracking mode</li>
<li>Code Bias</li>
<li>etc.</li>
</ul>
Example:
</p>
<pre>
...
1059 0 1538 211151.0 G18 2 0   -0.010 11   -0.750
1059 0 1538 211151.0 G16 2 0   -0.040 11   -0.430
1059 0 1538 211151.0 G22 2 0   -0.630 11   -2.400
...
</pre>

<p><a name="corrdir"><h4>3.8.1 Directory, ASCII - optional</h4></p>
<p>
Specify a directory for saving Broadcast Corrections in files. If the specified directory does not exist, BNC will not create Broadcast Correction files. Default value for Broadcast Corrections 'Directory' is an empty option field, meaning that no Broadcast Correction files will be created.
</p>

<p><a name="corrint"><h4>3.8.2 Interval - mandatory if 'Directory, ASCII' is set</h4></p>
<p>
Select the length of the Broadcast Correction files. The default value is 1 day.
</p>

<p><a name="corrport"><h4>3.8.3 Port - optional</h4></p>
<p>
BNC can output epoch by epoch synchronized Broadcast Corrections in ASCII format on your local host (IP 127.0.0.1) through an IP 'Port'. Specify an IP port number to activate this function. The default is an empty option field, meaning that no Broadcast Correction output via IP port is generated.
</p>
<p>
The output format equals the format used for saving Broadcast Corrections in a file with the exception that the Mountpoint is added at each line's end.
</p>
<p>
The following is an example output for streams from mountpoints RTCMSSR, CLK10 and CLK11:
<pre>
...
1057 0 1538 211151.0 G18     1      0.034    0.011   -0.064    0.000    0.000    0.000 RTCMSSR
1057 0 1538 211151.0 G16    33     -0.005    0.194   -0.091    0.000    0.000    0.000 RTCMSSR
1057 0 1538 211151.0 G22    50      0.008   -0.082   -0.001    0.000    0.000    0.000 RTCMSSR
...
1058 0 1538 211151.0 G18     1.846    0.000    0.000 RTCMSSR
1058 0 1538 211151.0 G16     0.376    0.000    0.000 RTCMSSR
1058 0 1538 211151.0 G22     2.727    0.000    0.000 RTCMSSR
...
1059 0 1538 211151.0 G18 2 0   -0.010 11   -0.750 RTCMSSR
1059 0 1538 211151.0 G16 2 0   -0.040 11   -0.430 RTCMSSR
1059 0 1538 211151.0 G22 2 0   -0.630 11   -2.400 RTCMSSR
...
1063 0 1538 211151.0 R09   111     -0.011   -0.014    0.005    0.0000    0.000    0.000 RTCMSSR
1063 0 1538 211151.0 R10    43      0.000   -0.009   -0.002    0.0000    0.000    0.000 RTCMSSR
1063 0 1538 211151.0 R21    75     -0.029    0.108    0.107    0.0000    0.000    0.000 RTCMSSR
...
1064 0 1538 211151.0 R08     8.956    0.000    0.000 RTCMSSR
1064 0 1538 211151.0 R07    14.457    0.000    0.000 RTCMSSR
1064 0 1538 211151.0 R23     6.436    0.000    0.000 RTCMSSR
...
1066 0 1538 211610.0 R24    27      0.846      1.805   13.095    6.102    0.000    0.000    0.000    0.000    0.000 CLK11
1066 0 1538 211610.0 R23    27      6.277      2.853    4.181    1.304    0.000    0.000    0.000    0.000    0.000 CLK11
1066 0 1538 211610.0 R22    27      1.585      2.024    2.615   -2.080    0.000    0.000    0.000    0.000    0.000 CLK11
...
1060 0 1538 211610.0 G32    28     -2.326      0.977   -0.576    0.142    0.000    0.000    0.000    0.000    0.000 CLK10
1060 0 1538 211610.0 G31     5     -4.218     -0.208    0.022    0.002    0.000    0.000    0.000    0.000    0.000 CLK10
1060 0 1538 211610.0 G30    82      2.533      0.635   -0.359   -0.598    0.000    0.000    0.000    0.000    0.000 CLK10
...
</pre>
</p>
<p>
The source code for BNC comes with an example perl script 'test_tcpip_client.pl' that allows you to read BNC's Broadcast Corrections from the IP port.
</p>

<p><a name="corrwait"><h4>3.8.4 Wait for Full Corr Epoch - mandatory if 'Port' is set</h4></p>
<p>
When feeding a real-time GNSS network engine (see 'Feed Engine') waiting epoch by epoch for synchronized Broadcast Corrections, or when you 'Combine Corrections' BNC drops (only concerning IP port output) whatever is received later than 'Wait for full corr epoch' seconds. A value of 2 to 5 seconds could be an appropriate choice for that, depending on the latency of the incoming Broadcast Corrections stream and the delay acceptable by your application. A message such as &quot;COCK1: Correction over aged by 5 sec&quot; shows up in BNC's logfile if 'Wait for full corr epoch' is exceeded.
</p>
<p>
Specifying a value of '0' means that BNC immediately outputs all incoming Broadcast Ephemeris Corrections and does not drop any of them for latency reasons.
</p>

<p><a name="syncout"><h4>3.9. Feed Engine</h4></p>
<p>
BNC can generate synchronized or unsynchronized observations epoch by epoch from all stations and satellites to feed a real-time GNSS network engine. Observations can be streamed out through an IP port and/or saved in a local file. The output is always in plain ASCII format and sorted per incoming stream.
</p>
<p>
Any epoch in the output begins with a line containing the GPS week number and the seconds within the GPS week. Following lines begin with the mountpoint string of the stream which provides the observations followed by a satellite ID and - in case of GLONASS - a channel number. Observation types are specified by the three character observation code defined in RINEX Version 3. In case of phase observations a Slip Count is added which is put to "-1" if it is not set. The end of an epoch in indicated by an empty line.
</p>

<p>Note on 'Slip Count':<br>
It is the current understanding of BNC's authors that different Slip Counts could be referred to different phase measurements (i.e. L1C and L1P). The 'loss-of-lock' flags in RINEX are an example for making such kind of information available per phase measurement. However, it looks like we do have only one Slip Count in RTCM Version 3 for all phase measurements. As it could be that a receiver generates different Slip Counts for different phase measurements, we output one Slip Count per phase measurement to a listening real-time GNSS network engine.
</p>

<p>
The following is an output example which presents observations from BDS (BeiDou), SBAS, Galileo, QZSS, GLONASS and GPS satellites as collected through streams UNBS7 and CUT07:
<pre>
> 1768 124003.0000000
BRUX7 C09     C1I   39216013.767 L1I  204207406.208   2 D1I      -1043.207 S1I   42.500 C7I   39216013.579 L7I  157906195.465   0 D7I       -806.619 S7I   44.500
BRUX7 C05     C1I   40374333.685 L1I  210239174.792  -1 D1I         18.610 S1I   36.500 C7I   40374334.132 L7I  162570196.780   0 D7I         14.276 S7I   38.500
BRUX7 E20     C1C   23622665.422 L1C  124137907.382  -1 D1C       -893.463 S1C   48.250 C5Q   23622669.338 L5Q   92700622.614  -1 D5Q       -667.162 S5Q   49.250 C7Q   23622665.604 L7Q   95119044.071   0 D7Q       -684.563 S7Q   49.500 C8Q   23622666.936 L8Q   93910128.847   0 D8Q       -675.851 S8Q   52.250
BRUX7 E19     C1C   24358947.135 L1C  128007214.913   2 D1C       1700.514 S1C   48.500 C5Q   24358951.520 L5Q   95589236.262  -1 D5Q       1269.851 S5Q   50.750 C7Q   24358947.428 L7Q   98083609.510   0 D7Q       1302.970 S7Q   50.500 C8Q   24358949.002 L8Q   96837054.392   0 D8Q       1286.410 S8Q   53.750
BRUX7 E12     C1C   23314950.148 L1C  122520430.345  -1 D1C        537.129 S1C   46.750 C5Q   23314951.893 L5Q   91492366.449  -1 D5Q        401.120 S5Q   50.750 C7Q   23314948.311 L7Q   93879942.617   0 D7Q        411.567 S7Q   51.750 C8Q   23314949.478 L8Q   92685897.039   0 D8Q        406.335 S8Q   54.250
BRUX7 E11     C1C   25900911.264 L1C  136110079.636   2 D1C       2361.637 S1C   40.250 C5Q   25900913.307 L5Q  101640873.099  -1 D5Q       1763.637 S5Q   44.750 C7Q   25900910.472 L7Q  104292466.310   0 D7Q       1809.616 S7Q   45.500 C8Q   25900911.349 L8Q  102966650.209   0 D8Q       1786.625 S8Q   48.250
BRUX7 R24  2  C1C   23784398.387 L1C  127185337.633  -1 D1C      -3665.272 S1C   42.500 C2C   23784403.313 L2C   98921928.370  -1 D2C      -2850.668 S2C   38.500 C2P   23784403.654 L2P   98921930.382  -1 D2P      -2850.831 S2P   39.000
BRUX7 R18 -3  C1C   19978315.785 L1C  106645490.401   2 D1C       1971.526 S1C   50.000 C2C   19978320.310 L2C   82946560.725  -1 D2C       1533.500 S2C   48.500 C2P   19978320.697 L2P   82946862.730  -1 D2P       1533.482 S2P   49.000
BRUX7 R17  4  C1C   19749654.983 L1C  105683864.378  -1 D1C      -1474.402 S1C   52.500 C2C   19749657.078 L2C   82198564.734  -1 D2C      -1146.744 S2C   50.750 C2P   19749657.073 L2P   82198588.737  -1 D2P      -1146.734 S2P   51.500
...
...
BRUX7 R01  1  C1C   22169939.093 L1C  118510471.935   2 D1C      -3455.517 S1C   46.250 C2C   22169945.849 L2C   92174815.522  -1 D2C      -2687.553 S2C   39.750 C2P   22169948.332 L2P   92174815.533  -1 D2P      -2687.420 S2P   39.750
BRUX7 G32     C1C   24854756.537 L1C  130612337.909  -1 D1C       4015.415 S1C   38.750 C1W   24854755.907 S1W   14.500 C2W   24854761.499 L2W  101776034.995  -1 D2W       3128.868 S2W   14.500
BRUX7 G27     C1C   20609278.568 L1C  108301880.363  -1 D1C      -1489.871 S1C   51.750 C2L   20609280.400 L2L   84391138.752  -1 D2L      -1160.950 S2L   51.250 C1W   20609278.224 S1W   46.000 C2W   20609280.251 L2W   84391085.753  -1 D2W      -1160.937 S2W   46.000 C5Q   20609281.557 L5Q   80874942.702  -1 D5Q      -1112.573 S5Q   56.500
BRUX7 G22     C1C   21132013.776 L1C  111048915.150   1 D1C       -728.755 S1C   50.250 C1W   21132012.802 S1W   43.000 C2W   21132010.857 L2W   86531637.369   1 D2W       -567.860 S2W   43.000
...
...
BRUX7 G09     C1C   24572835.223 L1C  129130939.707   1 D1C      -1711.676 S1C   29.000
BRUX7 G08     C1C   24461057.848 L1C  128544277.352   1 D1C       -980.232 S1C   33.000
BRUX7 G06     C1C   21289369.405 L1C  111875762.746   1 D1C      -2200.498 S1C   48.500 C1W   21289368.940 S1W   38.750 C2W   21289369.966 L2W   87176179.615   1 D2W      -1714.670 S2W   38.750
BRUX7 G03     C1C   20035216.366 L1C  105286100.092   1 D1C      -1274.075 S1C   52.000 C1W   20035215.790 S1W   43.500 C2W   20035216.271 L2W   82040893.360   1 D2W       -992.781 S2W   43.500
BRUX7 G01     C1C   24008529.961 L1C  126165060.514   1 D1C       3258.640 S1C   33.750 C2L   24008535.389 L2L   98310442.230   1 D2L       2539.826 S2L   29.000 C5Q   24008537.261 L5Q   94215087.245   1 D5Q       2433.873 S5Q   38.250
CUT07 C14     C1I   25789735.828 L1I  134294741.980   2 D1I       2247.598 S1I   37.688 C6I   25789728.832 L6I  109125500.260   0 S6I   40.812 C7I   25789739.067 L7I  103845239.974   0 S7I   41.188
CUT07 C13     C1I   27082007.852 L1I  141023685.184   2 D1I       2328.723 S1I   34.500 C6I   27082007.301 L6I  114592607.127   0 S6I   35.688 C7I   27082018.359 L7I  109047804.538   0 S7I   35.500
...
...
CUT07 C02     C1I   38216348.258 L1I  199002786.312   2 D1I         73.598 S1I   37.688 C6I   38216340.851 L6I  161705399.161   0 S6I   43.125 C7I   38216345.051 L7I  153881396.303   0 S7I   43.625
CUT07 C01     C1I   37487507.125 L1I  195206593.273   2 D1I         56.406 S1I   43.188 C6I   37487494.207 L6I  158621915.867   0 S6I   45.500 C7I   37487499.168 L7I  150946047.864   0 S7I   46.688
CUT07 J01     C1C   37871359.625 L1C  199015767.536   2 D1C       2491.887 S1C   47.688 C2X   37871366.406 L2X  155076817.438  -1 S2X   45.125 C5X   37871372.801 L5X  148615280.381  -1 S5X   50.875 C6L   37871361.316 L6L  161538624.714   0 S6L   47.625 C1Z   37871351.867 L1Z  199015757.658   2 S1Z   45.375 C1X   37871360.312 L1X  199015753.534   2 S1X   48.875
CUT07 S37     C1C   37819960.735 L1C  198744531.970  -1 D1C         94.469 S1C   42.188
CUT07 S29     C1C   37566364.406 L1C  197411912.527   2 D1C         95.785 S1C   42.188
CUT07 S28     C1C   38013061.031 L1C  199759991.980  -1 D1C         95.191 S1C   43.688
CUT07 S27     C1C   40049796.703 L1C  210462606.892   2 D1C         95.527 S1C   37.125
CUT07 R24  2  C1C   23316082.867 L1C  124682415.975   2 D1C       2972.121 S1C   42.875 C2C   23316094.324 L2C   96975292.927  -1 S2C   40.125 C1P   23316083.414 L1P  124682478.010   2 S1P   41.125 C2P   23316094.402 L2P   96975292.954  -1 S2P   39.625
CUT07 R23  3  C1C   20279374.531 L1C  108481479.308  -1 D1C        692.941 S1C   53.500 C2C   20279382.469 L2C   84374946.137  -1 S2C   50.625 C1P   20279374.141 L1P  108481779.316  -1 S1P   51.500 C2P   20279382.898 L2P   84374782.134  -1 S2P   48.812
CUT07 R22 -3  C1C   20777797.109 L1C  110913080.549  -1 D1C      -2384.313 S1C   53.125 C2C   20777803.520 L2C   86265791.465  -1 S2C   47.812 C1P   20777797.539 L1P  110913080.544  -1 S1P   51.375 C2P   20777804.305 L2P   86265644.469  -1 S2P   46.500
...
...
CUT07 G31     C1C   23095978.320 L1C  121369634.205   1 D1C       2959.375 S1C   42.688 C2X   23095984.398 L2X   94573751.156   1 S2X   42.125 C2W   23095984.680 L2W   94573660.162   1 S2W   29.688
CUT07 G29     C1C   20694585.227 L1C  108751130.898   1 D1C        362.144 S1C   52.375 C2X   20694590.426 L2X   84740785.256   1 S2X   50.312 C2W   20694590.355 L2W   84741402.262   1 S2W   44.812
...
...
CUT07 G10     C1C   25997617.258 L1C  136618523.602   1 D1C       -123.551 S1C   36.688
CUT07 G05     C1C   24479995.523 L1C  128643093.324   1 D1C       1775.445 S1C   41.875 C2X   24480004.883 L2X  100241393.820   1 S2X   39.000 C2W   24480004.168 L2W  100241393.815   1 S2W   22.625
CUT07 G02     C1C   22635179.234 L1C  118949254.475   1 D1C      -2881.695 S1C   43.812 C2W   22635182.664 L2W   92687782.829   1 S2W   31.875

> 1768 124004.0000000
CUT07 C14     C1I   25789304.320 L1I  134292494.346   3 D1I       2247.492 S1I   37.875 C6I   25789296.797 L6I  109123673.870   0 S6I   40.812 C7I   25789306.973 L7I  103843501.964   0 S7I   40.625
CUT07 C13     C1I   27081560.469 L1I  141021356.337   3 D1I       2328.863 S1I   35.000 C6I   27081560.094 L6I  114590714.765   0 S6I   36.312 C7I   27081571.563 L7I  109046003.739   0 S7I   35.688
CUT07 C11     C1I   24860417.594 L1I  129454278.393   3 D1I      -2268.137 S1I   44.375 C6I   24860407.668 L6I  105191925.373   0 S6I   45.500 C7I   24860417.317 L7I  100102070.297   0 S7I   45.000
...
...



</pre>
<p>
The source code for BNC comes with a perl script called 'test_tcpip_client.pl' that allows you to read BNC's (synchronized or unsynchronized) ASCII observation output from the IP port and print it on standard output.
</p>

<p>
Note that any socket connection of an application to BNC's synchronized or unsynchronized observations ports is recorded in the 'Log' tab on the bottom of the main window together with a connection counter, resulting in log records like 'New client connection on sync/usync port: # 1'.
</p>

<p>
The following figure shows the screenshot of a BNC configuration where a number of streams is pulled from different NTRIP Broadcasters to feed a GNSS engine via IP port output.
</p>
<p><img src="IMG/screenshot12.png"/></p>
<p><u>Figure 14:</u> Synchronized BNC output via IP port to feed a GNSS real-time engine.</p>

<p><a name="syncport"><h4>3.9.1 Port - optional</h4></p>
<p>
BNC can produce synchronized observations in ASCII format on your local host (IP 127.0.0.1) through an IP 'Port'. Synchronized means that BNC collects all observation data for any specific epoch which become available within a certain number of latency seconds (see 'Wait for Full Obs Epoch' option). It then - epoch by epoch - outputs whatever has been received. The output comes block wise per stream. Specify an IP port number here to activate this function. The default is an empty option field, meaning that no binary synchronized output is generated.</p>
</p>

<p><a name="syncwait"><h4>3.9.2 Wait for Full Obs Epoch - mandatory if 'Port' is set</h4></p>
<p>
When feeding a real-time GNSS network engine waiting for synchronized observations epoch by epoch, BNC drops whatever is received later than 'Wait for full obs epoch' seconds. A value of 3 to 5 seconds could be an appropriate choice for that, depending on the latency of the incoming streams and the delay acceptable for your real-time GNSS product. Default value for 'Wait for full obs epoch' is 5 seconds.
</p>
<p>
Note that 'Wait for full obs epoch' does not affect the RINEX Observation file content. Observations received later than 'Wait for full obs epoch' seconds will still be included in the RINEX Observation files.
</p>

<p><a name="syncsample"><h4>3.9.3 Sampling - mandatory if 'File' or 'Port' is set</h4></p>
<p>
Select the synchronized observation output sampling interval in seconds. A value of zero '0' tells BNC to send/store all received epochs. This is the default value.
</p>

<p><a name="syncfile"><h4>3.9.4 File - optional</h4></p>
<p>
Specify the full path to a 'File' where synchronized observations are saved in plain ASCII format. The default value is an empty option field, meaning that no ASCII output file is created.
</p>
<p>
Beware that the size of this file can rapidly increase depending on the number of incoming streams. The name of the file can be changed on-the-fly, to prevent it from becoming too large. This option is primarily meant for testing and evaluation.
</p>

<p><a name="syncuport"><h4>3.9.5 Port (unsynchronized) - optional</h4></p>
<p>
BNC can produce unsynchronized observations from all configured streams in ASCII format on your local host (IP 127.0.0.1) through an IP 'Port'. Unsynchronized means that BNC immediately forwards any received observation to the port. Nevertheless, the output comes block wise per stream. Specify an IP port number here to activate this function. The default is an empty option field, meaning that no unsynchronized output is generated.
</p>

<p><a name="serial"><h4>3.10. Serial Output</h4></p>
<p>
You may use BNC to feed a serial connected device like a GNSS receiver. For that an incoming stream can be forwarded to a serial port. Depending on the stream contents the receiver may use it for Differential GNSS, Precise Point Positioning or any other purpose supported by its firmware.
</p>
<p>
Note that receiving a VRS stream requires the receiver sending NMEA sentences (mode 'Manual' or 'Auto') to the Ntrip Broadcaster. The following figure shows the data flow when pulling a VRS stream or a none VRS stream.
</p>

<p><img src="IMG/screenshot35.png"/></p>
<p><u>Figure 15:</u> Flowcharts, BNC forwarding a stream to a serial connected receiver; sending NMEA sentences is mandatory for VRS streams.</p>

<p>
The following figure shows the screenshot of an example situation where BNC pulls a VRS stream from an NTRIP Broadcaster to feed a serial connected RTK rover.
</p>

<p><img src="IMG/screenshot11.png"/></p>
<p><u>Figure 16:</u> BNC pulling a VRS stream to feed a serial connected RTK rover.</p>

<p><a name="sermount"><h4>3.10.1 Mountpoint - optional</h4></p>
<p>
Enter a 'Mountpoint' to forward its corresponding stream to a serial connected GNSS receiver.
</p>
<p>
When selecting one of the serial communication options listed below, make sure that you pick those configured to the serial connected receiver.
</p>

<p><a name="serport"><h4>3.10.2 Port Name - mandatory if 'Mountpoint' is set</h4></p>
<p>
Enter the serial 'Port name' selected on your host for communication with the serial connected receiver. Valid port names are
</p>
<pre>
Windows:       COM1, COM2
Linux:         /dev/ttyS0, /dev/ttyS1
FreeBSD:       /dev/ttyd0, /dev/ttyd1
Digital Unix:  /dev/tty01, /dev/tty02
HP-UX:         /dev/tty1p0, /dev/tty2p0
SGI/IRIX:      /dev/ttyf1, /dev/ttyf2
SunOS/Solaris: /dev/ttya, /dev/ttyb
</pre>
<p>
Note that you must plug a serial cable in the port defined here before you start BNC.
</p>

<p><a name="serbaud"><h4>3.10.3 Baud Rate - mandatory if 'Mountpoint' is set</h4></p>
<p>
Select a 'Baud rate' for the serial output link. Note that using a high baud rate is recommended.
</p>

<p><a name="serflow"><h4>3.10.4 Flow Control - mandatory if 'Mountpoint' is set</h4></p>
<p>
Select a 'Flow control' for the serial output link. Note that your selection must equal the flow control configured to the serial connected device. Select 'OFF' if you don't know better.
</p>

<p><a name="serparity"><h4>3.10.5 Parity - mandatory if 'Mountpoint' is set</h4></p>
<p>
Select the 'Parity' for the serial output link. Note that parity is often set to 'NONE'.
</p>

<p><a name="serdata"><h4>3.10.6 Data Bits - mandatory if 'Mountpoint' is set</h4></p>
<p>
Select the number of 'Data bits' for the serial output link. Note that often '8' data bits are used.
</p>

<p><a name="serstop"><h4>3.10.7 Stop Bits - mandatory if 'Mountpoint' is set</h4></p>
<p>
Select the number of 'Stop bits' for the serial output link. Note that often '1' stop bit is used.
</p>

<p><a name="serauto"><h4>3.10.8 NMEA - mandatory for VRS streams</h4></p>
<p>
Select 'Auto' to automatically forward all NMEA-GGA messages coming from your serial connected GNSS receiver to the NTRIP Broadcaster and/or save them in a file.
</p>
<p>
Forwarding valid NMEA-GGA messages to the NTRIP Broadcaster is required for receiving 'Virtual Reference Station' (VRS) streams. Thus, in case your serial connected receiver is not capable to provide them, the alternative for VRS streams is a 'Manual' simulation of an initial NMEA-GGA message. Its content is based on the approximate (editable) latitude/longitude from the broadcaster's source-table and an approximate VRS height to be specified.
</p>
<p>
In summary: select 'Manual' only when handling a VRS stream and your serial connected GNSS receiver doesn't generate NMEA-GGA messages. Select 'Auto' otherwise.
</p>

<p><a name="serfile"><h4>3.10.9 File - optional if 'Auto' NMEA is set</h4></p>
<p>Specify the full path to a file where NMEA messages coming from your serial connected receiver are saved.
</p>
<p><a name="serheight"><h4>3.10.10 Height - mandatory if 'Manual' NMEA is set</h4></p>
<p>
Specify an approximate 'Height' above mean sea level in meter for your VRS to simulate an initial NMEA-GGA message. Latitude and longitude for that (editable) are taken from the broadcaster's source-table.
</p>
<p>
This option concerns only 'Virtual Reference Stations' (VRS). Its setting is ignored in case of streams coming from physical reference stations.
</p>

<p><a name="advnote"><h4>3.11. Outages</h4></p>

<p>
At any time an incoming stream might become unavailable or corrupted. In such cases, it is important that the BNC operator and/or the stream providers become aware of the situation so that necessary measures can be taken to restore the stream. Furthermore, continuous attempts to decode a corrupted stream can generate unnecessary workload for BNC. Outages and corruptions are handled by BNC as follows:
</p>
<p>
<u>Stream outages:</u> BNC considers a connection to be broken when there are no incoming data detected for more than 20 seconds. When this occurs, BNC will attempt to reconnect at a decreasing rate. It will first try to reconnect with 1 second delay and again in 2 seconds if the previous attempt failed. If the attempt is still unsuccessful, it will try to reconnect within 4 seconds after the previous attempt and so on. The wait time doubles each time with a maximum wait time of 256 seconds.
</p>
<p>
<u>Stream corruption:</u> Not all bits chunk transfers to BNC's internal decoders return valid observations. Sometimes several chunks might be needed before the next observation can be properly decoded. BNC buffers all the outputs (both valid and invalid) from the decoder for a short time span (size derived from the expected 'Observation rate') and then determines whether a stream is valid or corrupted.
</p>
<p>
Outage and corruption events are reported in the 'Log' tab. They can also be passed on as parameters to a shell script or batch file to generate an advisory note to BNC operator or affected stream providers. This functionality lets users utilize BNC as a real-time performance monitor and alarm system for a network of GNSS reference stations.
</p>

<p><a name="obsrate"><h4>3.11.1 Observation Rate - mandatory if 'Failure threshold', 'Recovery threshold' and 'Script' is set</h4></p>
<p>
BNC can collect all returns (success or failure) coming from a decoder within a certain short time span to then decide whether a stream has an outage or its content is corrupted. This procedure needs a rough a priory estimate of the expected observation rate of the incoming streams.</p><p>An empty option field (default) means that you don't want explicit information from BNC about stream outages and incoming streams that cannot be decoded.
</p>

<p><a name="advfail"><h4>3.11.2 Failure Threshold - optional</h4></p>
<p>
Event 'Begin_Failure' will be reported if no data is received continuously for longer than the 'Failure threshold' time. Similarly, event 'Begin_Corrupted' will be reported when corrupted data is detected by the decoder continuously for longer than this 'Failure threshold' time. The default value is set to 15 minutes and is recommended so not to inundate user with too many event reports.
</p>
<p>
Note that specifying a value of zero '0' for the 'Failure threshold' will force BNC to report any stream failure immediately. Note also that for using this function you need to specify the 'Observation rate'.
</p>

<p><a name="advreco"><h4>3.11.3 Recovery Threshold - optional</h4></p>
<p>
Once a 'Begin_Failure' or 'Begin_Corrupted' event has been reported, BNC will check for when the stream again becomes available or uncorrupted. Event 'End_Failure' or 'End_Corrupted' will be reported as soon as valid observations are again detected continuously throughout the 'Recovery threshold' time span. The default value is set to 5 minutes and is recommended so not to inundate users with too many event reports.
</p>
<p>
Note that specifying a value of zero '0' for the 'Recovery threshold' will force BNC to report any stream recovery immediately. Note also that for using this function you need to specify the 'Observation rate'.
</p>

<p><a name="advscript"><h4>3.11.4 Script - optional </h4></p>
<p>
As mentioned previously, BNC can trigger a shell script or a batch file to be executed when one of the events described are reported. This script can be used to email an advisory note to network operator or stream providers. To enable this feature, specify the full path to the script or batch file in the 'Script' field. The affected stream's mountpoint and type of event reported ('Begin_Outage', 'End_Outage', 'Begin_Corrupted' or 'End_Corrupted') will then be passed on to the script as command line parameters (%1 and %2 on Windows systems or $1 and $2 on Unix/Linux/Mac OS X systems) together with date and time information.
</p>
<p>
Leave the 'Script' field empty if you do not wish to use this option. An invalid path will also disable this option.
</p>
<p>
Examples for command line parameter strings passed on to the advisory 'Script' are:
<pre>
FFMJ0 Begin_Outage 08-02-21 09:25:59
FFMJ0 End_Outage 08-02-21 11:36:02 Begin was 08-02-21 09:25:59
</pre>
</p>
<p>
Sample script for Unix/Linux/Mac OS X systems:
</p>
<pre>
#!/bin/bash
sleep $((60*RANDOM/32767))
cat &gt; mail.txt &lt;&lt;EOF
Advisory Note to BNC User,
Please note the following advisory received from BNC.
Stream: $*
Regards, BNC
EOF
mail -s &quot;NABU: $1&quot; email@address &lt; mail.txt
</pre>
</p>
<p>
Note the sleep command in this script which causes the system to wait for a random period of up to 60 seconds before sending the email. This should avoid overloading your mail server in case of a simultaneous failure of many streams.
</p>

<p><a name="misc"><h4>3.12. Miscellaneous</h4></p>
<p>
This section describes several miscellaneous options which can be applied for a single stream (mountpoint) or for all configured streams.
</p>

<p>
The following figure shows RTCM message numbers and observation types contained in stream 'CUT07' and the message latencies recorded every 2 seconds.
</p>
<p><img src="IMG/screenshot14.png"/></p>
<p><u>Figure 17:</u> RTCM message numbers, latencies and observation types.</p>


<p><a name="miscmount"><h4>3.12.1 Mountpoint - optional </h4></p>
<p>
Specify a mountpoint to apply one or several of the 'Miscellaneous' options to the corresponding stream. Enter 'ALL' if you want to apply these options to all configured streams. An empty option field (default) means that you don't want BNC to apply any of these options.
</p>

<p><a name="miscperf"><h4>3.12.2 Log Latency - optional </h4></p>
<p>
 BNC can average latencies per stream over a certain period of GPS time, the 'Log latency' interval. Mean latencies are calculated from the individual latencies of one (first incoming) observation or Broadcast Correction per second. The mean latencies are then saved in BNC's logfile. Note that computing correct latencies requires the clock of the host computer to be properly synchronized. Note further that visualized latencies from the 'Latency' tab on the bottom of the main window represent individual latencies and not the mean latencies for the logfile.
</p>
<p>
<u>Latency:</u> Latency is defined in BNC by the following equation:
</p>
<pre>
    UTC time provided by BNC's host
  - GPS time of currently processed epoch
  + Leap seconds between UTC and GPS time
  --------------
  = Latency
</pre>
<p>
<u>Statistics:</u> BNC counts the number of GPS seconds covered by at least one observation. It also estimates an observation rate (independent from the a priory specified 'Observation rate') from all observations received throughout the first full 'Log latency' interval. Based on this rate, BNC estimates the number of data gaps when appearing in subsequent intervals.
</p>
<p>
Latencies of observations or corrections to Broadcast Ephemeris and statistical information can be recorded in the 'Log' tab at the end of each 'Log latency' interval. A typical output from a 1 hour 'Log latency' interval would be:
</p>
<pre>
08-03-17 15:59:47 BRUS0: Mean latency 1.47 sec, min 0.66, max 3.02, rms 0.35, 3585 epochs, 15 gaps
</pre>
<p>
Select a 'Log latency' interval to activate this function or select the empty option field if you do not want BNC to log latencies and statistical information.
</p>


<p><a name="miscscan"><h4>3.12.3 Scan RTCM - optional</h4></p>
<p>
When configuring a GNSS receiver for RTCM stream generation, the firmware's setup interface may not provide details about RTCM message types observation types. As reliable information concerning stream contents should be available i.e. for NTRIP Broadcaster operators to maintain the broadcaster's source-table, BNC allows to scan RTCM streams for incoming message types and printout some of the contained meta-data. Contained observation types are also printed because such information is required a-priori to the conversion of RTCM Version 3 MSM streams to RINEX Version 3 files. The idea for this option arose from 'InspectRTCM', a comprehensive stream analyzing tool written by D. Stoecker.
</p>
<p>
Tick 'Scan RTCM' to scan RTCM Version 2 or 3 streams and log all contained
</p>
<ul>
<li>Numbers of incoming message types</li>
<li>Antenna Reference Point (ARP) coordinates</li>
<li>Antenna Phase Center (APC) coordinates</li>
<li>Antenna height above marker</li>
<li>Antenna descriptor.</li>
</ul>
In case of RTCM Version 3 MSM streams the output includes
<ul>
<li>RINEX Version 3 Observation Types</li>
</ul>
</p>

<p>
Note that in RTCM Version 2 the message types 18 and 19 carry only the observables of one frequency. Hence it needs two type 18 and 19 messages per epoch to transport the observations from dual frequency receivers.
</p>

<p>
Please note further that RTCM Version 3 message types 1084 for GLONASS don't contain GLONASS channel numbers. Observations from these messages can only be decoded when you include 1020 GLONASS ephemeris messages to your stream which contain the channels. You could also consider adding a second stream carrying 1087 GLONASS observation messages or 1020 GLONASS ephemeris messages as both contain the GLONASS channel numbers.
</p>
<p>

<p>Logged time stamps refer to message reception time and allow understanding repetition rates. Enter 'ALL' if you want to log this information from all configured streams. Beware that the size of the logfile can rapidly increase depending on the number of incoming RTCM streams.
</p>
<p>This option is primarily meant for testing and evaluation. Use it to figure out what exactly is produced by a specific GNSS receiver's configuration. An empty option field (default) means that you don't want BNC to print the message type numbers and antenna information carried in RTCM streams.
</p>


<p><a name="miscport"><h4>3.12.4 Port - optional</h4></p>
<p>
BNC can output streams related to the above specified 'Mountpoint' through a TCP/IP port of your local host. Enter a port number to activate this function. The stream contents remains untouched. BNC does not decode or reformat the data.
</p>
<p>
Be careful when keyword 'ALL' is specified as 'Mountpoint' for involving all incoming streams together because the affiliation of data  to certain streams gets lost in the output.
</p>
<p>
 An empty option field (default) means that you don't want BNC to apply the TCP/IP port output option.
</p>


<p><a name="pppclient"><h4>3.13. PPP Client</h4></p>
<p>
BNC can derive coordinates for a rover position following the Precise Point Positioning (PPP) approach. It uses either code or code plus phase data in ionosphere free linear combinations P3 or L3. Besides pulling a stream of observations from a dual frequency receiver, this also
<ul>
<li>requires pulling in addition a stream carrying satellite orbit and clock corrections to Broadcast Ephemeris in the form of RTCM Version 3 'State Space Representation' (SSR) messages. Note that for BNC these Broadcast Corrections need to be referred to the satellite's Antenna Phase Center (APC). Streams providing such messages are listed on <u>http://igs.bkg.bund.de/ntrip/orbits</u>. Stream 'CLK11' on NTRIP Broadcaster 'products.igs-ip.net:2101' is an example.</li>
<li>may require pulling a stream carrying Broadcast Ephemeris available as RTCM Version 3 message types 1019, 1020, 1043, 1044, 1045, 1046 and 63 (tentative). This is a must only when the stream coming from the receiver does not contain Broadcast Ephemeris or provides them only at very low repetition rate. Streams providing such messages are listed on <u>http://igs.bkg.bund.de/ntrip/ephemeris</u>. Stream 'RTCM3EPH' on caster 'products.igs-ip.net:2101' is an example.</li>
</ul>
</p>
<p>
The following figure provides the screenshot of an example PPP session with BNC.
</p>

<p><img src="IMG/screenshot03.png"/></p>
<p><u>Figure 18:</u> Precise Point Positioning with BNC, PPP Panel 1.</p>

<p><img src="IMG/screenshot18.png"/></p>
<p><u>Figure 19:</u> Precise Point Positioning with BNC, PPP Panel 2.</p>

<p>
PPP results are shown in the 'Log' tab on the bottom of BNC's main window. Depending on the processing options, the following values are shown about once per second (example):
<pre>
10-09-08 09:14:06 FFMJ1  PPP 09:14:04.0 12    4053457.429 +-  2.323     617730.551 +-  1.630    4869395.266 +-  2.951
</pre>
</p>
<p>
The selected mountpoint in that is followed by a PPP time stamp in GPS Time, the number of processed satellites, and XYZ coordinates with their formal errors as derived from the implemented filter in [m]. The implemented algorithm includes outlier and cycle slip detection. The maximum for accepted residuals is hard coded to 10 meters for code observations and 10 centimeters for phase observations.
</p>

<p>
More detailed PPP results are saved in BNC's logfile. Depending on the selected processing options you find
<ul>
<li>code and phase residuals for GPS and GLONASS and Galileo in [m], </li>
<li>receiver clock errors in [m], </li>
<li>a-priori and correction values of tropospheric zenith delay in [m],
<li>time offset between GPS time and Galileo time in [m],
<li>L3 biases, also known as 'floated ambiguities', given per satellite.
</ul>
These parameters are saved together with their standard deviation. The following is an example extract from a log file when BNC was in 'Single Point Positioning' (SPP) mode:
</p>
<p>
<pre>
13-11-25 11:07:04 Single Point Positioning of Epoch 11:07:01.0
--------------------------------------------------------------

11:07:01.0 RES E12   P3   -0.0206
11:07:01.0 RES E19   P3   -1.4706
11:07:01.0 RES E20   P3    1.1018
11:07:01.0 RES G01   P3   -0.3704
11:07:01.0 RES G03   P3   -0.2806
11:07:01.0 RES G06   P3    0.3635
11:07:01.0 RES G11   P3    0.1940
11:07:01.0 RES G14   P3    0.0357
11:07:01.0 RES G18   P3   -2.1105
11:07:01.0 RES G19   P3    0.4660
11:07:01.0 RES G22   P3    1.9451
11:07:01.0 RES G27   P3   -0.7073
11:07:01.0 RES G28   P3   -0.3382
11:07:01.0 RES G32   P3    0.5999
11:07:01.0 RES E12   L3    0.0204
11:07:01.0 RES E19   L3   -0.0152
11:07:01.0 RES E20   L3   -0.0119
11:07:01.0 RES G01   L3   -0.0055
11:07:01.0 RES G03   L3    0.0172
11:07:01.0 RES G06   L3   -0.0144
11:07:01.0 RES G11   L3    0.0140
11:07:01.0 RES G14   L3    0.0258
11:07:01.0 RES G18   L3    0.0192
11:07:01.0 RES G19   L3   -0.0004
11:07:01.0 RES G22   L3   -0.0272
11:07:01.0 RES G27   L3   -0.0022
11:07:01.0 RES G28   L3   -0.0040
11:07:01.0 RES G32   L3   -0.0130
11:07:01.0 RES R02   L3   -0.0576
11:07:01.0 RES R03   L3   -0.0054
11:07:01.0 RES R09   L3    0.0168
11:07:01.0 RES R10   L3   -0.0339
11:07:01.0 RES R17   L3    0.0122
11:07:01.0 RES R18   L3    0.0593

    clk     =     -8.985 +-  0.513
    trp     =   2.184 -0.032 +-  0.002
    offGlo  =      0.175 +- 32.547
    offGal  =      4.711 +-  1.057
    amb E20 =    286.385 +-  0.925   nEpo = 914
    amb G01 =   -121.366 +-  0.513   nEpo = 914
    amb G18 =     -9.270 +-  0.513   nEpo = 914
    amb G32 =   -132.475 +-  0.513   nEpo = 914
    amb G27 =    -32.002 +-  0.513   nEpo = 640
    amb G14 =     45.672 +-  0.513   nEpo = 608
    amb E19 =    126.492 +-  0.925   nEpo = 360
    amb R03 =    -91.230 +- 32.551   nEpo = 360
    amb R09 =     29.258 +- 32.551   nEpo = 340
    amb G22 =   -113.167 +-  0.513   nEpo = 335
    amb E12 =   -122.721 +-  0.925   nEpo = 313
    amb G06 =     17.432 +-  0.513   nEpo = 303
    amb G11 =   -182.885 +-  0.513   nEpo = 279
    amb R10 =   -268.896 +- 32.551   nEpo = 202
    amb R02 =    198.251 +- 32.551   nEpo = 185
    amb G28 =     26.367 +-  0.513   nEpo = 94
    amb R17 =     30.320 +- 32.551   nEpo = 86
    amb R18 =   -256.708 +- 32.551   nEpo = 86
    amb G19 =     32.690 +-  0.513   nEpo = 71
    amb G03 =    137.912 +-  0.513   nEpo = 47

13-11-25 11:07:04 WTZ27  PPP 11:07:01.0 20    4075534.903 +-  0.019     931822.501 +-  0.015    4801609.005 +-  0.024  NEU    0.055    0.063   -0.146

13-11-25 11:07:04 WTZ27  AVE-XYZ 11:07:01.0   4075534.918 +-  0.008     931822.503 +-  0.003    4801608.994 +-  0.014
13-11-25 11:07:04 WTZ27  AVE-NEU 11:07:01.0         0.035 +-  0.010          0.062 +-  0.002         -0.145 +-  0.012
13-11-25 11:07:04 WTZ27  AVE-TRP 11:07:01.0         2.150 +-  0.002
</pre>
</p>

<p>
Note that for debugging or Post Processing purposes BNC's 'PPP' functionality option can also be used offline.
<ul>
<li>
<u>Debugging:</u> Apply the 'File Mode' 'Command Line' option for that to read a file containing synchronized observations, orbit and clock correctors, and Broadcast Ephemeris. Such a file must be generated before using BNC's 'Raw output file' option. Example:<br>
bnc.exe --conf c:\temp\PPP.bnc --file c:\temp\FFMJ1
</li>
<li>
<u>Post Processing:</u> Apply the 'Post Processing' option as described below.
</li>
</ul>
</p>

<p>When using the PPP option, it is important to understand which effects are corrected by BNC.
</p>
<ul>
<li>BNC does correct for Solid Earth Tides and Phase Windup.</li>
<li>Satellite antenna phase center offsets are corrected.</li>
<li>Satellite antenna phase center variations are neglected because this is a small effect usually less than 2 centimeters.</li>
<li>Observations can be corrected for a Receiver Antenna Offset. Depending on whether or not this correction is applied, the estimated position is either that of the receiver's antenna phase center or that of the receiver's Antenna Reference Point.</li>
<li>Receiver antenna phase center variations are not included in the model. The bias caused by this neglect depends on the receiver antenna type. For most antennas it is smaller than a few centimeters.</li>
<li>Ocean and atmospheric loading is neglected. Atmospheric loading is pretty small. Ocean loading is usually also a small effect but may reach up to about 10 centimeters for coastal stations.</li>
<li>Rotational deformation due to polar motion (Polar Tides) is not corrected because this is a small effect usually less than 2 centimeters.</li>
</ul>
</p>
<p>
The provider of an orbit/clock corrections stream may switch with his service at any time from a duty to a backup server installation. This shall be noted in the SSR stream through a change of the Issue Of Data (IOD SSR) parameter. The PPP option in BNC will immediately reset all ambiguities in such a situation.
</p>

<p><a name="pppmode"><h4>3.13.1 Mode & Mountpoints - optional</h4></p>
<p>
Specify the Point Positioning mode you want to apply and the mountpoints for observations and Broadcast Corrections.
</p>

<p><a name="pppmodus"><h4>3.13.1.1 Mode - optional</h4></p>
<p>
Choose between plain Single Point Positioning (SPP) and Precise Point Positioning (PPP) in 'Realtime' or 'Post-Processing' mode. Options are 'Realtime-PPP', 'Realtime-SPP', and 'Post-Processing'.
</p>

<p><a name="pppobsmount"><h4>3.13.1.2 Obs Mountpoint - optional</h4></p>
<p>
Specify an 'Observations Mountpoint' from the list of selected 'Streams' you are pulling if you want BNC to derive coordinates for the affected rover position through a Point Positioning solution.
</p>

<p><a name="pppcorrmount"><h4>3.13.1.3 Corr Mountpoint - optional</h4></p>
<p>
Specify a Broadcast Ephemeris 'Corrections Mountpoint' from the list of selected 'Streams' you are pulling if you want BNC to correct your positioning solution accordingly. Not that the stream's corrections must refer to the satellite Antenna Phase Center (APC).
</p>

<p><a name="pppxyz"><h4>3.13.2 Marker Coordinates - optional</h4></p>
<p>
Enter the reference coordinate XYZ of the receiver's position in meters if known. This option makes only sense for static observations. Defaults are empty option fields, meaning that the antenna's XYZ position is unknown.
</p>
<p>
Once a XYZ coordinate is defined, the 'PPP' line in BNC's logfile is extended by North, East and Up displacements to (example):
</p>
<pre>
10-08-09 06:01:56 FFMJ1  PPP 06:02:09.0 11    4053457.628 +-  2.639     617729.438 +-  1.180    4869396.447 +-  1.921  NEU   -0.908   -0.571    1.629
</pre>
<p>
The parameters following the 'NEU' string provide North, East and Up components of the current coordinate displacement in meters.
</p>

<p><a name="pppneu"><h4>3.13.3 Antenna Eccentricity - optional</h4></p>
<p>
You may like to specify North, East and Up components of an antenna eccentricity which is the difference between a nearby marker position and the antenna phase center. If you do so BNC will produce coordinates referring to the marker position and not referring to the antenna phase center.
</p>

<p><a name="pppoutput"><h4>3.13.4 NMEA Output - optional</h4></p>
<p>
BNC allows to output results from Precise Point Positioning in NMEA format.
</p>
<p>
Note that Tomoji Takasu has written a program called RTKPLOT for visualizing NMEA strings. It is available from <u>http://www.rtklib.com</u> and compatible with the NMEA file and port output of BNC's 'PPP' client option.
</p>

<p><a name="pppnmeafile"><h4>3.13.4.1 NMEA File - optional</h4></p>
<p>
The NMEA sentences generated about once per second are pairs of
<ul>
<li> GPGGA sentences which mainly carry the estimated latitude, longitude, and height values, plus</li>
<li> GPRMC sentences which mainly carry date and time information.</li>
</ul>
</p>
<p>
Specify the full path to a file where Point Positioning results are saved as NMEA messages. The default value for 'NMEA file' is an empty option field, meaning that BNC will not saved NMEA messages into a file.
</p>

<p><a name="pppnmeaport"><h4>3.13.4.2 NMEA Port - optional</h4></p>
<p>
Specify the IP port number of a local port where Point Positioning results become available as NMEA messages. The default value for 'NMEA Port' is an empty option field, meaning that BNC does not provide NMEA messages vi IP port. Note that the NMEA file output and the NMEA IP port output are the same.
</p>
<p>
NASA's 'World Wind' software (see <u>http://worldwindcentral.com/wiki/NASA_World_Wind_Download</u>) can be used for real-time visualization of positions provided through BNC's NMEA IP output port. You need the 'GPS Tracker' plug-in available from <u>http://worldwindcentral.com/wiki/GPS_Tracker</u> for that. The 'Word Wind' map resolution is not meant for showing centimeter level details.
</p>

<p><a name="ppppost"><h4>3.13.5 Post Processing - optional</h4></p>
<p>When in 'Post-Processing' mode
<ul>
<li>Specifying a RINEX Observation, a RINEX Navigation and a Broadcast Corrections file leads to a PPP solution.</li>
<li>Specifying only a RINEX Observation and a RINEX Navigation file and no Broadcast Corrections file leads to a SPP solution.</li>
</ul>
</p>
<p>BNC accepts RINEX Version 2 as well as RINEX Version 3 Observation or Navigation file formats. Files carrying Broadcast Corrections must have the format produced by BNC through the 'Broadcast Corrections' tab.
<p>
Post Processing PPP results can be saved in a specific output file.
</p>

<p><a name="ppprecant"><h4>3.13.6 Antennas - optional</h4></p>
<p>
BNC allows correcting observations for antenna phase center offsets and variations.
</p>

<p><a name="pppantex"><h4>3.13.6.1 ANTEX File - optional</h4></p>
<p>
IGS provides a file containing absolute phase center corrections for GNSS satellite and receiver antennas in ANTEX format. Entering the full path to such an ANTEX file is required for correcting observations for antenna phase center offsets and variations. It allows you to specify the name of your receiver's antenna (as contained in the ANTEX file) to apply such corrections.
</p>
<p>
Default is an empty option field, meaning that you don't want to correct observations for antenna phase center offsets and variations.
</p>

<p><a name="ppprecantenna"><h4>3.13.6.2 Receiver Antenna Name - optional if 'ANTEX File' is set</h4></p>
<p>
Specify the receiver's antenna name as defined in your ANTEX file. Observations will be corrected for the antenna phase center's offset which may result in a reduction of a few centimeters at max. Corrections for phase center variations are not yet applied by BNC. The specified name must consist of 20 characters. Add trailing blanks if the antenna name has less than 20 characters. Examples:
<pre>
'JPSREGANT_SD_E      ' (no radome)
'LEIAT504        NONE' (no radome)
'LEIAR25.R3      LEIT' (radome)
</pre>
</p>
<p>
Default is an empty option field, meaning that you don't want to correct observations for antenna phase center offsets.
</p>

<p><a name="pppbasics"><h4>3.13.7 Basics</h4></p>
<p>BNC allows using different Point Positioning processing options depending on the capability of the involved receiver and the application in mind. It also allows introducing specific sigmas for code and phase observations as well as for reference coordinates and troposphere estimates. You may also like to carry out your PPP solution in Quick-Start mode or enforce BNC to restart a solution if the length of an outage exceeds a certain threshold.
</p>

<p><a name="pppphase"><h4>3.13.7.1 Use Phase Obs - optional</h4></p>
<p>
By default BNC applies a Point Positioning solution using an ionosphere free P3 linear combination of code observations. Tick 'Use phase obs' for an ionosphere free L3 linear combination of phase observations.
</p>

<p><a name="ppptropo"><h4>3.13.7.2 Estimate Tropo - optional</h4></p>
<p>
BNC estimates the tropospheric delay according to equation
<pre>
T(z) = T_apr(z) + dT / cos(z)
</pre>
where T_apr is the a-priori tropospheric delay derived from Saastamoinen model.
</p>
<p>
By default BNC does not estimate troposphere parameters. Tick 'Estimate tropo' to estimate troposphere parameters together with the coordinates and save T_apr and dT/cos(z) in BNC's log file.
</p>

<p><a name="pppglo"><h4>3.13.7.3 Use GLONASS - optional</h4></p>
<p>
By default BNC does not process GLONASS but only GPS observations when in Point Positioning mode. Tick 'Use GLONASS' to use GLONASS observations in addition to GPS (and Galileo if specified) for estimating coordinates in Point Positioning mode.
</p>

<p><a name="pppgal"><h4>3.12.7.4 Use Galileo - optional</h4></p>
<p>
By default BNC does not process Galileo but only GPS observations when in Point Positioning mode. Tick 'Use Galileo' to use Galileo observations in addition to GPS (and GLONASS if specified) for estimating coordinates in Point Positioning mode.
</p>

<p><a name="pppsync"><h4>3.13.7.5 Sync Corr - optional</h4></p>
<p>
Zero value (or empty field) means that BNC processes each epoch of data immediately after its arrival using satellite clock corrections available at that time. Non-zero value 'Sync Corr' means that the epochs of data are buffered and the processing of each epoch is postponed till the satellite clock corrections not older than 'Sync Corr' are available. Specifying a value of half the update rate of the clock corrections as 'Sync Corr' (i.e. 5 sec) may be appropriate. Note that this causes an additional delay of the PPP solutions in the amount of half of the update rate.
</p>
<p>
Using observations in sync with the corrections can avoid a possible high frequency noise of PPP solutions. Such noise could result from processing observations regardless of how late after a clock correction they were received. Note that applying the 'Sync Corr' option significantly reduces the PPP computation effort for BNC.
</p>
<p>
Default is an empty option field, meaning that you want BNC to process observations immediately after their arrival through applying the latest received clock correction.
</p>

<p><a name="pppaverage"><h4>3.13.7.6 Averaging - optional if XYZ is set</h4></p>
<p>
Enter the length of a sliding time window in minutes. BNC will continuously output moving average values and their RMS as computed from those individual values obtained most recently throughout this period. RMS values presented for XYZ coordinates and tropospheric zenith path delays are bias reduced while RMS values for North/East/Up (NEU) displacements are not. Averaged values for XYZ coordinates and their RMS are marked with string &quot;AVE-XYZ&quot; in BNC's log file and 'Log' section while averaged values for NEU displacements and their RMS are marked with string &quot;AVE-NEU&quot; and averaged values for the tropospheric delays and their RMS are marked with string &quot;AVE-TRP&quot;. Example:
</p>
<pre>
10-09-08 09:13:05 FFMJ1  AVE-XYZ 09:13:04.0   4053455.948 +-  0.284     617730.422 +-  0.504    4869397.692 +-  0.089
10-09-08 09:13:05 FFMJ1  AVE-NEU 09:13:04.0    1.043 +-  0.179    0.640 +-  0.456    1.624 +-  0.331
10-09-08 09:13:05 FFMJ1  AVE-TRP 09:13:04.0         2.336 +-  0.002
</pre>
<p>
Entering any positive value up to 1440 (24h mean value) is allowed. An empty option field (default) means that you don't want BNC to output moving average positions into the log file and the 'Log' section. Note that averaging positions makes only sense for a stationary receiver.
</p>

<p><a name="pppquick"><h4>3.13.7.7 Quick-Start - optional if XYZ is set</h4></p>
<p>
Enter the length of a startup period in seconds for which you want to fix the PPP solution to a known XYZ coordinate. Constraining coordinates is done in BNC through setting the 'XYZ White Noise' temporarily to zero.
</p>
<p>
This so-called Quick-Start option allows the PPP solutions to rapidly converge after startup. It requires that the antenna remains unmoved on the know position throughout the defined period. A value of 60 is likely to be an appropriate choice for 'Quick-Start'. Default is an empty option field, meaning that you don't want BNC to start in 'Quick-Start' mode.
<p>
You may need to create your own reference coordinate through running BNC for an hour in normal mode before applying the 'Quick-Start' option. Don't forget to introduce a realistic sigma 'XYZ Ini' according to the coordinate's precision.
</p>

<p><img src="IMG/screenshot17.png"/></p>
<p><u>Figure 20:</u> BNC in 'Quick-Start' mode (PPP, Panel 1)</p>

<p><img src="IMG/screenshot22.png"/></p>
<p><u>Figure 21:</u> BNC in 'Quick-Start' mode (PPP, Panel 2)</p>

<p><a name="pppgap"><h4>3.13.7.8 Maximal Solution Gap - optional if Quick-Start is set</h4></p>
<p>
Specify a 'Maximum Solution Gap' in seconds. Should the time span between two consecutive solutions exceed this limit, the algorithm returns into the 'Quick-Start' mode and fixes the introduced reference coordinate for the specified 'Quick-Start' period. A value of '60' seconds could be an appropriate choice.
</p>
<p>
This option makes only sense for a stationary operated receiver where solution convergence can be enforced because a good approximation for the rover position is known. Default is an empty option field, meaning that you don't want BNC to return into the 'Quick-Start' mode after failures caused i.e. by longer lasting outages.
</p>

<p><a name="pppaudio"><h4>3.13.7.9 Audio Response - optional if Quick-Start is set</h4></p>
<p>
For natural hazard prediction and monitoring it may be appropriate to generate audio alerts. For that you can specify an 'Audio response' threshold in meters. A beep is produced by BNC whenever a horizontal PPP coordinate component differs by more than the threshold value from the specified marker coordinate.
</p>
<p>
Default is an empty option field, meaning that you don't want BNC to produce acoustic warning signals.
</p>

<p><a name="pppsigmas"><h4>3.13.8 Sigmas</h4></p>
<p>
You may like to introduce specific sigmas for code and phase observations and for the estimation of troposphere parameters.
</p>

<p><a name="pppsigc"><h4>3.13.8.1 Code - mandatory if 'Use Phase Obs' is set</h4></p>
<p>
When 'Use phase obs' is set in BNC, the PPP solution will be carried out using both, code and phase observations. A sigma of 10.0 m for code observations and a sigma of 0.02 m for phase observations (defaults) are used to combine both types of observations. As the convergence characteristic of a PPP solution can be influenced by the ratio of the sigmas for code and phase, you may like to introduce you own sigmas for code and phase observations which differ from the default values.
<ul>
<li>Introducing a smaller sigma (higher accuracy) for code observations or a larger sigma for phase observations leads to better results shortly after program start. However, it may take more time till you finally get the best possible solution.</li>
<li>Introducing a larger sigma (lower accuracy) for code observations or a smaller sigma for phase observations may lead to less accurate results shortly after program start and thus a prolonged period of convergence but could provide better positions in the long run.</li>
</ul>
</p>
<p>
Specify a sigma for code observations. Default is 10.0 m.
</p>

<p><a name="pppsigp"><h4>3.13.8.2 Phase - mandatory if 'Use Phase Obs' is set</h4></p>
<p>
Specify a sigma for phase observations. Default is 0.02 m.
</p>

<p><a name="pppsigxyzi"><h4>3.13.8.3 XYZ Init - mandatory</h4></p>
<p>
Enter a sigma in meters for the initial XYZ coordinate. A value of 100.0 (default) may be an appropriate choice. However, this value may be significantly smaller (i.e. 0.01) when starting for example from a station with known XZY position in Quick-Start mode.
</p>

<p><a name="pppsigxyzn"><h4>3.13.8.4 XYZ White Noise - mandatory</h4></p>
<p>
Enter a sigma in meters for the 'White Noise' of estimated XYZ coordinate components. A value of 100.0 (default) may be appropriate when considering possible sudden movements of a rover.
</p>

<p><a name="pppsigtrpi"><h4>3.13.8.5 Tropo Init - mandatory if 'Estimate tropo' is set</h4></p>
<p>
Enter a sigma in meters for the a-priory model based tropospheric delay estimation. A value of 0.1 (default) may be an appropriate choice.
</p>

<p><a name="pppsigtrpn"><h4>3.13.8.6 Tropo White Noise - mandatory if 'Estimate tropo' is set</h4></p>
<p>
Enter a sigma in meters per second to describe the expected variation of the tropospheric effect. Supposing 1Hz observation data, a value of 3e-6 (default) would mean that the tropospheric effect may vary for 3600 * 3e-6 = 0.01 meters per hour.
</p>

<p><a name="pppplots"><h4>3.13.9 PPP Plot - optional</h4></p>
<p>
PPP time series of North (red), East (green) and Up (blue) displacements will be plotted in the 'PPP Plot' tab when this option is ticked. Values will be either referred to an XYZ reference coordinate (if specified) or referred to the first estimated XYZ coordinate. The sliding PPP time series window will cover the period of the latest 5 minutes.
</p>
<p>
Note that a PPP time series makes only sense for a stationary operated receiver.
</p>

<p><a name="ppptracepos"><h4>3.13.10 Track Plot</h4></p>
<p>
You make like to track your rover position using Google Maps or Open StreetMap as a background map. Track maps can be produced with BNC in 'Realtime-PPP', 'Realtime-SPP' and 'Post-Processing' PPP mode.
</p>
<p>
When in 'Post-Processing' mode you should not forget to specify a proxy under the 'Network' tab if that is operated in front of BNC.
</p>

<br>
<p><img src="IMG/screenshot32.png"/></p>
<p><u>Figure 22:</u> Track of positions from BNC with Google Maps in the background.</p>

<p><a name="pppmap"><h4>3.13.10.1 Open Map - optional</h4></p>
<p>
The 'Open Map' button opens a windows showing a map according to options specified below.
</p>

<p><a name="pppmaptype"><h4>3.13.10.2 Google/OSM - mandatory before pushing 'Open Map'</h4></p>
<p>
Specify either 'Google' or 'OSM' as the background for your rover positions.
</p>

<p><a name="pppdot"><h4>3.13.10.3 Dot Size - mandatory before pushing 'Open Map'</h4></p>
<p>
Specify the size of dots showing the rover position. A dot size of '3' may be appropriate. The maximum possible dot size is '10'. An empty option field or a size of '0' would mean that you don't want BNC to show the rover's track on the map.
</p>

<p><a name="pppcolor"><h4>3.13.10.4 Dot Color - mandatory before pushing 'Open Map'</h4></p>
<p>
Specify the color of dots showing the rover track.
</p>

<p><a name="pppspeed"><h4>3.13.10.5 Speed - mandatory before pushing 'Open Map'</h4></p>
<p>
With BNC in PPP post-processing mode you can specify the speed of computations as appropriate for visualization. Note that you can adjust 'Speed' on-the-fly while BNC is processing your observatins.
</p>

<p><a name="combi"><h4>3.14. Combine Corrections</h4></p>
<p>
BNC allows processing several orbit and clock correction streams in real-time to produce, encode, upload and save a combination of Broadcast Corrections from various providers. All corrections must refer to satellite Antenna Phase Centers (APC). It is so far only the satellite clock corrections which are combined while orbit corrections in the combination product as well as the product update rates are just taken over from one of the incoming Broadcast Correction streams. Combining only clock corrections using a fixed orbit reference has the possibility to introduce some analysis inconsistencies. We may therefore eventually consider improvements on this approach. The clock combination can be based either on a plain 'Single-Epoch' or on a 'Kalman' Filter approach.
</p>
<p>
In the Kalman Filter approach satellite clocks estimated by individual Analyses Centers (ACs) are used as pseudo observations within the adjustment process. Each observation is modeled as a linear function (actually a simple sum) of three estimated parameters: AC specific offset, satellite specific offset common to all ACs, and the actual satellite clock correction which represents the result of the combination. These three parameter types differ in their statistical properties. The satellite clock offsets are assumed to be static parameters while AC specific and satellite specific offsets are stochastic parameters with appropriate white noise.
 The solution is regularized by a set of minimal constraints. After a change of one of the values 'SSR Provider ID', 'SSR Solution ID', or 'IOD SSR' the satellite clock offsets belonging to the corresponding analysis center are reset in adjustment.
</p>
<p>
Removing the AC-dependent biases as well as possible is a major issue with clock combinations. Since they vary in time, it can be tricky to do this. Otherwise, there will be artificial jumps in the combined clock stream if one or more AC contributions drop out for certain epochs. Here the Kalman Filter approach is expected to do better than the Single-Epoch approach.
</p>
<p>
In view of IGS real-time products, the 'Combine Corrections' functionality has been integrated in BNC because
<ul>
<li>The software with its Graphic User Interface and wide range of supported Operating Systems represents a perfect platform to process many Broadcast Correction streams in parallel;</li>
<li>Outages of single AC product streams can be mitigated through merging several incoming streams into a combined product;</li>
<li>Generating a combination product from several AC products allows detecting and rejecting outliers;</li>
<li>A Combination Center (CC) can operate BNC to globally disseminate a combination product via NTRIP broadcast;</li>
<li>An individual AC could prefer to disseminate a stream combined from primary and backup IT resources to reduce outages;</li>
<li>It enables a BNC PPP user to follow his own preference in combining streams from individual ACs for Precise Point Positioning;</li>
<li>It allows an instantaneous quality control of the combination process not only in the time domain but also in the space domain; this can be done through direct application of the combined stream in a PPP solution even without prior upload to an NTRIP Broadcaster;</li>
<li>It provides the means to output SP3 and Clock RINEX files containing precise orbit and clock information for further processing using other tools than BNC.</li>
</ul>
</p>
<p>
Note that the combination process requires real-time access to Broadcast Ephemeris. So, in addition to the orbit and clock correction streams BNC must pull a stream carrying Broadcast Ephemeris in the form of RTCM Version 3 messages. Stream 'RTCM3EPH' on caster <u>products.igs-ip.net</u> is an example for that.
</p>
<p>
Note further that you need to tick the 'Use GLONASS' option which is part of the 'PPP (2)' panel in case you want to produce an GPS plus GLONASS combination.
</p>
<p>
A combination is carried out following a specified sampling interval. If incoming streams have different rates, only epochs that correspond to the sampling interval are used.
</p>
<p>
With respect to IGS, it is important to understand that a major effect in the combination of GNSS orbit and clock correction streams is the selection of ACs to include. It is likely that a combination product could be improved in accuracy by using only the best two or three ACs. However, with only a few ACs to depend on, the reliability of the combination product could suffer and the risk of total failures increases. So there is an important tradeoff here that must be considered when selecting streams for a combination. The major strength of a combination product is its reliability and stable median performance which can be much better than that of any single AC product.
</p>
<p>
This comment applies in situations where we have a limited number of solutions to combine and their quality varies significantly. The situation may be different when the total number of ACs is larger and the range of AC variation is smaller. In that case, a standard full combination is probably the best.
</p>
<p>
The following recursive algorithm is used to detect orbit outliers in the Kalman Filter combination when Broadcast Corrections are provided by several ACs:
<br>
Step 1: We don't produce a combination for a certain satellite if only one AC provides corrections for it.
<br>
Step 2: A mean satellite position is calculated as the average of positions from all ACs.
<br>
Step 3: For each AC and satellite the 3D distance between individual and mean satellite position is calculated.
<br>
Step 4: We find the greatest difference between AC specific and mean satellite positions.
<br>
Step 5: If that is less than a threshold, the conclusion is that we don't have an outlier and can proceed to the next epoch.
<br>
Step 6: If that is greater than a threshold, then corrections of the affiliated AC are ignored for the affected epoch and the outlier detection restarts with step 1.
</p>
<p>
Note that BNC can produce an internal PPP solution from combined Broadcast Corrections. For that you have to specify the keyword 'INTERNAL' as 'Corrections Mountpoint' in the PPP (1) panel.
</p>
<p>
The part of BNC which enables the combination of Broadcast Corrections is not intended for publication under GNU General Public License (GPL). However, pre-compiled BNC binaries which support the 'Combine Corrections' option are made available.
</p>

<p><a name="combimounttab"><h4>3.14.1 Combine Corrections Table - optional</h4></p>
<p>
Hit the 'Add Row' button, double click on the 'Mountpoint' field, enter a Broadcast Corrections mountpoint from the 'Streams' section and hit Enter. Then double click on the 'AC Name' field to enter your choice of an abbreviation for the Analysis Center (AC) providing the Antenna Phase Center (APC) related stream. Finally, double click on the 'Weight' field to enter a weight to be applied to this stream in the combination. The stream processing can already be started with only one corrections stream configured for combination.
</p>
<p>
Note that an appropriate 'Wait for full corr epoch' value needs to be specified for the combination under the 'Broadcast Corrections' tab. To give an example: a value of 15 sec would make sense if the update rate of incoming clock corrections is 10 sec.
</p>
<p>
The sequence of entries in the 'Combine Corrections' table is not of importance. Note that the orbit information in the final combination stream is just copied from one of the incoming streams. The stream used for providing the orbits may vary over time: if the orbit providing stream has an outage then BNC switches to the next remaining stream for getting hold of the orbit information.</p>
<p>
Default is an empty 'Combine Corrections' table meaning that you don't want BNC to combine orbit and clock correction streams.
</p>
<p>
It is possible to specify only one Broadcast Ephemeris corrections stream in the 'Combine Corrections' table. Instead of combining corrections from several sources, BNC will then merge the single corrections stream with Broadcast Ephemeris to save results in SP3 and/or Clock RINEX format when specified accordingly under the 'Upload Corrections' tab. Note that in such a BNC application you must not pull more than one Broadcast Ephemeris corrections stream even if a second stream would provide the same corrections from a backup caster.
</p>

<p><a name="combiadd"><h4>3.14.1.1 Add Row, Delete - optional</h4></p>
<p>
Hit 'Add Row' button to add another row to the 'Combine Corrections' table or hit the 'Delete' button to delete the highlighted row(s).
</p>

<p>
The following screenshots describe an example setup of BNC when combining Broadcast Correction streams and uploading them to an NTRIP Broadcaster. Note that it requires specifying options under tabs 'Combine Corrections' and 'Upload Corrections'. The example uses the combination product to simultaneously carry out an 'INTERNAL' PPP solution in 'Quick-Start' mode which allows monitoring the quality of the combination product in the space domain.
</p>

<br>
<p><img src="IMG/screenshot20.png"/></p>
<p><u>Figure 23:</u> BNC combining Broadcast Correction streams.</p>
<p><br></p>
<p><img src="IMG/screenshot21.png"/></p>
<p><u>Figure 24:</u> BNC uploading the combined Broadcast Corrections stream.</p>
<p></p>
<p><img src="IMG/screenshot23.png"/></p>
<p><u>Figure 25:</u> 'INTERNAL' PPP with BNC using combined Broadcast Corrections stream.</p>

<p><a name="combimethod"><h4>3.13.1.2 Method - mandatory if 'Combine Corrections' table is populated</h4></p>
<p>
Select a clock combination method. Available options are Kalman 'Filter' and 'Single-Epoch. It is suggested to use the Kalman Filter approach in case the combined stream of Broadcast Corrections is intended for Precise Point Positioning.
</p>

<p><a name="combimax"><h4>3.14.1.3 Maximal Residuum - mandatory if 'Combine Corrections' table is populated</h4></p>

<p>BNC combines all incoming clocks according to specified weights. Individual clock estimates that differ by more than 'Maximal Residuum' meters from the average of all clocks will be ignored.<p>
</p>It is suggested to specify a value of about 0.2 m for the Kalman filter combination approach and a value of about 3.0 meters for the Single-Epoch combination approach.</p>
<p>Default is a 'Maximal Residuum' of 999.0 meters</p>

<p><a name="combismpl"><h4>3.14.1.4 Sampling - mandatory if 'Combine Corrections' table is populated</h4></p>
<p>Specify a combination sampling interval. Orbit and clock corrections will be produced following that interval. A value of 10 sec may be an appropriate choice.</p>


<p><a name="upclk"><h4>3.15. Upload Corrections</h4></p>
<p>
BNC can upload streams carrying orbit and clock corrections to Broadcast Ephemeris in radial, along-track and cross-track components if they are<ol type=a>
<li>
either generated by BNC as a combination of several individual Broadcast Correction streams coming from an number of real-time Analysis Centers (ACs), see section 'Combine Corrections',</li>
<li>
or generated by BNC while the program receives an ASCII stream of precise satellite orbits and clocks via IP port from a connected real-time GNSS engine. Such a stream would be expected in a plain ASCII format and the associated 'decoder' string would have to be 'RTNET', see format description below. </li>
</ol>
The procedure taken by BNC to generate the orbit and clock corrections to Broadcast Ephemeris and upload them to an NTRIP Broadcaster is as follow:
<ul>
<li>Continuously receive up-to-date Broadcast Ephemeris carrying approximate orbits and clocks for all satellites. Read new Broadcast Ephemeris immediately whenever they become available. This information may come via a stream of RTCM messages generated from another BNC instance.</li>
</ul>
Then, epoch by epoch:
<ul>
<li>Continuously receive the best available orbit and clock estimates for all satellites in XYZ Earth-Centered-Earth-Fixed IGS08 reference system. Receive them every epoch in plain ASCII format as provided by a real-time GNSS engine such as RTNET or generate them following a combination approach. </li>
<li>Calculate XYZ coordinates from Broadcast Ephemeris orbits. </li>
<li>Calculate differences dX,dY,dZ between Broadcast Ephemeris and IGS08 orbits. </li>
<li>Transform these differences into radial, along-track and cross-track corrections to Broadcast Ephemeris orbits. </li>
<li>Calculate corrections to Broadcast Ephemeris clocks as differences between Broadcast Ephemeris clocks and IGS08 clocks. </li>
<li>Encode Broadcast Ephemeris orbit and clock corrections in RTCM Version 3 format. </li>
<li>Upload Broadcast Corrections stream to NTRIP Broadcaster. </li>
</ul>
<p>
The orbit and clock corrections to Broadcast Ephemeris are usually referred to the latest set of broadcast messages, which are generally also received in real-time by a GNSS rover. However, the use of the latest broadcast message is delayed for a period of 60 seconds, measured from the time of complete reception of ephemeris and clock parameters, in order to accommodate rover applications to obtain the same set of broadcast orbital and clock parameters. This procedure is recommended in the RTCM SSR standard.
</p>
</p>
Because the encoding process may put a significant load on the communication link between BNC and the real-time GNSS engine, it is recommended to run both programs on the same host. However, doing so is not compulsory.
</p>
<p>
The usual handling of BNC when uploading a stream with Broadcast Corrections is that you first specify Broadcast Ephemeris and Broadcast Correction streams. You then specify an NTRIP Broadcaster for stream upload before you start the program.
</p>
<p>
<u>'RTNET' Stream Format</u><br>
When uploading an SSR stream generated according to b. then  BNC requires precise GNSS orbits and clocks in the IGS Earth-Centered-Earth-Fixed (ECEF) reference system and in a specific ASCII format named 'RTNET' because the data may come from a real-time engine such as RTNET. The sampling interval for data transmission should not exceed 15 sec. Note that otherwise tools involved in IP streaming such as NTRIP Broadcasters or NTRIP Clients may respond with a timeout.
</p>
<p>
Below you find an example for the 'RTNET' ASCII format coming from a real-time GNSS engine. Each epoch begins with an asterisk character followed by the time as year, month, day of month, hour, minute and second. Subsequent records can provide 
</p>
<p>
<li>satellite specific parameters </li>
</p>
<ul>
A set of parameters can be defined for each satellite as follows:
<p>
&lt;SatelliteID&gt; &lt;key&gt; &lt;numValues&gt; &lt;value1 value2 ...&gt; &lt;key&gt; &lt;numValues&gt; &lt;value1 value2 ...&gt; ...
&nbsp;
</p>
<p>
The following satellite specific keys and values are currently specified in BNC:
</p>
<table>
<tr><td><i>Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></td><td><i>Values</i></td></tr>
<tr><td>APC</td><td>Satellite Antenna Phase Center coordinates in meters</td></tr>
<tr><td>Clk</td><td>Satellite clock correction in meters, relativistic correction applied like in broadcast clocks</td></tr>
<tr><td>Vel</td><td>Satellite velocity in meters per second</td></tr>
<tr><td>CoM</td><td>Satellite Center of Mass coordinates in meters</td></tr>
<tr><td>CodeBias</td><td>Satellite Code Biases in meters with two characters for frequency and tracking mode per bias as defined in RINEX 3 and preceded by total number of biases</td></tr>
<tr><td>YawAngle</td><td>Satellite Yaw Angle in radiant, which shall be used for the computation of phase wind-up correction</td></tr>
<tr><td>YawRate</td><td>Satellite Yaw Rate in semi-circles per second, which is the rate of Yaw Angle</td></tr>
<tr><td>PhaseBias</td><td>Satellite Phase Biases in meters with two characters for frequency and tracking mode per bias as defined in RINEX 3, preceded by total number of biases and followed by Signal Wilde-Lane Integer Indicator as well as Signal Discontinuity Counter</td></tr>
</table>
</p>
</ul>
<li> non-satellite specific parameters
<ul>
The following non-satellite specific keys and values are currently specified in BNC:
</p>
<table>
<tr><td><i>Key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></td><td><i>Values</i></td></tr>
<tr><td>IND</td><td>Stands for phase bias information and is followed by Dispersive Bias Consistency Indicator and MW Consistency Indicator</td></tr>
<tr><td>VTEC</td><td>Stands for Vertical TEC information and is followed by Update Interval and Number of Ionospheric Layers</td></tr>
</table>
</p>
If the key VTEC is specified, a data set for each layer contains within its first line the Layers Number, followed by Maximum Degree, Maximum Order and Layer Hight. After that follow Cosinus and Sinus Spherical Harmonic Coefficients, one block each.
</ul>
<p>
Because each keyword is associated to a certain number of values, an 'old' BNC could be operated with an incoming 'new' RTNET stream containing so far unknown keys - they would just be skipped in BNC.
</p>
<p>
Example for 'RTNET' stream contents and format:
</p>
<p>
<pre>
* 2015 6 11 15 10 40.000000
VTEC 0 1 0 6 6 450000.0 20.4660 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 5.3590 9.6580 0.0000 0.0000 0.0000 0.0000 0.0000 -6.3610 -0.1210 1.1050 0.0000 0.0000 0.0000 0.0000 -2.7140 -1.8200 -0.9920 -0.6430 0.0000 0.0000 0.0000 1.9140 -0.5180 0.2530 0.0870 -0.0110 0.0000 0.0000 2.2950 1.0510 -0.9540 0.6220 -0.0720 -0.0810 0.0000 -0.9760 0.7570 0.2320 -0.2520 0.1970 -0.0680 -0.0280 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.2720 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 1.1100 -1.0170 0.0000 0.0000 0.0000 0.0000 0.0000 -1.1500 0.5440 0.9890 0.0000 0.0000 0.0000 0.0000 -0.3770 -0.1990 0.2670 -0.0470 0.0000 0.0000 0.0000 0.6550 -0.0130 -0.2310 -0.4810 -0.3510 0.0000 0.0000 0.2360 -0.0710 0.0280 0.1900 -0.0810 0.0710 
IND 0 1
G01 APC 3   -14442611.532   -13311059.070   -18020998.395 Clk 1   -1426.920500 Vel 3  2274.647600   -28.980300 -1787.861900 CoM 3   -14442612.572   -13311059.518   -18020999.539 CodeBias 6 1W -3.760000 1C -3.320000 2W -6.200000 2X -5.780000 1H -3.350000 5I -5.430000 YawAngle 1 -0.315600 YawRate 1 0.0 PhaseBias 3 1C  3.9473 1 2 4 2W  6.3143 1 2 4 5I 6.7895 1 2 4
G02 APC 3    -8859103.160    14801278.856    20456920.800 Clk 1  171219.083500 Vel 3 -2532.296700  -161.275800 -1042.884100 CoM 3    -8859103.418    14801279.287    20456921.395 CodeBias 6 1W  3.930000 1C  3.610000 2W  6.480000 2X  0.000000 1H  3.580000 5I  0.000000 YawAngle 1 -0.693500 YawRate 1 0.0 PhaseBias 2 1C -4.0902 1 2 4 2W -6.7045 1 2 4
G03 APC 3   -13788295.679   -22525098.353     2644811.508 Clk 1  104212.074300 Vel 3   102.263400  -429.953400 -3150.231900 CoM 3   -13788296.829   -22525099.534     2644811.518 CodeBias 6 1W -2.650000 1C -2.160000 2W -4.360000 2X -4.480000 1H -2.070000 5I -5.340000 YawAngle 1 -0.428800 YawRate 1 0.0 PhaseBias 3 1C  2.9024 1 2 2 2W  4.6124 1 2 2 5I 5.3694 1 2 2
..
R01 APC 3    -6783489.153   -23668850.753     6699094.457 Clk 1 - 45875.658100 Vel 3  -267.103000  -885.983700 -3403.253200 CoM 3    -6783489.307   -23668853.173     6699095.274 CodeBias 4 1P -2.496400 1C -2.490700 2P -4.126600 2C -3.156200
R02 APC 3   -11292959.022   -10047039.425    20577343.288 Clk 1   41215.750900 Vel 3  -476.369400 -2768.936600 -1620.000600 CoM 3   -11292959.672   -10047040.710    20577345.344 CodeBias 4 1P  0.211200 1C  0.391300 2P  0.349100 2C  0.406300
R03 APC 3    -9226469.614     9363128.850    21908853.313 Clk 1   13090.322800 Vel 3  -369.088600 -2964.934500  1111.041000 CoM 3    -9226470.226     9363129.442    21908855.791 CodeBias 4 1P  2.283800 1C  2.483800 2P  3.775300 2C  3.785500
..
E11 APC 3     2965877.898    17754418.441    23503540.946 Clk 1   33955.329000 Vel 3 -1923.398100  1361.709200  -784.555800 CoM 3     2965878.082    17754418.669    23503541.507 CodeBias 3 1B  1.382100 5Q  2.478400 7Q  2.503300
E12 APC 3   -14807433.144    21753389.581    13577231.476 Clk 1 -389652.211900 Vel 3 -1082.464300   825.868400 -2503.982200 CoM 3   -14807433.366    21753389.966    13577231.926 CodeBias 3 1B  0.386600 5Q  0.693300 7Q  0.534700
E19 APC 3   -15922225.351     8097517.292    23611910.403 Clk 1   -2551.650800 Vel 3  -183.377800 -2359.143700   684.105100 CoM 3   -15922225.569     8097517.329    23611910.995 CodeBias 3 1B -1.777000 5Q -3.186600 7Q -3.069100
..
EOE
</pre>
</p>
<p>
Note that the end of an epoch in the incoming stream is indicated by an ASCII string 'EOE' (for End Of Epoch).
</p>
<p>
When using clocks from Broadcast Ephemeris (with or without applied corrections) or clocks from SP3 files, it may be important to understand that they are not corrected for the conventional periodic relativistic effect. Chapter 10 of the IERS Conventions 2003 mentions that the conventional periodic relativistic correction to the satellite clock (to be added to the broadcast clock) is computed as dt =  -2 (R * V) / c^2 where R *V is the scalar product of the satellite position and velocity and c is the speed of light. This can also be found in the GPS Interface Specification, IS-GPS-200, Revision D, 7 March 2006.
</p>

<p><a name="upadd"><h4>3.15.1 Add, Delete Row - optional</h4></p>
<p>Hit 'Add Row' button to add another row to the stream 'Upload Table' or hit the 'Delete' button to delete the highlighted row(s).
</p>
<p>
Having an empty 'Upload Table' is default and means that you don't want BNC to upload orbit and clock correction streams to any NTRIP Broadcaster.
</p>

<p><a name="uphost"><h4>3.15.2 Host, Port, Mountpoint, Password - mandatory if 'Upload Table' entries specified</h4></p>

<p>Specify the domain name or IP number of an NTRIP Broadcaster for uploading the stream. Furthermore, specify the caster's listening IP port, an upload mountpoint and an upload password. Note that NTRIP Broadcasters are often configured to provide access on more than one port, usually port 80 and 2101. If you experience communication problems on port 80, you should try to use the alternative port(s).
</p>
<p>
BNC uploads a stream to the NNTRIP Broadcaster by referring to a dedicated mountpoint that has been set by its operator. Specify here the mountpoint based on the details you received for your stream from the operator. It is often a four character ID (capital letters) plus an integer number.</p>
<p>The stream upload may be protected through an upload 'Password'. Enter the password you received from the NTRIP Broadcaster operator along with the mountpoint(s).</p>
<p>
If 'Host', 'Port', 'Mountpoint' and 'Password' are set, the stream will be encoded in RTCM's 'State Space Representation' (SSR) messages and uploaded to the specified broadcaster following the NTRIP Version 1 transport protocol.
</p>

<p><a name="upsystem"><h4>3.15.3 System - mandatory if 'Host' is set</h4></p>
<p>
BNC allows configuring several Broadcast Correction streams for upload so that they refer to different reference systems and different NTRIP Broadcasters. You may use this functionality for parallel support of a backup NTRIP Broadcaster or for simultaneous support of various regional reference systems. Available options for transforming orbit and clock corrections to specific target reference systems are
<p>
<ul>
<li>IGS08 which stands for the GNSS-based IGS realization of the International Terrestrial Reference Frame 2008 (ITRF2008), and</li>
<li>ETRF2000 which stands for the European Terrestrial Reference Frame 2000 adopted by EUREF, and</li>
<li>NAD83 which stands for the North American Datum 1983 as adopted for the U.S.A., and</li>
<li>GDA94 which stands for the Geodetic Datum Australia 1994 as adopted for Australia, and</li>
<li>SIRGAS2000 which stands for the Geodetic Datum adopted for Brazil, and</li>
<li>SIRGAS95 which stands for the Geodetic Datum adopted i.e. for Venezuela, and</li>
<li>DREF91 which stands for the Geodetic Datum adopted for Germany, and</li>
<li>'Custom' which allows a transformation of Broadcast Corrections from the IGS08 system to any other system through specifying up to 14 Helmert Transformation Parameters.</li>
</ul>
</p>

<p>
Because a mathematically strict transformation to a regional reference system is not possible on the BNC server side when a scale factor is involved, the program follows an approximate solution. While <u>orbits</u> are transformed in full accordance with given equations, a transformed <u>clock</u> is derived through applying correction term
</p>
<pre>
dC = (s - 1) / s * &rho; / c
</pre>
<p>
where s is the transformation scale, c is the speed of light, and &rho; are the topocentric distance between an (approximate) center of the transformation's validity area and the satellite.
</p>
<p>
From a theoretical point of view this kind of approximation leads to inconsistencies between orbits and clocks and is therefore not allowed. However, it has been proved that resulting errors in Precise Point Positioning are on millimeter level for horizontal components and below the one centimeter for height components. The Australian GDA94 transformation with its comparatively large scale parameter is an exception in this as discrepancies may reach up to two centimeters there.
</p>

<p>
<u>IGS08:</u> As the orbits and clocks coming from real-time GNSS engine are expected to be in the IGS08 system, no transformation is carried out if this option is selected.
</p>

<p>
<u>ETRF2000:</u> The formulas for the transformation 'ITRF2008-&gt;ETRF2000' are taken from 'Claude Boucher and Zuheir Altamimi 2008: Specifications for reference frame fixing in the analysis of EUREF GPS campaign', see <u>http://etrs89.ensg.ign.fr/memo-V8.pdf</u>. The following 14 Helmert Transformation Parameters were introduced:
</p>
<p>
<pre>
Translation in X at epoch To:  0.0521 m
Translation in Y at epoch To:  0.0493 m
Translation in Z at epoch To: -0.0585 m
Translation rate in X:  0.0001 m/y
Translation rate in Y:  0.0001 m/y
Translation rate in Z: -0.0018 m/y
Rotation in X at epoch To:  0.891 mas
Rotation in Y at epoch To:  5.390 mas
Rotation in Z at epoch To: -8.712 mas
Rotation rate in X:  0.081 mas/y
Rotation rate in Y:  0.490 mas/y
Rotation rate in Z: -0.792 mas/y
Scale at epoch To : 0.00000000134
Scale rate: 0.00000000008 /y
To: 2000.0
</pre>
</p>

<p>
<u>NAD83:</u> Formulas for the transformation 'ITRF2008-&gt;NAD83' are taken from 'Chris Pearson, Richard Snay 2013: Introducing HTDP 3.1 to transform coordinates across time and spatial reference frames', GPS Solutions, January 2013, Volume 17, Issue 1, pp 1-15.
</p>
<p>
<pre>
Translation in X at epoch To:  0.99343 m
Translation in Y at epoch To: -1.90331 m
Translation in Z at epoch To: -0.52655 m
Translation rate in X:  0.00079 m/y
Translation rate in Y: -0.00060 m/y
Translation rate in Z: -0.00134 m/y
Rotation in X at epoch To: -25.91467 mas
Rotation in Y at epoch To:  -9.42645 mas
Rotation in Z at epoch To: -11.59935 mas
Rotation rate in X: -0.06667 mas/y
Rotation rate in Y:  0.75744 mas/y
Rotation rate in Z:  0.05133 mas/y
Scale at epoch To : 0.00000000171504
Scale rate: -0.00000000010201 /y
To: 1997.0
</pre>
</p>

<p>
<u>GDA94:</u> The formulas for the transformation 'ITRF2008-&gt;GDA94' are taken from 'John Dawson, Alex Woods 2010: ITRF to GDA94 coordinate transformations', Journal of Applied Geodesy, 4 (2010), 189-199, de Gruyter 2010. DOI 10.1515/JAG.2010.019'.
</p>
<p>
<pre>
Translation in X at epoch To: -0.08468 m
Translation in Y at epoch To: -0.01942 m
Translation in Z at epoch To:  0.03201 m
Translation rate in X:  0.00142 m/y
Translation rate in Y:  0.00134 m/y
Translation rate in Z:  0.00090 m/y
Rotation in X at epoch To:  0.4254 mas
Rotation in Y at epoch To: -2.2578 mas
Rotation in Z at epoch To: -2.4015 mas
Rotation rate in X: -1.5461 mas/y
Rotation rate in Y: -1.1820 mas/y
Rotation rate in Z: -1.1551 mas/y
Scale at epoch To : 0.000000009710
Scale rate: 0.000000000109 /y
To: 1994.0
</pre>
</p>

<p>
<u>SIRGAS2000:</u> The formulas for the transformation 'ITRF2008-&gt;SIRGAS2000' were provided via personal communication from CGED-Coordenacao de Geodesia, IBGE/DGC - Diretoria de Geociencias, Brazil.</u>.
</p>
<p>
<pre>
Translation in X at epoch To:  0.0020 m
Translation in Y at epoch To:  0.0041 m
Translation in Z at epoch To:  0.0039 m
Translation rate in X:  0.0000 m/y
Translation rate in Y:  0.0000 m/y
Translation rate in Z:  0.0000 m/y
Rotation in X at epoch To:  0.170 mas
Rotation in Y at epoch To: -0.030 mas
Rotation in Z at epoch To:  0.070 mas
Rotation rate in X:  0.000 mas/y
Rotation rate in Y:  0.000 mas/y
Rotation rate in Z:  0.000 mas/y
Scale at epoch To : -0.000000001000
Scale rate: 0.000000000000 /y
To: 0000.0
</pre>
</p>

<p>
<u>SIRGAS95:</u> The formulas for the transformation 'ITRF2005-&gt;SIRGAS95' were provided via personal communication from Gustavo Acuha, Laboratorio de Geodesia Fisica y Satelital at Zulia University (LGFS-LUZ), parameters based on values from Table 4.1 of "Terrestrial Reference Frames (April 10, 2009), Chapter 4" in http://tai.bipm.org/iers/convupdt/convupdt_c4.html.</u>.
</p>
<p>
<pre>
Translation in X at epoch To:  0.0077 m
Translation in Y at epoch To:  0.0058 m
Translation in Z at epoch To: -0.0138 m
Translation rate in X:  0.0000 m/y
Translation rate in Y:  0.0000 m/y
Translation rate in Z:  0.0000 m/y
Rotation in X at epoch To:  0.000 mas
Rotation in Y at epoch To:  0.000 mas
Rotation in Z at epoch To: -0.003 mas
Rotation rate in X:  0.000 mas/y
Rotation rate in Y:  0.000 mas/y
Rotation rate in Z:  0.000 mas/y
Scale at epoch To : 0.00000000157
Scale rate: -0.000000000000 /y
To: 1995.4
</pre>
</p>

<p>
<u>DREF91:</u> 'Referenzkoordinaten fr SAPOS, Empfehlungen der Projektgruppe SAPOS-Koordinatenmonitoring 2008', Personal communication with Peter Franke, BKG, Germany. The following 14 Helmert Transformation Parameters were introduced:
</p>
<p>
<pre>
Translation in X at epoch To: -0.0118 m
Translation in Y at epoch To:  0.1432 m
Translation in Z at epoch To: -0.1117 m
Translation rate in X:  0.0001 m/y
Translation rate in Y:  0.0001 m/y
Translation rate in Z: -0.0018 m/y
Rotation in X at epoch To:   3.291 mas
Rotation in Y at epoch To:   6.190 mas
Rotation in Z at epoch To: -11.012 mas
Rotation rate in X:  0.081 mas/y
Rotation rate in Y:  0.490 mas/y
Rotation rate in Z: -0.792 mas/y
Scale at epoch To : 0.00000001224
Scale rate: 0.00000000008 /y
To: 2000.0
</pre>
</p>

<p>
<u>Custom:</u> Feel free to specify your own 14 Helmert Transformation parameters for transformations from IGS08/ITRF2008 into your own target system.
</p>

<p><a name="upcom"><h4>3.15.4 Center of Mass - optional</h4></p>
<p>
BNC allows to either referring Broadcast Corrections to the satellite's Center of Mass (CoM) or to the satellite's Antenna Phase Center (APC). By default corrections refer to APC. Tick 'Center of Mass' to refer uploaded corrections to CoM.
</p>

<p><a name="upsp3"><h4>3.15.5 SP3 File - optional</h4></p>
<p>Specify a path for saving the generated orbit corrections as SP3 orbit files. If the specified directory does not exist, BNC will not create SP3 orbit files. The following is a path example for a Linux system:<br>/home/user/BNC${GPSWD}.sp3<br>Note that '${GPSWD}' produces the GPS Week and Day number in the file name.</p>
<p>
Default is an empty option field, meaning that you don't want BNC to save the uploaded stream contents in daily SP3 files.
</p>
<p>
As an SP3 file contents should be referred to the satellites Center of Mass (CoM) while Broadcast Corrections are referred to the satellites APC, an offset has to be applied which is available from an IGS ANTEX file (see section 'ANTEX File'). You should therefore specify the 'ANTEX File' path under tab 'PPP (2)' if you want to save the stream contents in SP3 format. If you don't specify an 'ANTEX File' path there, the SP3 file contents will be referred to the satellites APCs.
</p>
<p>
The file names for the daily SP3 files follow the convention for SP3 file names. The first three characters of each file name are set to 'BNC'. Note that clocks in the SP3 orbit files are not corrected for the conventional periodic relativistic effect.
</p>
<p>
In case the 'Combine Corrections' table contains only one Broadcast Corrections stream, BNC will merge that stream with Broadcast Ephemeris to save results in files specified here through SP3 and/or Clock RINEX file path. In such a case you have to define only the SP3 and Clock RINEX file path and no further option in the 'Upload Corrections' table.
</p>

<p>
Note that BNC outputs a complete list of SP3 'Epoch Header Records' even if no 'Position and Clock Records' are available for certain epochs because of stream outages. Note further that the 'Number of Epochs' in the first SP3 header record may not be correct because that number is not available when the file is created. Depending on your processing software (e.g. Bernese GNSS Software, BSW) it could therefore be necessary to correct an incorrect 'Number of Epochs' in the file before you use in Post Processing.
</p>

<p><a name="uprinex"><h4>3.15.6 RNX File - optional</h4></p>
<p>
The clock corrections generated by BNC for upload can be logged in Clock RINEX format. The file naming follows the RINEX convention.
</p>
<p>
Specify a path for saving the generated clock corrections as Clock RINEX files. If the specified directory does not exist, BNC will not create Clock RINEX files. The following is a path example for a Linux system:<br>/home/user/BNC${GPSWD}.clk<br>Note that '${GPSWD}' produces the GPS Week and Day number in the file name.
</p>
<p>
Note further that clocks in the Clock RINEX files are not corrected for the conventional periodic relativistic effect.
</p>

<p><a name="upinter"><h4>3.15.7 Interval - mandatory if 'Upload Table' entries specified</h4></p>
<p>
Select the length of Clock RINEX files and SP3 Orbit files. The default value is 1 day.
</p>

<p><a name="upclksmpl"><h4>3.15.8 Sampling - mandatory if 'Upload Table' entries specified</h4></p>
<p>BNC requires an orbit corrections sampling interval for the stream to be uploaded and sampling intervals for SP3 and Clock RINEX files. The outgoing stream's clock correction sampling interval follows that of incoming corrections and is therefore nothing to be specified here.</p>

<p><a name="upclkorb"><h4>3.15.8.1 Orbits - mandatory if 'Upload Table' entries specified</h4></p>
<p>Select the stream's orbit correction sampling interval in seconds. A value of 60 sec may be appropriate.</p>
<p> A value of zero '0' tells BNC to upload all orbit correction samples coming in from the real-time GNSS engine along with the clock correction samples to produce combined orbit and clock corrections to Broadcast Ephemeris (1060 for GPS, 1066 for GLONASS).
</p>
<p>
Configuration examples:
</p>
Let us suppose a real-time network engine supporting BNC every <u>5 sec</u> with GPS Broadcast Corrections for orbits, clocks and code biases in 'RTNET' stream format.
<ul>
<li>With 'Sampling Orb' set to '0'  BNC will produce</li>
<ul>
<li>Every 5 sec a 1059 message for GPS code biases,</li>
<li>Every 5 sec a 1060 message for combined orbit and clock corrections to GPS Broadcast Ephemeris.</li>
</ul>
<br>
<li>With 'Sampling Orb' set to '5' BNC will produce</li>
<ul> 
<li>Every 5 sec a 1057 message for GPS orbit corrections to Broadcast Ephemeris,</li>
<li>Every 5 sec a 1058 message for GPS clock corrections to Broadcast Ephemeris,</li>
<li>Every 5 sec a 1059 message for GPS code biases.</li>
</ul>
<br>
<li>With 'Sampling Orb' set to '10' BNC will produce</li>
<ul> 
<li>Every 10 sec a 1057 message for GPS orbit corrections to Broadcast Ephemeris,</li>
<li>Every 5 sec a 1058 message for GPS clock corrections to Broadcast Ephemeris,</li>
<li>Every 5 sec a 1059 message for GPS code biases.</li>
</ul>
</ul>
<br>
Note that only when specifying a value of zereo '0' (default) for 'Sampling Orb', BNC produces <u>combined</u> orbit and clock correction messages.
<p><a name="upclksp3"><h4>3.15.8.2 SP3 - mandatory if 'SP3 File' is specified</h4></p>
<p>Select the SP3 orbit file sampling interval in minutes. A value of 15 min may be appropriate. A value of zero '0' tells BNC to store all available samples into SP3 orbit files.</p>

<p><a name="upclkrnx"><h4>3.15.8.3 RINEX - mandatory if 'RNX File' is specified</h4></p>
<p>Select the Clock RINEX file sampling interval in seconds. A value of 10 sec may be appropriate. A value of zero '0' tells BNC to store all available samples into Clock RINEX files.</p>

<p><a name="upcustom"><h4>3.15.9 Custom Trafo - optional if 'Upload Table' entries specified</h4></p>
<p>Hit 'Custom Trafo' to specify your own 14 parameter Helmert Transformation instead of selecting a predefined transformation through 'System' button.</p>

<p>
The following screenshot shows the encoding and uploading of a stream of precise orbits and clocks coming from a real-time engine in 'RTNET' ASCII format. The stream is uploaded to NTRIP Broadcaster 'products.igs-ip.net'. It is referred to APC and IGS08. Uploaded data are locally saved in SP3 and Clock RINEX format. The SSR Provider ID is set to 3. The SSR Solution ID is and the Issue of Data SSR are set to 1. Required Broadcast Ephemeris are received via stream 'RTCM3EPH'.
</p>
<p><img src="IMG/screenshot26.png"/></p>
<p><u>Figure 26:</u> Producing Broadcast Corrections from incoming precise orbits and clocks and uploading them to an NTRIP Broadcaster.</p>

<p><a name="upeph"><h4>3.16. Upload Ephemeris</h4></p>
<p>
BNC can upload a stream carrying Broadcast Ephemeris in RTCM Version 3 format to an NTRIP Broadcaster.
</p>

<p><a name="brdcserver"><h4>3.16.1 Host &amp; Port - optional</h4></p>
<p>
Specify the 'Host' IP name or number of an NTRIP Broadcaster to upload the stream. An empty option field means that you don't want to upload Broadcast Ephemeris.
</p>
<p>
Enter the NTRIP Broadcaster's IP 'Port' number for stream upload. Note that NTRIP Broadcasters are often configured to provide access on more than one port, usually
port 80 and 2101. If you experience communication problems on port 80, you should try to use the alternative port(s).
</p>

<p><a name="brdcmount"><h4>3.16.2 Mountpoint &amp; Password - mandatory if 'Host' is set</h4></p>
<p>
BNC uploads a stream to the NTRIP Broadcaster by referring to a dedicated mountpoint that has been set by its operator. Specify the mountpoint based on the details you received for your stream from the operator. It is often a four character ID (capital letters) plus an integer number.</p>
<p>The stream upload may be protected through an upload 'Password'. Enter the password you received from the NTRIP Broadcaster operator along with the mountpoint.</p>
</p>

<p><a name="brdcsmpl"><h4>3.16.3 Sampling - mandatory if 'Host' is set</h4></p>
Select the Broadcast Ephemeris repetition interval in seconds. Default is '5' meaning that a complete set of Broadcast Ephemeris is uploaded every 5 seconds.
</p>

<p><img src="IMG/screenshot28.png"/></p>
<p><u>Figure 27:</u> Producing a Broadcast Ephemeris stream from navigation messages of globally distributed RTCM streams and uploading them in RTCM Version 3 format to an NTRIP Broadcaster.</p>

<p><a name="streams"><h4>3.17. Streams</h4></p>
<p>
Each stream on an NTRIP Broadcaster (and consequently on BNC) is defined using a unique source ID called mountpoint. An NTRIP Client like BNC accesses the desired stream by referring to its mountpoint. Information about streams and their mountpoints is available through the source-table maintained by the NTRIP Broadcaster. Note that mountpoints could show up in BNC more than once when retrieving streams from several NTRIP Broadcasters.
</p>

<p>
Streams selected for retrieval are listed under the 'Streams' canvas on BNC's main window. The list provides the following information either extracted from source-table(s) produced by the NTRIP Broadcasters or introduced by BNC's user:
</p>
<p>
<table>
<tr><td>'resource loader'&nbsp; </td><td>NTRIP Broadcaster URL and port, or<br>TCP/IP host and port, or<br>UDP port, or<br>Serial input port specification.</td></tr>
<tr><td>'mountpoint' &nbsp;</td><td>Mountpoint introduced by NTRIP Broadcaster, or<br>Mountpoint introduced by BNC's user.</td></tr>
<tr><td>'decoder' &nbsp;</td><td>Name of decoder used to handle the incoming stream content according to its format; editable.</td></tr>
<tr><td>'lat' &nbsp;</td><td>Approximate latitude of reference station, in degrees, north; editable if 'nmea' = 'yes'.</td></tr>
<tr><td>'long' &nbsp;</td><td>Approximate longitude of reference station, in degrees, east; editable if 'nmea' = 'yes'.</td></tr>
<tr><td>'nmea' &nbsp;</td><td>Indicates whether or not streaming needs to be initiated by BNC through sending NMEA-GGA message carrying position coordinates in 'lat' and 'long'.</td></tr>
<tr><td>'ntrip' &nbsp;</td><td>Selected NTRIP transport protocol version (1, 2, 2s, R, or U), or<br>'N' for TCP/IP streams without NTRIP, or<br>'UN' for UDP streams without NTRIP, or<br>'S' for serial input streams without NTRIP.</td></tr>
<tr><td>'bytes' &nbsp;</td><td>Number of bytes received.
</table>
</p>

<p><a name="streamedit"><h4>3.17.1 Edit Streams</h4></p>
<ul>
<li>
BNC automatically allocates one of its internal decoders to a stream based on the stream's 'format' and 'format-details' as given in the source-table. However, there might be cases where you need to override the automatic selection due to incorrect source-table for example. BNC allows users to manually select the required decoder by editing the decoder string. Double click on the 'decoder' field, enter your preferred decoder and then hit Enter. The accepted decoder strings are 'RTCM_2.x', 'RTCM_3.x' and 'RTNET'.
</li>
<li>
In case you need to log the raw data as is, BNC allows users to by-pass its decoders and directly save the input in daily log files. To do this, specify the decoder string as 'ZERO'. The generated file names are created from the characters of the streams mountpoints plus two-digit numbers each for year, month, and day. Example: Setting the 'decoder' string for mountpoint WTZZ0 to 'ZERO' and running BNC on March 29, 2007 would save the raw data in a file named WTZZ0_070329.
</li>
<li>
BNC can also retrieve streams from virtual reference stations (VRS). To initiate these streams, an approximate rover position needs to be sent in NMEA format to the NTRIP Broadcaster. In return, a user-specific data stream is generated, typically by Network-RTK software. VRS streams are indicated by a 'yes' in the source-table as well as in the 'nmea' column on the 'Streams' canvas in BNC's main window. They are customized exactly to the latitude and longitude transmitted to the NTRIP Broadcaster via NMEA-GGA messages.
<br>If NMEA-GGA messages are not coming from a serial connected GNSS rover, BNC simulates them from the default latitude and longitude of the source-table as shown in the 'lat' and 'long' columns on the 'Streams' canvas. However, in most cases you would probably want to change these defaults according to your requirement. Double-click on 'lat' and 'long' fields, enter the values you wish to send and then hit Enter. The format is in positive north latitude degrees (e.g. for northern hemisphere: 52.436, for southern hemisphere: -24.567) and eastern longitude degrees (example: 358.872 or -1.128). Only streams with a 'yes' in their 'nmea' column can be edited. The position must preferably be a point within the VRS service area of the network. RINEX files generated from these streams will contain an additional COMMENT line in the header beginning with 'NMEA' showing the 'lat' and 'long' used.
<br>Note that when running BNC in a Local Area Network (LAN), NMEA strings may be blocked by a proxy server, firewall or virus scanner when not using the NTRIP Version 2 transport protocol..
</li>
</ul>

<p><a name="streamdelete"><h4>3.17.2 Delete Stream</h4></p>
<p>
To remove a stream from the 'Streams' canvas in the main window, highlight it by clicking on it and hit the 'Delete Stream' button. You can also remove multiple streams simultaneously by highlighting them using +Shift and +Ctrl.</p>

<p><a name="streamconf"><h4>3.17.3 Reconfigure Stream Selection On-the-fly</h4></p>
<p>
The streams selection can be changed on-the-fly without interrupting uninvolved threads in the running BNC process.
</p>
<p>
<u>Window mode:</u> Hit 'Reread &amp; Save Configuration' while BNC is in window mode and already processing data to let changes of your streams selection immediately become effective.
<p>
<u>No window mode:</u> When operating BNC online in 'no window' mode (command line option -nw), you force BNC to reread its 'mountPoints' configuration option from disk at pre-defined intervals. Select '1 min', '1 hour', or '1 day' as 'Reread configuration' option to reread the 'mountPoints' option every full minute, hour, or day. This lets a 'mountPoints' option edited in between in the configuration file become effective without terminating uninvolved threads. See annexed section 'Configuration Examples' for a configuration file example and a list of other on-the-fly changeable options.
</p>

<p><a name="logs"><h4>3.18. Logging</h4></p>
<p>
A tabs section on the bottom of the main window provides online control of BNC's activities. Tabs are available to show the records saved in a logfile, for a plot to control the bandwidth consumption, for a plot showing stream latencies, and for time series plots of PPP results.
</p>
<p><a name="logfile"><h4>3.18.1 Log</h4></p>
<p>
Records of BNC's activities are shown in the 'Log' tab. They can be saved into a file when a valid path is specified in the 'Logfile (full path)' field.
</p>

<p><a name="throughput"><h4>3.18.2 Throughput</h4></p>
<p>
The bandwidth consumption per stream is shown in the 'Throughput' tab in bits per second (bps) or kilo bits per second (kbps). The following figure shows an example for the bandwidth consumption of incoming streams.
</p>

<p><img src="IMG/screenshot08.png"/></p>
<p><u>Figure 28:</u> Bandwidth consumption of incoming streams.</p>

<p><a name="latency"><h4>3.18.3 Latency</h4></p>
<p>
The latency of observations in each incoming stream is shown in the 'Latency' tab in milliseconds or seconds. Streams not carrying observations (i.e. those providing only Broadcast Ephemeris messages) or having an outage are not considered here and shown in red color. Note that the calculation of correct latencies requires the clock of the host computer to be properly synchronized. The next figure shows an example for the latency of incoming streams.
</p>

<p><img src="IMG/screenshot07.png"/></p>
<p><u>Figure 29:</u> Latency of incoming streams.</p>

<p><a name="ppptab"><h4>3.18.4 PPP Plot</h4></p>
<p>
Precise Point Positioning time series of North (red), East (green) and Up (blue) coordinate components are shown in the 'PPP Plot' tab when a 'Origin' option is defined. Values are either referred to reference coordinates (if specified) or referred to the first estimated set of coordinate components. The time as given in format [hh:mm] refers to GPS Time. The sliding PPP time series window covers a period of 5 minutes. Note that it may take up to 30 seconds or more till the first PPP solutions becomes available. The following figure shows the screenshot of a PPP time series plot of North, East and Up coordinate components.
</p>

<p><img src="IMG/screenshot13.png"/></p>
<p><u>Figure 30:</u> Time series plot of PPP session.</p>

<p><a name="bottom"><h4>3.19. Bottom Menu Bar</h4></p>
<p>
The bottom menu bar allows to add or delete streams to BNC's configuration and to start or stop it. It also provides access to BNC's online help function. The 'Add Stream' button opens a window that allows user to select one of several input communication links, see figure below.
</p>

<p><img src="IMG/screenshot06.png"/></p>
<p><u>Figure 31:</u> Steam input communication links.</p>

<p><a name="streamadd"><h4>3.19.1 Add Stream</h4></p>
<p>
Button 'Add Stream' allows you to pull streams either from an NTRIP Broadcaster or from a TCP/IP port, a UPD port, or a serial port.
</p>

<p><a name="streamcaster"><h4>3.19.1.1 Add Stream - Coming from Caster</h4></p>

<p>
Button 'Add Stream' &gt; 'Coming from Caster' then opens a window that allows user to select data streams from an NTRIP Broadcaster according to their mountpoints and show a distribution map of offered streams.
</p>

<p><a name="streamhost"><h4>3.19.1.1.1 Caster Host and Port - mandatory</h4></p>
<p>
Enter the NTRIP Broadcaster host IP and port number. Note that EUREF and IGS operate NTRIP Broadcasters at <u>http://www.euref-ip.net/home</u>, <u>http://www.igs-ip.net/home</u>, <u>http://www.products.igs-ip.net/home</u> and <u>http://mgex.igs-ip.net/home</u>.
</p>

<p><a name="streamtable"><h4>3.19.1.1.2 Casters Table - optional</h4></p>
<p>
It may be that you are not sure about your NTRIP Broadcasters host and port number or you are interested in other broadcaster installations operated elsewhere. Hit 'Show' for a table of known broadcasters maintained at <u>www.rtcm-ntrip.org/home</u>. A window opens which allows selecting a broadcaster for stream retrieval, see figure below.
</p>
</p>
<p><img src="IMG/screenshot04.png"/></p>

<p><u>Figure 32:</u> Casters table.</p>

<p><a name="streamuser"><h4>3.19.1.1.3 User and Password - mandatory for protected streams</h4></p>
<p>
Some streams on NTRIP Broadcasters may be restricted. Enter a valid 'User' ID and 'Password' for access to protected streams. Accounts are usually provided per NTRIP Broadcaster through a registration procedure. Register through <u>http://igs.bkg.bund.de/ntrip/registeruser</u> for access to protected streams from EUREF and IGS.
</p>

<p><a name="gettable"><h4>3.19.1.1.4 Get Table</h4></p>
<p>
Use the 'Get Table' button to download the source-table from the NTRIP Broadcaster. Pay attention to data fields 'format' and 'format-details'. Keep in mind that BNC can only decode and convert streams that come in RTCM Version 2, RTCM Version 3, or RTNET format. For access to observations, Broadcast Ephemeris and Broadcast Corrections in RTCM format streams must contain a selection of appropriate message types as listed in the Annex, cf. data field 'format-details' for available message types and their repetition rates in brackets. Note that in order to produce RINEX Navigation files RTCM Version 3 streams containing message types 1019 (GPS) and 1020 (GLONASS) and 1043 (SBAS) and 1044 (QZSS) and 1045, 1046 (Galileo) and 63 (tentative, BDS/BeiDou) are required. Select your streams line by line, use +Shift and +Ctrl when necessary. The figure below provides an example source-table.
</p>
<p>
The contents of data field 'nmea' tells you whether a stream retrieval needs to be initiated by BNC through sending an NMEA-GGA message carrying approximate position coordinates (virtual reference station).
</p>
<p>
Hit 'OK' to return to the main window. If you wish you can click on 'Add Stream' and repeat the process again to retrieve streams from different casters.
</p>
<p><img src="IMG/screenshot05.png"/></p>
<p><u>Figure 33:</u> Broadcaster source-table.</p>

<p><a name="ntripv"><h4>3.19.1.1.5 NTRIP Version - mandatory</h4></p>
<p>
Some limitations and deficiencies of the NTRIP Version 1 stream transport protocol are solved in NTRIP Version 2. Improvements mainly concern a full HTTP compatibility in view of requirements coming from proxy servers. Version 2 is backwards compatible to Version 1. Options implemented in BNC are:
</p>
<p>
&nbsp; 1:&nbsp; NTRIP Version 1, TCP/IP.<br>
&nbsp; 2:&nbsp; NTRIP Version 2 in TCP/IP mode.<br>
&nbsp; 2s:&nbsp; NTRIP Version 2 in TCP/IP mode via SSL.<br>
&nbsp; R:&nbsp; NTRIP Version 2 in RTSP/RTP mode.<br>
&nbsp; U:&nbsp; NTRIP Version 2 in UDP mode.
</p>
<p>
If NTRIP Version 2 is supported by the broadcaster:
</p>
<ul>
<li>Try using option '2' if your streams are otherwise blocked by a proxy server operated in front of BNC.</li>
<li>Option 'R' or 'U' may be selected if latency is more important than completeness for your application. Note that the latency reduction is likely to be in the order of 0.5 sec or less. Note further that options 'R' (RTSP/RTP mode) and 'U' (UDP mode) are not accepted by proxy servers and a mobile Internet Service Provider may not support it.</li>
</ul>
<p>
Select option '1' if you are not sure whether the broadcaster supports NTRIP Version 2.</li>
</p>

<p><a name="castermap"><h4>3.19.1.1.6 Map - optional</h4></p>
<p>
Button 'Map' opens a window to show a distribution map of the caster's streams. You may like to zoom in or out using the mouse. Left button: draw a rectangle to zoom, right button: zoom out, middle button: zoom back.
</p>

<p><img src="IMG/screenshot24.png"/></p>
<p><u>Figure 34:</u> Stream distribution map derived from NTRIP Broadcaster source-table.</p>

<p><a name="streamip"><h4>3.19.1.2 Add Stream - Coming from TCP/IP Port</h4></p>
<p>
Button 'Add Stream' &gt; 'Coming from TCP/IP Port' allows to retrieve streams via TCP directly from an IP address without using the NTRIP transport protocol. For that you:
<ul>
<li>Enter the IP address of the stream providing host.</li>
<li>Enter the IP port number of the stream providing host.</li>
<li>Specify a mountpoint. Recommended is a 4-character station ID. Example: FFMJ</li>
<li>Specify the stream format. Available options are 'RTCM_2', 'RTCM_3', 'RTNET', and 'ZERO'.</li>
<li>Enter the approximate latitude of the stream providing rover in degrees. Example: 45.32.</li>
<li>Enter the approximate longitude of the stream providing rover in degrees. Example: -15.20.</li>
</ul>
</p>
<p>
Streams directly received from a TCP/IP port show up with an 'N' for 'No NTRIP' in the 'Streams' canvas on BNC's main window. Latitude and longitude are to be entered just for informal reasons.
<p>
</p>
Note that this option works only if no proxy server is involved in the communication link.
</p>

<p><a name="streamudp"><h4>3.19.1.3 Add Stream - Coming from UDP Port</h4></p>
<p>
Button 'Add Stream' &gt; 'Coming from UDP Port' allows to pick up streams arriving directly at one of the local host's UDP ports without using the NTRIP transport protocol. For that you:
<ul>
<li>Enter the local port number where the UDP stream arrives.</li>
<li>Specify a mountpoint. Recommended is a 4-character station ID. Example: FFMJ</li>
<li>Specify the stream format. Available options are 'RTCM_2', 'RTCM_3', 'RTNET', and 'ZERO'.</li>
<li>Enter the approximate latitude of the stream providing rover in degrees. Example: 45.32.</li>
<li>Enter the approximate longitude of the stream providing rover in degrees. Example: -15.20.</li>
</ul>
</p>
<p>
Streams directly received at a UDP port show up with a 'UN' for 'UDP, No NTRIP' in the 'Streams' canvas section on BNC's main window. Latitude and longitude are to be entered just for informal reasons.
<p>

<p><a name="streamser"><h4>3.19.1.4 Add Stream - Coming from Serial Port</h4></p>
<p>
Button 'Add Stream' &gt; 'Coming from Serial Port' allows to retrieve streams from a GNSS receiver via serial port without using the NTRIP transport protocol. For that you:
<ul>
<li>Specify a mountpoint. Recommended is a 4-character station ID. Example: FFMJ</li>
<li>Specify the stream format. Available options are 'RTCM_2', 'RTCM_3', 'RTNET', and 'ZERO'.</li>
<li>Enter the approximate latitude of the stream providing receiver in degrees. Example: 45.32.</li>
<li>Enter the approximate longitude of the stream providing receiver in degrees. Example: -15.20.</li>
<li>Enter the serial 'Port name' selected on your host for communication with the receiver. Valid port names are
<pre>
Windows:       COM1, COM2
Linux:         /dev/ttyS0, /dev/ttyS1
FreeBSD:       /dev/ttyd0, /dev/ttyd1
Digital Unix:  /dev/tty01, /dev/tty02
HP-UX:         /dev/tty1p0, /dev/tty2p0
SGI/IRIX:      /dev/ttyf1, /dev/ttyf2
SunOS/Solaris: /dev/ttya, /dev/ttyb
</pre>
</li>
<li>Select a 'Baud rate' for the serial input. Note that using a high baud rate is recommended.</li>
<li>Select the number of 'Data bits' for the serial input. Note that often '8' data bits are used.</li>
<li>Select the 'Parity' for the serial input. Note that parity is often set to 'NONE'.</li>
<li>Select the number of 'Stop bits' for the serial input. Note that often '1' stop bit is used.</li>
<li>Select a 'Flow control' for the serial link. Select 'OFF' if you don't know better.</li>
</ul>
</p>
<p>
When selecting one of the serial communication options listed above, make sure that you pick those configured to the serial connected GNSS receiver.
</p>

<p>
Streams received from a serial connected GNSS receiver show up with an 'S' (for <u>S</u>erial Port, no NTRIP) in the 'Streams' canvas section on BNC's main window. Latitude and longitude are to be entered just for informal reasons.
<p>

<p>
The following figure shows a BNC example setup for pulling a stream via serial port on a Linux operating system.
</p>
<p><img src="IMG/screenshot15.png"/></p>
<p><u>Figure 35:</u> BNC setup for pulling a stream via serial port.</p>

<p><a name="streamsdelete"><h4>3.19.2 Delete Stream</h4></p>
<p>
Button 'Delete Stream' allows you to delete streams previously selected for retrieval as listed under the 'Streams' canvas on BNC's main window.
</p>

<p><a name="streamsmap"><h4>3.19.3 Map</h4></p>
<p>
Button 'Map' opens a window to show a distribution map of the streams selected for retrieval as listed under the 'Streams' canvas. You may like to zoom in or out using the mouse. Left button: draw a rectangle to zoom, right button: zoom out, middle button: zoom back.
</p>

<p><a name="start"><h4>3.19.4 Start</h4></p>
<p>
Hit 'Start' to start retrieving, decoding or converting GNSS data streams in real-time. Note that 'Start' generally forces BNC to begin with fresh RINEX which might overwrite existing files when necessary unless the option 'Append files' is ticked.
</p>

<p><a name="stop"><h4>3.19.5 Stop</h4></p>
<p>
Hit the 'Stop' button in order to stop BNC.
</p>

<p><a name="cmd"><h4>3.20. Command Line Options</h4></p>
<p>
Command line options are available to run BNC in 'no window' mode or let it read data offline from one or several files for debugging or Post Processing purposes. BNC will then use processing options from the involved configuration file. Note that the self-explaining contents of the configuration file can easily be edited. It is possible to introduce a specific configuration file name instead of using the default name 'BNC.bnc'.
</p>

<p><a name="nw"><h4>3.20.1 No Window Mode - optional</h4></p>
<p>
Apart from its regular windows mode, BNC can be started on all systems as a batch job with command line option '-nw'. BNC will then run in 'no window' mode, using processing options from its configuration file on disk. Terminate BNC using Windows Task Manager when running it in 'no window' mode on Windows systems.
</p>
<p>
Example:<br><br>
bnc.exe -nw
</p>
<p>
It is obvious that BNC requires graphics support when started in interactive
mode. But, note that it also requires graphics support when producing plots in
batch mode (option -nw). Windows and Mac OS X systems always support graphics. For
producing plots in batch mode on Linux systems you must make sure that at
least a virtual X-Server such as 'Xvfb' is installed and the '-display' option
is used. The following is an example shell script to execute BNC in batch mode
for producing QC plots from RINEX files. It could be used via 'crontab':
</p>
<pre>
#!/bin/bash

# Save string localhost
echo "localhost" > /home/user/hosts

# Start virtual X-Server, save process ID
/usr/bin/Xvfb :29 -auth /home/user/hosts -screen 0 1280x1024x8 &
psID=`echo $!`

# Run BNC application with defined display variable
/home/user/BNC/bnc --conf /dev/null --key reqcAction Analyze --key reqcObsFile ons12090.12o --key reqcNavFile brdc2090.12p --key reqcOutLogFile multi.txt --key reqcPlotDir /home/user --display localhost:29 --nw

# BNC done, kill X-server process
kill $psID
</pre>

<p><a name="post"><h4>3.20.2 File Mode - optional</h4></p>
<p>
Although BNC is primarily a real-time online tool, for debugging purposes it can be run offline to read data from a file previously saved through option 'Raw output file'. Enter the following command line option for that
</p>
<p>
--file &lt;<u>inputFileName</u>&gt;
</p>

and specify the full path to an input file containing previously saved data. Example:<br><br>
./bnc --file /home/user/raw.output_110301
</p>
<p>
Note that when running BNC offline, it will use options for file saving, interval, sampling, PPP etc. from its configuration file.
</p>
<p>Note further that option '--file' forces BNC to appy the '-nw' option for running in 'no window' mode.
</p>

<p><a name="conffile"><h4>3.20.3 Configuration File - optional</h4></p>
The default configuration file name is 'BNC.bnc'. You may change this name at startup time using the command line option '--conf &lt;<u>confFileName</u>&gt;'. This allows running several BNC jobs in parallel on the same host using different sets of configuration options. <u>confFileName</u> stands either for the full path to a configuration file or just for a file name. If you introduce only a filename, the corresponding file will be saved in the current working directory from where BNC is started.
</p>
<p>
Example:<br><br>
./bnc --conf MyConfig.bnc
</p>
<p>
This leads to a BNC job using configuration file 'MyConfig.bnc'. The configuration file will be saved in the current working directory.
</p>

<p><a name="confopt"><h4>3.20.4 Configuration Options - optional</h4></p>
<p>
BNC applies options from the configuration file but allows updating every one of them on the command line while the contents of the configuration file remains unchanged. The command line syntax for that looks as follows
</p>
<p>
--key &lt;keyName&gt; &lt;keyValue&gt;
</p>
<p>
where &lt;keyName&gt; stands for the name of an option contained in the configuration file and &lt;keyValue&gt; stands for the value you want to assign to it. The following is a syntax example for a complete command line:
</p>
<p>
bnc --nw --conf &lt;confFileName&gt --key &lt;keyName1&gt; &lt;keyValue1&gt; --key &lt;keyName2&gt; &lt;keyValue2&gt; ...
</p>
<p>
Example:
</p>
<p>
./bnc --conf CONFIG.bnc --key proxyPort 8001 --key rnxIntr "1 day"
</p>

<p><a name="limits"><h3>4. Limitations</h3></p>
<ul>
<li>
In Qt-based desktop environments (like KDE) on Unix/Linux platforms it may happen that you experience a crash of BNC at startup even when running the program in the background using the '-nw' option. This is a known bug most likely resulting from an incompatibility of Qt libraries in the environment and in BNC. Entering the command 'unset SESSION_MANAGER' before running BNC may help as a work-around.
</li>

<li>
Using RTCM Version 3 to produce RINEX files, BNC will properly handle most message types. However, when handling message types 1001, 1003, 1009 and 1011 where the ambiguity field is not set, the output will be no valid RINEX. All values will be stored modulo 299792.458 (speed of light).
</li>
<li>
Using RTCM Version 2, BNC will only handle message types 18 and 19 or 20 and 21 together with position and the antenna offset information carried in types 3 and 22. Note that processing carrier phase corrections and pseudo-range corrections contained in message types 20 and 21 needs access to Broadcast Ephemeris. Hence, whenever dealing with message types 20 and 21, make sure that Broadcast Ephemeris become available for BNC through also retrieving at least one RTCM Version 3 stream carrying message types 1019 (GPS ephemeris) and 1020 (GLONASS ephemeris).
</li>
<li>
BNC's 'Get Table' function only shows the STR records of a source-table. You can use an Internet browser to download the full source-table contents of any NTRIP Broadcaster by simply entering its URL in the form of <u>http://host:port</u>. Data field number 8 in the NET records may provide information about where to register for an NTRIP Broadcaster account.
</li>
<li>
EUREF as well as IGS adhere to an open data policy. Streams are made available through NTRIP Broadcasters at <u>www.euref-ip.net</u>, <u>www.igs-ip.net</u>, <u>products.igs-ip.net</u>, and <u>mgex.igs-ip.net</u> free of charge to anyone for any purpose. There is no indication up until now how many users will need to be supported simultaneously. The given situation may develop in such a way that it might become difficult to serve all registered users at the same times. In cases where limited resources on the NTRIP Broadcaster side (software restrictions, bandwidth limitation etc.) dictates, first priority in stream provision will be given to stream providers followed by re-broadcasting activities and real-time analysis centers while access to others might be temporarily denied.
</li>
<li>
Once BNC has been started, many of its configuration options cannot be changed as long as it is stopped. See chapter 'Reread Configuration' for on-the-fly configuration exceptions.
</li>
<li>
Drag and drop of configuration file is currently not supported on Mac OS X.
</li>

</ul>

<p><a name="annex"><h3>5. Annex</h3></p>
<p>
5.1. <a href=#history>Revision History</a><br>
5.2. <a href=#rtcm>RTCM</a><br>
&nbsp; &nbsp; &nbsp; 5.2.1 NTRIP <a href=#ntrip1>Version 1</a><br>
&nbsp; &nbsp; &nbsp; 5.2.2 NTRIP <a href=#ntrip2>Version 2</a><br>
&nbsp; &nbsp; &nbsp; 5.2.3 RTCM <a href=#rtcm2>Version 2</a><br>
&nbsp; &nbsp; &nbsp; 5.2.4 RTCM <a href=#rtcm3>Version 3</a><br>
5.3. <a href=#config>Configuration Examples</a><br>
5.4. <a href=#links>Further Reading</a>
</p>

<p><a name=history><h4>5.1 Revision History</h3></p>
<table>
<tr></tr>

<tr>
<td>Dec 2006 &nbsp;</td><td>Version 1.0b &nbsp;</td>
<td>[Add] First Beta Binaries published based on Qt 4.2.3.</td>
</tr>

<tr>
<td>Jan 2007 &nbsp;</td><td>Version 1.1b &nbsp;</td>
<td>[Add] Observables C2, S1, and S2<br>[Add] Virtual reference station access<br>[Bug] RTCM2 decoder time tag fixed<br>[Mod] Small letters for public RINEX skeleton files<br>[Add] Online help through Shift+F1</td>
</tr>

<tr>
<td>Apr 2007 &nbsp;</td><td>Version 1.2b &nbsp;</td>
<td>[Bug] Output only through IP port<br>[Bug] Method 'reconnecting' now thread-save<br> [Add] ZERO decoder added<br> [Mod] Download public RINEX skeletons once per day<br> [Mod] Upgrade to Qt Version 4.2.3<br> [Mod] Replace 'system' call for RINEX script by 'QProcess'<br> [Add] HTTP Host directive for skeleton file download<br> [Add] Percent encoding for user IDs and passwords<br> [Bug] Exit execution of calling thread for RTCM3 streams<br> [Bug] Signal-slot mechanism for threads</td>
</tr>

<tr>
<td>May 2007 &nbsp;</td><td>Version 1.3 &nbsp;</td>
<td>[Add] Source code published.</td>
</tr>

<tr>
<td>Jul 2007 &nbsp;</td><td>Version 1.4 &nbsp;</td>
<td>[Bug] Skip messages from proxy server<br> [Bug] Call RINEX script through 'nohup'</td>
</tr>

<tr>
<td>Apr 2008 &nbsp;</td><td>Version 1.5 &nbsp;</td>
<td>[Add] Handle ephemeris from RTCM Version 3 streams<br> [Add] Upgrade to Qt Version 4.3.2<br> [Add] Optional RINEX v3 output<br> [Add] SBAS support<br> [Bug] RINEX skeleton download following stream outage<br> [Add] Handle ephemeris from RTIGS streams<br> [Add] Monitor stream failure/recovery and latency<br> [Mod] Redesign of main window<br> [Bug] Freezing of About window on Mac OS X<br> [Bug] Fixed problem with PRN 32 in RTCMv2 decoder<br> [Bug] Fix for Trimble 4000SSI receivers in RTCMv2 decoder<br> [Mod] Major revision of input buffer in RTCMv2 decoder</td>
</tr>

<tr>
<td>Dec 2008 &nbsp;</td><td>Version 1.6 &nbsp;</td>
<td>[Mod] Fill blank columns in RINEXv3 with 0.000<br> [Add] RTCMv3 decoder for orbit and clock corrections<br>[Add] Check RTCMv3 streams for incoming message types<br> [Add] Decode RTCMv2 message types 3, 20, 21, and 22<br> [Add] Loss of lock and lock time indicator<br> [Bug] Rounding error in RTCMv3 decoder concerning GLONASS height<br> [Mod] Accept GLONASS in RTCMv3 when transmitted first<br> [Add] Leap second 1 January 2009<br> [Add] Offline mode, read data from file<br> [Add] Output antenna descriptor, coordinates and eccentricities from RTCMv3<br> [Add] Reconfiguration on-the-fly<br> [Mod] Binary output of synchronized observations<br> [Add] Binary output of unsynchronized observations<br> [Bug] Fixed problem with joined RTCMv3 blocks</td>
</tr>

<tr>
<td>Dec 2008 &nbsp;</td><td>Version 1.6.1 &nbsp;</td>
<td>[Mod] HTTP GET when no proxy in front</td>
</tr>

<tr>
<td>Nov 2009 &nbsp;</td><td>Version 1.7 &nbsp;</td>
<td>[Bug] RINEX Navigation file format<br> [Add] Upgrade to Qt Version 4.5.2<br> [Add] Support of NTRIP v2<br> [Add] Rover support via serial port<br> [Add] Show broadcaster table from www.rtcm-ntrip.org<br> [Add] Enable/disable tab widgets<br> [Add] User defined configuration file name<br> [Mod] Switch to configuration files in ini-Format<br> [Add] Daily logfile rotation<br> [Add] Read from TCP/IP port, by-pass NTRIP transport protocol<br> [Add] Save NMEA messages coming from rover<br> [Add] Auto start<br> [Add] Drag and drop ini files<br> [Add] Read from serial port, by-pass NTRIP transport protocol<br> [Mod] Update of SSR messages following RTCM 091-2009-SC104-542<br> [Add] Read from UPD port, by-pass NTRIP transport protocol<br> [Mod] Output format of Broadcast Corrections<br> [Add] Throughput plot<br> [Add] Latency plot</td>
</tr>

<tr>
<td>Nov 2009 &nbsp;</td><td>Version 1.8 &nbsp;</td>
<td>[Mod] On-the-fly reconfiguration of latency and throughput plots</td>
</tr>

<tr>
<td>Feb 2010 &nbsp;</td><td>Version 2.0 &nbsp;</td>
<td>[Mod] Change sign of Broadcast Corrections<br> [Add] Real-time PPP option</td>
</tr>

<tr>
<td>Jun 2010 &nbsp;</td><td>Version 2.1 &nbsp;</td>
<td>[Bug] SSR GLONASS message generation<br> [Add] PPP in Post Processing mode<br> [Mod] Update of SSR messages following draft dated 2010-04-12<br> [Mod] Generating error message when observation epoch is wrong</td>
</tr>

<tr>
<td>Jul 2010 &nbsp;</td><td>Version 2.2 &nbsp;</td>
<td>[Bug] GLONASS ephemeris time</td>
</tr>

<tr>
<td>Aug 2010 &nbsp;</td><td>Version 2.3 &nbsp;</td>
<td>[Mod] Internal format for saving raw streams<br> [Bug] Outlier detection in GLONASS ambiguity resolution<br> [Mod] Format of PPP logs in logfile<br> [Bug] Complete acceleration terms for GLONASS ephemeris<br> [Bug] Handling ephemeris IOD's in PPP mode</td>
</tr>

<tr>
<td>Dec 2010 &nbsp;</td><td>Version 2.4 &nbsp;</td>
<td>[Add] Output of averaged positions when in PPP mode<br> [Mod] Use always the latest received set of Broadcast Ephemeris<br> [Add] QuickStart PPP option<br> [Mod] Improvement of data sharing efficiency among different threads<br> [Mod] Design of PPP tab section<br> [Add] Sigmas for observations and parameters<br> [Add] Stream distribution map<br> [Bug] GPS Ephemeris in RINEX v3 format</td>
</tr>

<tr>
<td>Feb 2011 &nbsp;</td><td>Version 2.5 &nbsp;</td>
<td>[Add] PPP option for sync of clock observations and corrections<br> [Add] Drafted RTCMv3 Galileo ephemeris messages 1045<br> [Add] Drafted RTCMv3 Multiple Signal Messages<br> [Add] Optional specification of sigmas for coordinates and troposphere in PPP<br> [Add] Include Galileo in SPP<br> [Add] Include Galileo observations in output via IP port<br> [Add] Include Galileo observations in output via RINEXv3 files<br> [Mod] Interface format for feeding a real-time engine with observations<br> [Add] Correct observations for antenna phase center offsets<br> [Add] Combine orbit/clock correction streams<br> [Add] Specify corrections mountpoint in PPP tab</td>
</tr>

<tr>
<td>Apr 2011 &nbsp;</td><td>Version 2.6 &nbsp;</td>
<td>[Add] Complete integration of BNS in BNC<br> [Add] SP3 and Clock RINEX output<br> [Add] PPP in Post Processing Mode<br> [Add] Some RINEX editing & QC functionality<br> [Add] Threshold for orbit outliers in combination solution<br> [Add] Real-time engine becomes orbit/clock server instead of client<br> [Mod] 'EOE' added to orbit/clock stream from engine<br> [Add] Correction for antenna eccentricities<br> [Add] Quick start mode for PPP<br> [Mod] Design of format for feeding engine changed to follow RINEX v3<br> [Mod] Implementation of SSR message encoding modified according to standard<br> [Add] SSL/TLS Support of NTRIP Version 2<br> [Mod] Switch to Qt version 4.7.3<br> [Add] RINEX editing, concatenation and quality check<br> [Add] Reading all configuration options from command line<br> [Mod] RTCMv3 Galileo Broadcast Ephemeris message 1045<br> [Mod] Change default configuration file suffix from 'ini' to 'bnc'<br> [Add] Specific rates for orbits and clocks in streams and SP3/RNX files</td>
</tr>

<tr>
<td>May 2012 &nbsp;</td><td>Version 2.6 &nbsp;</td>
<td>[Add] Version 2.6 published</td>
</tr>

<tr>
<td>Sep 2012 &nbsp;</td><td>Version 2.7 &nbsp;</td>
<td>[Bug] Bug in L5 decoding fixed<br> [Bug] Bug in on-the-fly configuration fixed<br> [Add] Clock RINEX file header extended<br> [Add] Decoding/converting BeiDou and QZSS added<br> [Add] Work on RINEX v2 and v3 quality check started<br> [Mod] Source code completely re-arranged<br> [Add] QWT and QWTPOLAR graphics libraries added<br> [Add] RINEX QC through multipath analysis sky plot<br> [Add] RINEX QC through signal-to-noise ratio sky plot<br> [Add] RINEX QC through satellite availability plot<br> [Add] RINEX QC through satellite elevation plot<br> [Add RINEX QC through PDOP plot<br> [Bug] Short periodic outages in PPP time series when 'Sync Corr' set to zero<br> |Add] Log observation types contained in RTCM Version 3 MSM streams<br> [Add] Reading RINEX v3 observation type header records from RINEX skeleton files<br> [Add] Logfile for RINEX file editing and concatenation<br>[Add] Save PNG plot files on disk<br> [Mod] Plot stream distribution map from NTRIP Broadcaster source-table<br> [Add] Plot stream distribution map from selected sources<br> [Add] Version 2.7 published</td>
</tr>

<tr>
<td>Mar 2013 &nbsp;</td><td>Version 2.8 &nbsp;</td>
<td>[Mod] Started work on new version in Sep 2012<br> [Bug] Epoch special event flag in RINEX concatenation<br> [Bug] Limit RINEX v2 records length to 80 characters<br> [Bug] SSR message update interval indicator<br> [Bug] Fixed SSR stream encoding and upload<br> [Add] Concatenate RINEX v3 navigation files containing Galileo ephemeris<br> [Mod] Plausibility check of GLONASS ephemeris<br> [Add] Correcting clocks for scale factor involved in transformation<br> [Mod] Orbit/clock interpolation in SSR stream encoding and upload to caster<br> [Add] Version 2.8 published</td>
</tr>

<tr>
<td>Jul 2013 &nbsp;</td><td>Version 2.9 &nbsp;</td>
<td>[Add] Started work on new version in Mar 2013<br>[Bug] SSR stream upload buffering disabled<br>[Mod] Format for feeding a connected GNSS engine<br>[Mod] RTNET format for receiving data from a connected GNSS engine<br>[Add] Include Galileo in SPP<br>[Add] RINEX QC multipath an SNR sky plots for GLONASS and Galileo<br>[Add] Bias estimation for GLONASS clocks in PPP<br>[Add] Trace positions on GM or OSM maps<br>[Add] Version 2.9 published</td>
</tr>

<tr>
<td>Dec 2013 &nbsp;</td><td>Version 2.10 &nbsp;</td>
<td>[Add] Started work on new version in Aug 2013<br>[Bug] Clock RINEX und SP3 file generation on Windows systems<br>[Bug] Broadcast Ephemeris generation<br>[Add] Transformation ITRF2008 to NAD83 and DREF91<br>[Add] CodeBias added to RTNET stream format<br>[Bug] GPS L2 in 'Feed Engine' output<br>[Mod] Made C1 in BeiDou default observation type instead of C2<br>[Add] Feed engine output sorted per stream<br>[Add] Feed engine output file name change on-the-fly<br>[Add] 'Append files' option for RINEX observation files<br>[Mod] Broadcast Corrections ASCII file output for message 1058 &amp; 1064 modified<br>[Bug] GPS L2 phase data in RINEX2<br>[Bug] GLONASS frequency numbers<br>[Add] RTCMv3 Galileo Broadcast Ephemeris message 1046<br>[Add] Reset ambiguities in PPP when orbit/clock correction IDs change<br>[Add] Satellite clock offsets are reset in adjustment for combination when orbit/clock correction IDs change<br>[Add] Version 2.10 published</td>
</tr>

<tr>
<td>Sep 2014 &nbsp;</td><td>Version 2.11 &nbsp;</td>
<td>[Add] Started work on new version in Dec 2013<br>[Mod] SIRGAS transformation parameters adjusted<br>[Mod] Antex file updated<br>[Mod] RTCM SSR messages updated<br>[Bug] GLONASS code biases<br>[Mod] Maximum number of GNSS observations increased<br>[Mod] Loss of lock handling changed<br>[Add] Raw stream output through TCP/IP port<br>[Add] Version 2.11.0 published</td>
</tr>

<tr>
<td>Sep 2014 &nbsp;</td><td>Version 2.12 &nbsp;</td><td>
[Add] Started work on new version in Sep 2014<br>
[Mod] RINEX file concatenation<br>[Add] Observation code selection in RINEX file editing<br>
[Mod] Routine handling of data input and output in RINEX format re-written<br>
[Mod] QC routines re-written with the goal of handling all signal types<br>
[Add] Machine-readable output of RINEX QC<br>
[Add] Additionl PPP client for parallel processing of an arbitrary number of stations in separate threads<br>
[Add] PPP processing of any number of linear combinations of GNSS measurements selected by user<br>
[Add] Decoding RTCM SSR phase bias messages<br>
[Add] Decoding RTCM SSR ionospheric model messages, single-layer model for total electron content<br>
[Add] RTCMv3 QZSS Broadcast Ephemeris message 1044<br>
[Add] Handle old-fashioned SNR values in RINEX<br>
[Mod] SNR and MP visualization depending on RINEX observation attribute<br>
[Bug] Saastamoinen tropospheric correction for very high elevation receivers<br>
[Add] Comparison of SP3 files<br>
[Add] RTCMv3 SBAS Broadcast Ephemeris message 1043<br>
[Add] RTCMv3 BeiDou Broadcast Ephemeris message 63, tentative<br>
[Bug] VRS support in sending NMEA in Auto/Manual mode to NTRIP Broadcaster<br>
[Add] Forwarding NMEA GNGGA to NTRIP Broadcaster<br>
[Bug] Stream failure/recovery reports<br>
</td>
</tr>

</table>
</p>

<p><a name="rtcm"><h4>5.2. RTCM</h4></p>

<p>
The Radio Technical Commission for Maritime Services (RTCM) is an international non-profit scientific, professional and educational organization. Special Committees provide a forum in which governmental and non-governmental members work together to develop technical standards and consensus recommendations in regard to issues of particular concern. RTCM is engaged in the development of international standards for maritime radionavigation and radiocommunication systems. The output documents and reports prepared by RTCM Committees are published as RTCM Recommended Standards. Topics concerning Differential Global Navigation Satellite Systems (DGNSS) are handled by the Special Committee SC 104.
<p>
Personal copies of RTCM Recommended Standards can be ordered through <u>http://www.rtcm.org/orderinfo.php</u>.
</p>

<p><a name="ntrip1"><h4>5.2.1 NTRIP Version 1</h4></p>

<p>
'Networked Transport of RTCM via Internet Protocol' Version 1.0 (NTRIP) stands for an application-level protocol streaming Global Navigation Satellite System (GNSS) data over the Internet. NTRIP is a generic, stateless protocol based on the Hypertext Transfer Protocol HTTP/1.1. The HTTP objects are enhanced to GNSS data streams.
</p>

<p>
NTRIP Version 1 is an RTCM standard designed for disseminating differential correction data (e.g. in the RTCM-104 format) or other kinds of GNSS streaming data to stationary or mobile users over the Internet, allowing simultaneous PC, Laptop, PDA, or receiver connections to a broadcasting host. NTRIP supports wireless Internet access through Mobile IP Networks like GSM, GPRS, EDGE, or UMTS.
</p>

<p>
NTRIP is implemented in three system software components: NTRIP Clients, NTRIP Servers and NTRIP Broadcasters. The NTRIP Broadcaster is the actual HTTP server program whereas NTRIP Client and NTRIP Server are acting as HTTP clients.
</p>

<p>
NTRIP is an open none-proprietary protocol. Major characteristics of NTRIP's dissemination technique are:
<ul>
<li>Based on the popular HTTP streaming standard; comparatively easy to implement when having limited client and server platform resources available;</li>
<li>Application not limited to one particular plain or coded stream content; ability to distribute any kind of GNSS data;</li>
<li>Potential to support mass usage; disseminating hundreds of streams simultaneously for thousands of users possible when applying modified Internet Radio broadcasting software;</li>
<li>Considering security needs; stream providers and users don't necessarily get into contact, streams often not blocked by firewalls or proxy servers protecting Local Area Networks;</li>
<li>Enables streaming over mobile IP networks because of using TCP/IP.</li>
</ul>
</p>

<p>
The NTRIP Broadcaster maintains a source-table containing information on available NTRIP streams, networks of NTRIP streams and NTRIP Broadcasters. The source-table is sent to an NTRIP Client on request. Source-table records are dedicated to one of the following: Data Streams (record type STR), Casters (record type CAS), or Networks of streams (record type NET).
</p>

<p>
Source-table records of type STR contain the following data fields: 'mountpoint', 'identifier', 'format', 'format-details', 'carrier', 'nav-system', 'network', 'country', 'latitude', 'longitude', 'nmea', 'solution', 'generator', 'compr-encryp', 'authentication', 'fee', 'bitrate', 'misc'.
</p>
<p>
Source-table records of type NET contain the following data fields: 'identifiey', 'operator', 'authentication', 'fee', 'web-net', 'web-str', 'web-reg', 'misc'.
</p>
<p>
Source-table records of type CAS contain the following data fields: 'host', 'port', 'identifier', 'operator', 'nmea', 'country', 'latitude', 'longitude', 'misc'.
</p>

<p><a name="ntrip2"><h4>5.2.2 NTRIP Version 2</h4></p>

<p>
The major changes of NTRIP Version 2 compared to Version 1.0 are:
</p>

<ul>
<li>Cleared and fixed design problems and HTTP protocol violations;</li>
<li>Replaced non standard directives;</li>
<li>Chunked transfer encoding;</li>
<li>Improvements in header records;</li>
<li>Source-table filtering;</li>
<li>RTSP communication.</li>
</ul>

<p>NTRIP Version 2 allows to either communicating in TCP/IP mode or in RTSP/RTP mode or in UDP mode whereas Version 1 is limited to TCP/IP only. It furthermore allows using the Transport Layer Security (TLS) and its predecessor, Secure Sockets Layer (SSL) cryptographic protocols for secure NTRIP communication over the Internet.
</p>

<p><a name="rtcm2"><h4>5.2.3 RTCM Version 2</h4></p>
<p>
Transmitting GNSS carrier phase data can be done through RTCM Version 2 messages. Please note that only RTCM Version 2.2 and 2.3 streams may include GLONASS data. Messages that may be of interest here are:
</p>

<ul>
<li>
Type 1 message is the range correction message and is the primary message in code-phase differential positioning (DGPS). It is computed in the base receiver by computing the error in the range measurement for each tracked SV.
</li>
<li>
Type 2 message is automatically generated when a new set of satellite ephemeris is downloaded to the base receiver. It is the computed difference between the old ephemeris and the new ephemeris. Type 2 messages are used when the base station is transmitting Type 1 messages.
</li>
<li>
Type 3 and 22 messages are the base station position and the antenna offset. Type 3 and 22 are used in RTK processing to perform antenna reduction.
</li>
<li>
Type 6 message is a null frame filler message that is provided for data links that require continuous transmission of data, even if there are no corrections to send. As many Type 6 messages are sent as required to fill in the gap between two correction messages (type 1). Message 6 is not sent in burst mode.
</li>
<li>
Type 9 message serves the same purpose as Type 1, but does not require a complete satellite set. As a result, Type 9 messages require a more stable clock than a station transmitting Type 1 's, because the satellite corrections have different time references.
</li>
<li>
Type 16 message is simply a text message entered by the user that is transmitted from the base station to the rover. It is used with code-phase differential.
</li>
<li>
Type 18 and 20 messages are RTK uncorrected carrier phase data and carrier phase corrections.
</li>
<li>
Type 19 and 21 messages are the uncorrected pseudo-range measurements and pseudo-range corrections used in RTK.
</li>
<li>
Type 23 message provides the information on the antenna type used on the reference station.
</li>
<li>
Type 24 message carries the coordinates of the installed antenna's ARP in the GNSS coordinate system coordinates.
</li>
</ul>

<p><a name="rtcm3"><h4>5.2.4 RTCM Version 3</h4></p>
<p>
RTCM Version 3 has been developed as a more efficient alternative to RTCM Version 2. Service providers and vendors have asked for a standard that would be more efficient, easy to use, and more easily adaptable to new situations. The main complaint was that the Version 2 parity scheme was wasteful of bandwidth. Another complaint was that the parity is not independent from word to word. Still another was that even with so many bits devoted to parity, the actual integrity of the message was not as high as it should be. Plus, 30-bit words are awkward to handle. The Version 3 standard is intended to correct these weaknesses.
</p>
<p>
RTCM Version 3 defines a number of message types. Messages that may be of interest here are:
<ul>
<li>Type 1001, GPS L1 code and phase.</li>
<li>Type 1002, GPS L1 code and phase and ambiguities and carrier-to-noise ratio.</li>
<li>Type 1003, GPS L1 and L2 code and phase.</li>
<li>Type 1004, GPS L1 and L2 code and phase and ambiguities and carrier-to-noise ratio.</li>
<li>Type 1005, Station coordinates XYZ for antenna reference point.</li>
<li>Type 1006, Station coordinates XYZ for antenna reference point and antenna height.</li>
<li>Type 1007, Antenna descriptor and ID.</li>
<li>Type 1008, Antenna serial number.</li>
<li>Type 1009, GLONASS L1 code and phase.</li>
<li>Type 1010, GLONASS L1 code and phase and ambiguities and carrier-to-noise ratio.</li>
<li>Type 1011, GLONASS L1 and L2 code and phase.</li>
<li>Type 1012, GLONASS L1 and L2 code and phase and ambiguities and carrier-to-noise ratio.</li>
<li>Type 1013, Modified julian date, leap second, configured message types and interval.</li>
<li>Type 1014 and 1017, Network RTK (MAK) messages.</li>
<li>Type 1019, GPS ephemeris.</li>
<li>Type 1020, GLONASS ephemeris.</li>
<li>Type 1043, SBAS ephemeris.</li>
<li>Type 1044, QZSS ephemeris.</li>
<li>Type 1045, Galileo F/NAV ephemeris.</li>
<li>Type 1046, Galileo I/NAV ephemeris.</li>
<li>Type   63, BeiDou ephemeris, tentative.</li>
<li>Type 4088 and 4095, Proprietary messages.
</li>
</ul>
</p>

<p>
The following are so-called 'State Space Representation' (SSR) messages:
<ul>
<li>Type 1057, GPS orbit corrections to Broadcast Ephemeris</li>
<li>Type 1058, GPS clock corrections to Broadcast Ephemeris</li>
<li>Type 1059, GPS code biases</li>
<li>Type 1060, Combined orbit and clock corrections to GPS Broadcast Ephemeris</li>
<li>Type 1061, GPS User Range Accuracy (URA)</li>
<li>Type 1062, High-rate GPS clock corrections to Broadcast Ephemeris<br><br></li>

<li>Type 1063, GLONASS orbit corrections to Broadcast Ephemeris</li>
<li>Type 1064, GLONASS clock corrections to Broadcast Ephemeris</li>
<li>Type 1065, GLONASS code biases</li>
<li>Type 1066, Combined orbit and clock corrections to GLONASS Broadcast Ephemeris</li>
<li>Type 1067, GLONASS User Range Accuracy (URA)</li>
<li>Type 1068, High-rate GLONASS clock corrections to Broadcast Ephemeris<br><br></li>

<li>Type 1240, Galileo orbit corrections to Broadcast Ephemeris</li>
<li>Type 1241, Galileo clock corrections to Broadcast Ephemeris</li>
<li>Type 1242, Galileo code biases</li>
<li>Type 1243, Combined orbit and clock corrections to Galileo Broadcast Ephemeris</li>
<li>Type 1244, Galileo User Range Accuracy (URA)</li>
<li>Type 1245, High-rate Galileo clock corrections to Broadcast Ephemeris<br><br></li>

<li>Type 1246, QZSS orbit corrections to Broadcast Ephemeris</li>
<li>Type 1247, QZSS clock corrections to Broadcast Ephemeris</li>
<li>Type 1248, QZSS code biases</li>
<li>Type 1249, Combined orbit and clock corrections to QZSS Broadcast Ephemeris</li>
<li>Type 1250, QZSS User Range Accuracy (URA)</li>
<li>Type 1251, High-rate QZSS clock corrections to Broadcast Ephemeris<br><br></li>

<li>Type 1252, SBAS orbit corrections to Broadcast Ephemeris</li>
<li>Type 1253, SBAS clock corrections to Broadcast Ephemeris</li>
<li>Type 1254, SBAS code biases</li>
<li>Type 1255, Combined orbit and clock corrections to SBAS Broadcast Ephemeris</li>
<li>Type 1256, SBAS User Range Accuracy (URA)</li>
<li>Type 1257, High-rate SBAS clock corrections to Broadcast Ephemeris<br><br></li>

<li>Type 1258, BDS orbit corrections to Broadcast Ephemeris</li>
<li>Type 1259, BDS clock corrections to Broadcast Ephemeris</li>
<li>Type 1260, BDS code biases</li>
<li>Type 1261, Combined orbit and clock corrections to BDS Broadcast Ephemeris</li>
<li>Type 1262, BDS User Range Accuracy (URA)</li>
<li>Type 1263, High-rate BDS clock corrections to Broadcast Ephemeris<br><br></li>

<li>Type 1264 SSR Ionosphere VTEC Spherical Harmonics</li>
<li>Type 1265 SSR GPS Satellite Phase Bias</li>
<li>Type 1266 SSR Satellite GLONASS Phase Bias</li>
<li>Type 1267 SSR Satellite Galileo Phase Bias</li>
<li>Type 1268 SSR Satellite QZSS Phase Bias</li>
<li>Type 1269 SSR Satellite SBAS Phase Bias</li>
<li>Type 1270 SSR Satellite BDS Phase Bias</li>
</ul>
</p>

<p>
The following are so-called 'Multiple Signal Messages' (MSM):
<ul>
<li>Type 1071, Compact GPS pseudo-ranges</li>
<li>Type 1072, Compact GPS carrier phases</li>
<li>Type 1073, Compact GPS pseudo-ranges and carrier phases</li>
<li>Type 1074, Full GPS pseudo-ranges and carrier phases plus signal strength</li>
<li>Type 1075, Full GPS pseudo-ranges, carrier phases, Doppler and signal strength</li>
<li>Type 1076, Full GPS pseudo-ranges and carrier phases plus signal strength (high resolution)</li>
<li>Type 1077, Full GPS pseudo-ranges, carrier phases, Doppler and signal strength (high resolution)<br><br></li>
<li>Type 1081, Compact GLONASS pseudo-ranges</li>
<li>Type 1082, Compact GLONASS carrier phases</li>
<li>Type 1083, Compact GLONASS pseudo-ranges and carrier phases</li>
<li>Type 1084, Full GLONASS pseudo-ranges and carrier phases plus signal strength</li>
<li>Type 1085, Full GLONASS pseudo-ranges, carrier phases, Doppler and signal strength</li>
<li>Type 1086, Full GLONASS pseudo-ranges and carrier phases plus signal strength (high resolution)</li>
<li>Type 1087, Full GLONASS pseudo-ranges, carrier phases, Doppler and signal strength (high resolution)<br><br></li>
<li>Type 1091, Compact Galileo pseudo-ranges</li>
<li>Type 1092, Compact Galileo carrier phases</li>
<li>Type 1093, Compact Galileo pseudo-ranges and carrier phases</li>
<li>Type 1094, Full Galileo pseudo-ranges and carrier phases plus signal strength</li>
<li>Type 1095, Full Galileo pseudo-ranges, carrier phases, Doppler and signal strength</li>
<li>Type 1096, Full Galileo pseudo-ranges and carrier phases plus signal strength (high resolution)</li>
<li>Type 1097, Full Galileo pseudo-ranges, carrier phases, Doppler and signal strength (high resolution)<br><br></li>
<li>Type 1121, Compact BeiDou pseudo-ranges</li>
<li>Type 1122, Compact BeiDou carrier phases</li>
<li>Type 1123, Compact BeiDou pseudo-ranges and carrier phases</li>
<li>Type 1124, Full BeiDou pseudo-ranges and carrier phases plus signal strength</li>
<li>Type 1125, Full BeiDou pseudo-ranges, carrier phases, Doppler and signal strength</li>
<li>Type 1126, Full BeiDou pseudo-ranges and carrier phases plus signal strength (high resolution)</li>
<li>Type 1127, Full BeiDou pseudo-ranges, carrier phases, Doppler and signal strength (high resolution)<br><br></li>
<li>Type 1111, Compact QZSS pseudo-ranges</li>
<li>Type 1112, Compact QZSS carrier phases</li>
<li>Type 1113, Compact QZSS pseudo-ranges and carrier phases</li>
<li>Type 1114, Full QZSS pseudo-ranges and carrier phases plus signal strength</li>
<li>Type 1115, Full QZSS pseudo-ranges, carrier phases, Doppler and signal strength</li>
<li>Type 1116, Full QZSS pseudo-ranges and carrier phases plus signal strength (high resolution)</li>
<li>Type 1117, Full QZSS pseudo-ranges, carrier phases, Doppler and signal strength (high resolution)<br><br></li>

</ul>
</p>

<p>
The following are proposed 'Multiple Signal Messages' (MSM) under discussion for standardization:
<ul>
<li>Type 1101, Compact SBAS pseudo-ranges</li>
<li>Type 1102, Compact SBAS carrier phases</li>
<li>Type 1103, Compact SBAS pseudo-ranges and carrier phases</li>
<li>Type 1104, Full SBAS pseudo-ranges and carrier phases plus signal strength</li>
<li>Type 1105, Full SBAS pseudo-ranges, carrier phases, Doppler and signal strength</li>
<li>Type 1106, Full SBAS pseudo-ranges and carrier phases plus signal strength (high resolution)</li>
<li>Type 1107, Full SBAS pseudo-ranges, carrier phases, Doppler and signal strength (high resolution)<br><br></li>
</ul>
</p>

<p><a name="config"><h4>5.3. Configuration Examples</h4></p>

<p>
BNC comes with a number of configuration examples which can be used on all operating systems. Copy the complete directory 'Example_Configs' which comes with the software including sub-directories 'Input' and 'Output' to your disc. There are two ways to start BNC using one of the example configurations:
</p>
<ul>
<li>
On graphical systems (except for Mac systems) you may use the computer mouse to 'drag' a configuration file icon and 'drop' it on top of BNC's program icon.
</li>
<li>
On non-graphical systems you may start BNC using a command line with the following option for a configuration file (example for Windows systems):<br>
bnc.exe --conf &lt;configFileName&gt; --nw
</li>
</ul>
<p>
Although it's not a must, we suggest that you always create BNC configuration files with the file name extension '.bnc'.
</p>

<p>
We furthermore suggest for convenience reasons that you configure your system to automatically start BNC when you double-click a file with the file name extension '.bnc'. The following describes what to do on Windows systems to associate the BNC program to such configuration files:
</p>

<ol type=b>
<li>Right-click a file that has the extension '.bnc' and then click 'Open'. If the 'Open' command is not available, click 'Open With' or double-click the file.</li>
<li>Windows displays a dialog box that says that the system cannot open this file. The dialog box offers several options for selecting a program.</li>
<li>Click 'Select the program from a list', and then click 'OK'.</li>
<li>The 'Open With' dialog box is displayed. Click 'Browse', locate and then click the BNC program, and then click 'Open'.</li>
<li>Click to select the 'Always use the selected program to open this kind of file' check box.</li>
<li>Click 'OK'.</li>
</ol>

<p>
Some of the presented example configuration files contain a user ID 'Example' with a password 'Configs' for accessing a few GNSS streams from public Ntrip Broadcasters. This generic account is arranged for convenience reasons only. Please be so kind as to replace the generic account details as well as the place holders 'User' and 'Pass' by the personal user ID and password you receive following an online registration through <u>http://register.rtcm-ntrip.org</u>.
</p>

<p>
Note that the account for an Ntrip Broadcaster is usually limited to pulling a specified maximum number of streams at the same time. As running some of the example configurations requires pulling several streams, it is suggested to make sure that you don't exceed your account's limits.
</p>

<p>
Make also sure that sub-directories 'Input' and 'Output' which are part of the example configurations exist on your system or adjust the affected example configuration options according to your needs.
</p>

<p>
Some BNC options require antenna phase center variations as made available from IGS through so-called ANTEX files at <u>ftp://igs.org/pub/station/general</u>. An example ANTEX file 'igs08.atx' is part of the BNC package for convenience.
</p>

<p>
The example configurations assume that no proxy protects your BNC host. Should a proxy be operated in front of BNC then you need to introduce its IP and port in the 'Network' tab.
</p>

<p>
You should be able to run all configuration examples without changing their options. However, configurations 'Upload.bnc' and 'UploadPPP.bnc' are exceptions because they require an input stream from a connected network engine.
</p>
<ol type=b>

<li>File 'RinexObs.bnc'<br>
The purpose of this configuration is showing how to convert RTCM streams to RINEX Observation files. The configuration pulls streams from Ntrip Broadcasters using Ntrip version 1 to generate 15min 1Hz RINEX Version 3 Observation files. See http://igs.bkg.bund.de/ntrip/observations for observation stream resources.
</li><br>

<li>File 'RinexEph.bnc'<br>
The purpose of this configuration is showing how to convert a RTCM stream carrying navigation messages to a RINEX Navigation files. The configuration pulls an RTCM Version 3 stream with Broadcast Ephemeris coming from the real-time EUREF and IGS networks. It saves hourly RINEX Version 3 Navigation files. See http://igs.bkg.bund.de/ntrip/ephemeris for further real-time Broadcast Ephemeris resources.
</li><br>

<li>File 'BrdcCorr.bnc'<br>
The purpose of this configuration is to save Broadcast Corrections from RTCM SSR messages in a plain ASCII format as hourly files. See http://igs.bkg.bund.de/ntrip/orbits for further real-time IGS or EUREF orbit/clock products.
</li><br>

<li>File 'RinexConcat.bnc'<br>
The purpose of this configuration is to concatenate RINEX Version 3 files to produce a concatenated file and edit the marker name in the file header. The sampling interval is set to 30 seconds. See section 'RINEX Editing & QC' in the documentation for examples on how to call BNC from command line in 'no window' mode for RINEX file editing, concatenation and quality checks.
</li><br>

<li>File 'RinexQC.bnc'<br>
The purpose of this configuration is to check the quality of a RINEX Version 3 file through a multipath analysis. The results is saved in disk in terms of a plot in PNG format. See section 'RINEX Editing & QC' in the documentation for examples on how to call BNC from command line in 'no window' mode for RINEX file editing, concatenation and quality checks.
</li><br>

<li>File 'RTK.bnc'<br>
The purpose of this configuration is to feed a serial connected receiver with observations from a reference station for conventional RTK. The stream is scanned for RTCM messages. Message type numbers and latencies of incoming observation are reported in BNC's logfile.
</li><br>

<li>File 'FeedEngine.bnc'<br>
The purpose of this configuration is to feed a real-time GNSS engine with observations from a remote reference stations. The configuration pulls a single stream from an NTRIP Broadcasters. It would of course be possible to pull several streams from different casters. Incoming observations are decoded, synchronized and output through a local IP port and saved into a file. Failure and recovery thresholds are specified to inform about outages.
</li><br>

<li>File 'PPP.bnc'<br>
The purpose of this configuration is Precise Point Positioning from observations of a rover receiver. The configuration reads RTCM Version 3 observations, a Broadcast Ephemeris stream and a stream with Broadcast Corrections. Positions are saved in the logfile.
</li><br>

<li>File 'PPPQuickStart.bnc'<br>
The purpose of this configuration is Precise Point Positioning in Quick-Start mode from observations of a static receiver with precisely known position. The configuration reads RTCM Version 3 observations, Broadcast Corrections and a Broadcast Ephemeris stream. Positions are saved in NMEA format on disc. Positions are also output through IP port for real-time visualization with tools like RTKPLOT. Positions are also saved in the logfile.
</li><br>

<li>File 'PPPPostProc.bnc'<br>
The purpose of this configuration is Precise Point Positioning in Post Processing mode. BNC reads a RINEX Observation and a RINEX Version 3 Navigation files and a Broadcast Corrections files. PPP processing options are set to support the Quick-Start mode. The output is saved in a specific Post Processing logfile and contains the coordinates derived over time following the implemented PPP filter algorithm.
</li><br>

<li>File 'PPPGoogleMaps.bnc'<br>
The purpose of this configuration is to track BNC's point positioning solution using Google Maps or Open StreetMap as background. BNC reads a RINEX Observation file and a RINEX Navigation file to carry out a 'Standard Point Positioning' solution in post-processing mode. Although this is not a real-time application it requires the BNC host to be connected to the Internet. Specify a computation speed, then hit button 'Open Map' to open the track map, then hit 'Start' to visualize receiver positions on top of GM/OSM maps.
</li><br>

<li>File 'SPPQuickStartGal.bnc'<br>
The purpose of this configuration is Single Point Positioning in Quick-Start mode from observations of a static receiver with precisely known position. The configuration uses GPS, GLONASS and Galileo observations and a Broadcast Ephemeris stream.
</li><br>

<li>File 'Sp3.bnc'<br>
The purpose of this configuration is to produce SP3 files from a Broadcast Ephemeris stream and a Broadcast Corrections stream. The Broadcast Corrections stream is formally introduced in BNC's 'Combine Corrections' table. Note that producing SP3 requires an ANTEX file because SP3 file contents should be referred to CoM.
</li><br>

<li>File 'Sp3ETRF2000PPP.bnc'<br>
The purpose of this configuration is to produce SP3 files from a Broadcast Ephemeris stream and a stream carrying ETRF2000 Broadcast Corrections. The Broadcast Corrections stream is formally introduced in BNC's 'Combine Corrections' table. This leads to an SP3 file containing orbits referred also to ETRF2000. Pulling in addition observations from a reference station at precisely known ETRF2000 position allows comparing an 'INTERNAL' PPP solution with ETRF2000 reference coordinates.
</li><br>

<li>File 'Upload.bnc'<br>
The purpose of this configuration is to upload orbits and clocks from a real-time GNSS engine to an NTRIP Broadcaster. For that the configuration reads precise orbits and clocks in RTNET format. It also reads a stream carrying Broadcast Ephemeris. BNC converts the orbits and clocks into Broadcast Corrections and encodes them in RTCM Version 3 SSR messages to upload them to an NTRIP Broadcaster. The Broadcast Corrections stream is referred to satellite Antenna Phase Center (APC) and IGS08. Orbits are saved on disk in SP3 format and clocks in Clock RINEX format.
</li><br>

<li>File 'UploadPPP.bnc'<br>
This configuration equals the 'Upload.bnc' configuration. However, the Broadcast Corrections are in addition used for an 'INTERNAL' PPP solution based on observations from a static reference station with known precise coordinates. This allows a continuous quality check of the Broadcast Corrections through observing coordinate displacements.
</li><br>

<li>File 'Combi.bnc'<br>
The purpose of this configuration is to pull several streams carrying Broadcast Corrections and a Broadcast Ephemeris stream from an NTRIP Broadcaster to produce a combined Broadcast Corrections stream. BNC encodes the combination product in RTCM Version 3 SSR messages and uploads that to an Ntrip Broadcaster. The Broadcast Corrections stream is not referred to satellite Center of Mass (CoM). It is referred to IGS08. Orbits are saved in SP3 format and clocks in Clock RINEX format.
</li><br>

<li>File 'CombiPPP.bnc'<br>
This configuration equals the 'Combi.bnc' configuration. However, the combined Broadcast Corrections are in addition used for an 'INTERNAL' PPP solutions based on observations from a static reference station with known precise coordinates. This allows a continuous quality check of the combination product through observing coordinate displacements.
</li><br>

<li>File 'UploadEph.bnc'<br>
The purpose of this configuration is to pull a number of streams from reference stations to get hold of contained Broadcast Ephemeris messages. These are encoded then in a RTCM Version 3 stream which only provides Broadcast Ephemeris with an update rate of 5 seconds.
</li><br>

<li>File 'Empty.bnc'<br>
The purpose of this example is to provide an empty configuration file for BNC which only contains the default settings.
</li>

</ol>
</p>

<p>
The following table's left column is a list of options as contained in BNC's configuration files (default: BNC.bnc).
</p>
<table>
<tr></tr>
<tr><td><b>Option</b></td><td><b>Affiliation</b></td></tr>
<tr><td>[General]</td><td>Settings: Group</td></tr>
<tr><td>startTab=</td><td>Internal: Top tab index</td></tr>
<tr><td>statusTab=</td><td>Internal: Bottom tab index</td></tr>
<tr><td>font=</td><td>Internal: Used font</td></tr>
<tr><td>casterUrlList=</td><td>Internal: Visited URLs</td></tr>
<tr><td>mountPoints=</td><td>Add Streams: broadcaster:port/mountpoint</td></tr>
<tr><td>ntripVersion=</td><td>Add Stream: NTRIP Version</td></tr>

<tr><td>proxyHost=</td><td>Network: Proxy host</td></tr>
<tr><td>proxyPort=</td><td>Network: Proxy port</td></tr>
<tr><td>sslCaCertPath=</td><td>Network: Path to SSL certificates</td></tr>
<tr><td>ignoreSslErrors=</td><td>Network: Ignore ssl authorization errors</td></tr>

<tr><td>logFile=</td><td>General: Logfile (full path)</td></tr>
<tr><td>rnxAppend=</td><td>General: Append files</td></tr>
<tr><td>onTheFlyInterval=</td><td>General: Reread configuration</td></tr>
<tr><td>autoStart=</td><td>General: Auto start</td></tr>
<tr><td>rawOutFile=</td><td>General: Raw output file (full path)</td></tr>

<tr><td>rnxPath=</td><td>RINEX Observations: Directory</td></tr>
<tr><td>rnxIntr=</td><td>RINEX Observations: Interval</td></tr>
<tr><td>rnxSample=</td><td>RINEX Observations: Sampling</td></tr>
<tr><td>rnxSkel=</td><td>RINEX Observations: Skeleton extension</td></tr>
<tr><td>rnxScript=</td><td>RINEX Observations: Uplod script</td></tr>
<tr><td>rnxV3=</td><td>RINEX Observation: Version 3</td></tr>

<tr><td>ephPath=</td><td>RINEX Ephemeris: Directory</td></tr>
<tr><td>ephIntr=</td><td>RINEX Ephemeris: Interval</td></tr>
<tr><td>outEphPort=</td><td>RINEX Ephemeris: Port</td></tr>
<tr><td>ephV3=</td><td>RINEX Ephemeris: Version 3</td></tr>

<tr><td>corrPath=</td><td>Broadcast Corrections: Directory, ASCII </td></tr>
<tr><td>corrIntr=</td><td>Broadcast Corrections: Interval</td></tr>
<tr><td>corrPort=</td><td>Broadcast Corrections: Port</td></tr>
<tr><td>corrTime=</td><td>Broadcast Corrections: Wait for full corr epoch</td></tr>

<tr><td>outPort=</td><td>Feed Engine: Port</td></tr>
<tr><td>waitTime=</td><td>Feed Engine: Wait for full obs epoch</td></tr>
<tr><td>binSampl=</td><td>Feed Engine: Sampling</td></tr>
<tr><td>outFile=</td><td>Feed Engine: File (full path)</td></tr>
<tr><td>outUPort=</td><td>Feed Engine: Port (unsynchronized)</td></tr>

<tr><td>serialMountPoint=</td><td>Serial Output: Mountpoint</td></tr>
<tr><td>serialPortName=</td><td>Serial Output: Port name</td></tr>
<tr><td>serialBaudRate=</td><td>Serial Output: Baud rate</td></tr>
<tr><td>serialFlowControl=</td><td>Serial Output: Flow control</td></tr>
<tr><td>serialDataBits=</td><td>Serial Output: Data bits</td></tr>
<tr><td>serialParity=</td><td>Serial Output: Parity</td></tr>
<tr><td>serialStopBits=</td><td>Serial Output: Stop bits</td></tr>
<tr><td>serialAutoNMEA=</td><td>Serial Output: NMEA</td></tr>
<tr><td>serialFileNMEA=</td><td>Serial Output: NMEA file name</td></tr>
<tr><td>serialHeightNMEA=</td><td>Serial Output: Height</td></tr>

<tr><td>obsRate=</td><td>Outages: Observation rate</td></tr>
<tr><td>adviseFail=</td><td>Outages: Failure threshold</td></tr>
<tr><td>adviseReco=</td><td>Outages: Recovery threshold</td></tr>
<tr><td>adviseScript=</td><td>Outages: Script (full path)</td></tr>

<tr><td>miscMount=</td><td>Miscellaneous: Mountpoint</td></tr>
<tr><td>perfIntr=</td><td>Miscellaneous: Log latency</td></tr>
<tr><td>scanRTCM=</td><td>Miscellaneous: Scan RTCM</td></tr>

<tr><td>pppSPP=</td><td>PPP Client: PPP/SPP</td></tr>
<tr><td>pppMount=</td><td>PPP Client: Observations Mountpoint</td></tr>
<tr><td>pppCorrMount=</td><td>PPP Client: Corrections Mountpoint</td></tr>
<tr><td>pppRefCrdX=</td><td>PPP Client: X coordinate of plot origin</td></tr>
<tr><td>pppRefCrdY=</td><td>PPP Client: Y coordinate of plot origin</td></tr>
<tr><td>pppRefCrdZ=</td><td>PPP Client: Z coordinate of plot origin</td></tr>
<tr><td>pppRefdN=</td><td>PPP Client: North eccentricity</td></tr>
<tr><td>pppRefdE=</td><td>PPP Client: East eccentricity</td></tr>
<tr><td>pppRefdU=</td><td>PPP Client: Up eccentricity</td></tr>
<tr><td>nmeaFile=</td><td>PPP Client: NMEA outputfile</td></tr>
<tr><td>nmeaPort=</td><td>PPP Client: NMEA IP output port</td></tr>
<tr><td>pppPlotCoordinates=</td><td>PPP Client: Plot NEU time series</td></tr>
<tr><td>postObsFile=</td><td>PPP Client: Observations file</td></tr>
<tr><td>postNavFile=</td><td>PPP Client: Navigation file</td></tr>
<tr><td>postCorrFile=</td><td>PPP Client: Corrections file</td></tr>
<tr><td>postOutFile=</td><td>PPP Client: Output file</td></tr>
<tr><td>pppAntenna=</td><td>PPP Client: Antenna name</td></tr>
<tr><td>pppAntex=</td><td>PPP Client: Path to ANTEX file</td></tr>
<tr><td>pppUsePhase=</td><td>PPP Client: Use phase data </td></tr>
<tr><td>pppEstTropo=</td><td>PPP Client: Estimate troposphere</td></tr>
<tr><td>pppGLONASS=</td><td>PPP Client: Use GLONASS</td></tr>
<tr><td>pppGalileo=</td><td>PPP Client: Use Galileo</td></tr>
<tr><td>pppSync=</td><td>PPP Client: Sync observations and corrections</td></tr>
<tr><td>pppAverage=</td><td>PPP Client: Lenght of time window for moving average</td></tr>
<tr><td>pppQuickStart=</td><td>PPP Client: Quick-Start period</td></tr>
<tr><td>pppMaxSolGap=</td><td>PPP Client: Maximal Solution Gap</td></tr>
<tr><td>pppSigmaCode=</td><td>PPP Client: Sigma for Code observations</td></tr>
<tr><td>pppSigmaPhase=</td><td>PPP Client: Sigma for Phase observations</td></tr>
<tr><td>pppSigmaCrd0=</td><td>PPP Client: Sigma for initial XYZ coordinate</td></tr>
<tr><td>pppSigmaCrdP=</td><td>PPP Client: White noise for XYZ</td></tr>
<tr><td>pppSigmaTrp0=</td><td>PPP Client: Sigma for initial tropospheric delay</td></tr>
<tr><td>pppSigmaTrpP=</td><td>PPP Client: White noise for tropospheric delay</td></tr>
<tr><td>pppAudioResponse=</td><td>PPP Client: Threshold for audio response</td></tr>
<tr><td>mapSpeed=</td><td>PPP Client: Offline processing speed for mapping</td></tr>
<tr><td>mapWinDotColor=</td><td>PPP Client: Color of dots and cross hair on map</td></tr>
<tr><td>mapWinDotSize=</td><td>PPP Client: Size of dots on map</td></tr>
<tr><td>useOsmMap=</td><td>PPP Client: Select Google maps or OSM</td></tr>

<tr><td>reqcAction=</td><td>Reqc: Action</td></tr>
<tr><td>reqcComment=</td><td>Reqc: Additional comments</td></tr>
<tr><td>reqcEndDateTime=</td><td>Reqc: Stop time</td></tr>
<tr><td>reqcNavFile=</td><td>Reqc: Navigation file</td></tr>
<tr><td>reqcNewAntennaName=</td><td>Reqc: New antenna</td></tr>
<tr><td>reqcNewMarkerName=</td><td>Reqc: New marker</td></tr>
<tr><td>reqcNewReceiverName=</td><td>Reqc: New receiver</td></tr>
<tr><td>reqcObsFile=</td><td>Reqc: Observations file</td></tr>
<tr><td>reqcOldAntennaName=</td><td>Reqc: Old antenna</td></tr>
<tr><td>reqcOldMarkerName=</td><td>Reqc: Old marker</td></tr>
<tr><td>reqcOldReceiverName=</td><td>Reqc: Old receiver</td></tr>
<tr><td>reqcOutLogFile=</td><td>Reqc: Output logfile</td></tr>
<tr><td>reqcOutNavFile=</td><td>Reqc: Output navigation file</td></tr>
<tr><td>reqcOutObsFile=</td><td>Reqc: Output observations file</td></tr>
<tr><td>reqcPlotDir</td><td>Reqc: QC plots directory</td></tr>
<tr><td>reqcRnxVersion=</td><td>Reqc: RINEX version</td></tr>
<tr><td>reqcRunBy=</td><td>Reqc: Operators name</td></tr>
<tr><td>reqcSampling=</td><td>Reqc: RINEX sampling</td></tr>
<tr><td>reqcSkyPlotSystem=</td><td>Reqc: GNSS system specification</td></tr>
<tr><td>reqcStartDateTime=</td><td>Reqc: Start time</td></tr>

<tr><td>combineStreams=</td><td>Combination: List of correction streams</td></tr>
<tr><td>cmbMethod=Filter</td><td>Combination: Approach</td></tr>
<tr><td>cmbMaxres=</td><td>Combination: Clock outlier threshold</td></tr>
<tr><td>cmbSampl=</td><td>Combination: Orbit and clock sampling</td></tr>

<tr><td>uploadIntr=</td><td>Upload Corrections: File interval</td></tr>
<tr><td>uploadMountpointsOut=</td><td>Upload Corrections: Upload streams</td></tr>
<tr><td>uploadSamplClkRnx=</td><td>Upload Corrections: Clock sampling</td></tr>
<tr><td>uploadSamplSp3=</td><td>Upload Corrections: Orbit sampling</td></tr>
<tr><td>uploadSamplRtcmEphCorr=</td><td>Upload Corrections: Orbit sampling</td></tr>
<tr><td>trafo_dx=</td><td>Upload Corrections: Translation X</td></tr>
<tr><td>trafo_dy=</td><td>Upload Corrections: Translation Y</td></tr>
<tr><td>trafo_dz=</td><td>Upload Corrections: Translation Z</td></tr>
<tr><td>trafo_dxr=</td><td>Upload Corrections: Translation change X</td></tr>
<tr><td>trafo_dyr=</td><td>Upload Corrections: Translation change Y</td></tr>
<tr><td>trafo_dzr=</td><td>Upload Corrections: Translation change Z</td></tr>
<tr><td>trafo_ox=</td><td>Upload Corrections: Rotation X</td></tr>
<tr><td>trafo_oy=</td><td>Upload Corrections: Rotation Y</td></tr>
<tr><td>trafo_oz=</td><td>Upload Corrections: Rotation Z</td></tr>
<tr><td>trafo_oxr=</td><td>Upload Corrections: Rotation change X</td></tr>
<tr><td>trafo_oyr=</td><td>Upload Corrections: Rotation change Y</td></tr>
<tr><td>trafo_ozr=</td><td>Upload Corrections: Rotation change Z</td></tr>
<tr><td>trafo_sc=</td><td>Upload Corrections: Scale</td></tr>
<tr><td>trafo_scr=</td><td>Upload Corrections: Scale change</td></tr>
<tr><td>trafo_t0=</td><td>Upload Corrections: Reference year</td></tr>
<tr><td>uploadEphHost=</td><td>Upload Ephemeris: Host</td></tr>
<tr><td>uploadEphPort=</td><td>Upload Ephemeris: Port</td></tr>
<tr><td>uploadEphMountpoint=</td><td>Upload Ephemeris: Moutpoint</td></tr>
<tr><td>uploadEphPassword=</td><td>Upload Ephemeris: Password</td></tr>
<tr><td>uploadEphSample=</td><td>Upload Ephemeris: Sampling</td></tr>
</table>
</p>
<p>
Note that the following configuration options saved on disk can be changed/edited on-the-fly while BNC is already processing data:
</p>
<p>
<ul>
<li>'mountPoints' to change the selection of streams to be processed, see section 'Streams';</li>
<li>'waitTime' to change the 'Wait for full obs epoch' option, see section 'Feed Engine';</li>
<li>'binSampl' to change the 'Sampling' option, see section 'Feed Engine'.</li>
<li>'outFile' to change the 'File' name where synchronized observations are saved in plain ASCII format.</li>
</ul>
</p>
<p>
</p>

<p><a name="links"><h4>5.4 Further Reading</h3></p>

<table>
<tr></tr>
<tr><td><b>Links</b></td></tr>
<tr><td>NTRIP &nbsp;</td><td><u>http://igs.bkg.bund.de/ntrip/index</u></td></tr>
<tr><td>EUREF-IP NTRIP Broadcaster &nbsp;</td><td><u>http://www.euref-ip.net/home</u></td></tr>
<tr><td>IGS-IP NTRIP Broadcaster &nbsp;</td><td><u>http://www.igs-ip.net/home</u></td></tr>
<tr><td>IGS products NTRIP Broadcaster &nbsp;</td><td><u>http://products.igs-ip.net/home</u></td></tr>
<tr><td>IGS M-GEX NTRIP Broadcaster &nbsp;</td><td><u>http://mgex.igs-ip.net/home</u></td></tr>
<tr><td>IGS Central Bureau NTRIP Broadcaster &nbsp;</td><td><u>http://rt.igs.org</u></td></tr>
<tr><td>IGS Real-time Service &nbsp;</td><td><u>http://rts.igs.org</u></td></tr>
<tr><td>Distribution of IGS-IP streams &nbsp;</td><td><u>http://www.igs.oma.be/real_time/</u></td></tr>
<tr><td>Completeness and latency of IGS-IP data &nbsp;</td><td><u>http://www.igs.oma.be/highrate/</u></td></tr>
<tr><td>NTRIP Broadcaster overview &nbsp;</td><td><u>http://www.rtcm-ntrip.org/home</u></td></tr>
<tr><td>NTRIP Open Source software code &nbsp;</td><td><u>http://software.rtcm-ntrip.org</u></td></tr>
<tr><td>EUREF-IP Project &nbsp;</td><td><u>http://www.epncb.oma.be/euref_IP</u></td></tr>
<tr><td>Real-time IGS Pilot Project &nbsp;</td><td><u>http://www.rtigs.net/pilot</u></td></tr>
<tr><td>Radio Technical Commission<br>for Maritime Services &nbsp;</td><td><u>http://www.rtcm.org</u>
</table>

<br>
<table>
<tr><td><b>Publications</b></td></tr>

<tr><td>Louis H. Estey and Charles M. Meertens</td><td>TEQC: The Multi-Purpose Toolkit for GPS/GLONASS Data, GPS Solutions, Vol. 3, No. 1, pp. 42-49, 1999.</td></tr>

<tr><td>Weber, G., D. Dettmering, H. Gebhard and R. Kalafus </td><td>Networked Transport of RTCM via Internet Protocol (Ntrip), IP-Streaming for Real-Time GNSS Applications, ION GNSS 2005.</td></tr>

<tr><td>Weber, G, L. Mervart, Z. Lukes, C. Rocken and J. Dousa </td><td>Real-time Clock and Orbit Corrections for Improved Point Positioning via NTRIP, ION GNSS 2007.</td></tr>

<tr><td>Mervart, L., Z. Lukes, C. Rocken and T. Iwabuchi </td><td>Precise Point Positioning With Ambiguity Resolution in Real-Time, ION GNSS 2008.</td></tr>

<tr><td>Weber, G. and L. Mervart </td><td>The BKG Ntrip Client (BNC), Report on EUREF Symposium 2007 in London, Mitteilungen des Bundesamtes fuer Kartographie und Geodaesie, Band 42, Frankfurt, 2009.</td></tr>

<tr><td>Weber, G. and L. Mervart </td><td>Real-time Combination of GNSS Orbit and Clock Correction Streams Using a Kalman Filter Approach, ION GNSS 2010.</td></tr>

<tr><td>Huisman, L., P. Teunissen and C. Hu </td><td>GNSS Precise Point Positioning in Regional Reference Frames Using Real-time Broadcast Corrections, Journal of Applied Geodesy, Vol. 6, pp15-23, 2012.</td></tr>


</table>


